INFO:     Started server process [1458478]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:9020 (Press CTRL+C to quit)
2025-05-27 13:45:54,218 ChatBI->     INFO     收到的查询问题： 我有心脏病，应该挂什么科
2025-05-27 13:45:54,218 - ChatBI->  - INFO - 收到的查询问题： 我有心脏病，应该挂什么科
2025-05-27 13:45:54,928 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-27 13:45:54,949 ChatBI->     INFO     路由的输出: grade=True
2025-05-27 13:45:54,949 - ChatBI->  - INFO - 路由的输出: grade=True
2025-05-27 13:45:54,949 ChatBI->     INFO     查询的类型function 返回的结果: <coroutine object recommand_function at 0x7fb5669f1c40> 耗时：0.73秒
2025-05-27 13:45:54,949 - ChatBI->  - INFO - 查询的类型function 返回的结果: <coroutine object recommand_function at 0x7fb5669f1c40> 耗时：0.73秒
log_2025-05-27-13-45-10.log
INFO:     172.31.65.3:65449 - "POST /ai_assistant?query=%E6%88%91%E6%9C%89%E5%BF%83%E8%84%8F%E7%97%85%EF%BC%8C%E5%BA%94%E8%AF%A5%E6%8C%82%E4%BB%80%E4%B9%88%E7%A7%91 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'coroutine' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 201, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
                    ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1458478]
INFO:     Started server process [1460224]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:9020 (Press CTRL+C to quit)
2025-05-28 02:20:28,361 ChatBI->     INFO     收到的查询问题： hello
2025-05-28 02:20:28,361 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-28 02:20:49,432 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-28 02:20:49,433 - openai._base_client - INFO - Retrying request to /chat/completions in 0.492529 seconds
2025-05-28 02:21:10,975 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-28 02:21:10,976 - openai._base_client - INFO - Retrying request to /chat/completions in 0.786362 seconds
2025-05-28 02:21:32,808 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
log_2025-05-27-13-52-07.log
INFO:     172.31.103.222:8990 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 26, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-05-28 02:40:17,181 ChatBI->     INFO     收到的查询问题： 我有心脏病，应该挂什么科
2025-05-28 02:40:17,181 - ChatBI->  - INFO - 收到的查询问题： 我有心脏病，应该挂什么科
2025-05-28 02:40:38,224 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-28 02:40:38,224 - openai._base_client - INFO - Retrying request to /chat/completions in 0.490198 seconds
2025-05-28 02:40:59,723 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-28 02:40:59,723 - openai._base_client - INFO - Retrying request to /chat/completions in 0.970362 seconds
2025-05-28 02:41:21,699 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.33.12.23:51414 - "POST /ai_assistant?query=%E6%88%91%E6%9C%89%E5%BF%83%E8%84%8F%E7%97%85%EF%BC%8C%E5%BA%94%E8%AF%A5%E6%8C%82%E4%BB%80%E4%B9%88%E7%A7%91 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 26, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
INFO:     127.0.0.1:44620 - "GET / HTTP/1.1" 404 Not Found
INFO:     172.31.103.222:2920 - "GET /ai_assistant?query=hello HTTP/1.1" 405 Method Not Allowed
INFO:     172.31.103.222:2920 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-05-28 02:51:07,658 ChatBI->     INFO     收到的查询问题： hello
2025-05-28 02:51:07,658 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-28 02:51:28,670 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-28 02:51:28,671 - openai._base_client - INFO - Retrying request to /chat/completions in 0.416645 seconds
2025-05-28 02:51:50,094 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-28 02:51:50,095 - openai._base_client - INFO - Retrying request to /chat/completions in 0.841968 seconds
2025-05-28 02:52:11,944 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.31.103.222:2931 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 26, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-05-28 03:15:14,274 ChatBI->     INFO     收到的查询问题： 我有心脏病，应该挂什么科
2025-05-28 03:15:14,274 - ChatBI->  - INFO - 收到的查询问题： 我有心脏病，应该挂什么科
2025-05-28 03:15:15,046 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 03:15:15,065 ChatBI->     INFO     路由的输出: grade=True
2025-05-28 03:15:15,065 - ChatBI->  - INFO - 路由的输出: grade=True
2025-05-28 03:15:15,500 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 03:15:15,502 ChatBI->     INFO     查询的类型function 返回的结果: ['健康医疗'] 耗时：1.23秒
2025-05-28 03:15:15,502 - ChatBI->  - INFO - 查询的类型function 返回的结果: ['健康医疗'] 耗时：1.23秒
INFO:     172.33.12.23:63019 - "POST /ai_assistant?query=%E6%88%91%E6%9C%89%E5%BF%83%E8%84%8F%E7%97%85%EF%BC%8C%E5%BA%94%E8%AF%A5%E6%8C%82%E4%BB%80%E4%B9%88%E7%A7%91 HTTP/1.1" 200 OK
2025-05-28 05:49:22,597 ChatBI->     INFO     收到的查询问题： 今天天气如何
2025-05-28 05:49:22,597 - ChatBI->  - INFO - 收到的查询问题： 今天天气如何
2025-05-28 05:49:23,388 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:49:23,390 ChatBI->     INFO     路由的输出: grade=False
2025-05-28 05:49:23,390 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-28 05:49:24,508 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:49:24,512 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-05-28 05:49:24,512 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-05-28 05:49:24,579 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-28 05:49:24,579 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-28 05:49:25,352 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:49:25,355 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-05-28 05:49:25,355 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-05-28 05:49:25,615 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-28 13:33:31', 'casts': [{'date': '2025-05-28', 'week': '3', 'dayweather': '多云', 'nightweather': '阴', 'daytemp': '24', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '24.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-29', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '27', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-30', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '21', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '21.0'}]}]}
2025-05-28 05:49:25,615 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-28 13:33:31', 'casts': [{'date': '2025-05-28', 'week': '3', 'dayweather': '多云', 'nightweather': '阴', 'daytemp': '24', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '24.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-29', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '27', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-30', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '21', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '21.0'}]}]}
2025-05-28 05:49:27,358 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:49:27,359 ChatBI->     INFO     查询的类型agent 返回的结果: 今天是2025年5月28日，上海市的天气白天为多云，夜间转为阴天，白天最高气温为24℃，夜间最低气温为18℃，风向为东风，风力等级为1-3级。 耗时：4.76秒
2025-05-28 05:49:27,359 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 今天是2025年5月28日，上海市的天气白天为多云，夜间转为阴天，白天最高气温为24℃，夜间最低气温为18℃，风向为东风，风力等级为1-3级。 耗时：4.76秒
INFO:     172.31.31.74:33854 - "POST /ai_assistant?query=%E4%BB%8A%E5%A4%A9%E5%A4%A9%E6%B0%94%E5%A6%82%E4%BD%95 HTTP/1.1" 200 OK
2025-05-28 05:49:49,660 ChatBI->     INFO     收到的查询问题： 今天天气如何
2025-05-28 05:49:49,660 - ChatBI->  - INFO - 收到的查询问题： 今天天气如何
2025-05-28 05:49:50,413 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:49:50,420 ChatBI->     INFO     路由的输出: grade=False
2025-05-28 05:49:50,420 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-28 05:49:51,533 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:49:51,537 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-05-28 05:49:51,537 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-05-28 05:49:51,588 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-28 05:49:51,588 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-28 05:49:52,353 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:49:52,356 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-05-28 05:49:52,356 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-05-28 05:49:52,547 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-28 13:33:31', 'casts': [{'date': '2025-05-28', 'week': '3', 'dayweather': '多云', 'nightweather': '阴', 'daytemp': '24', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '24.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-29', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '27', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-30', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '21', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '21.0'}]}]}
2025-05-28 05:49:52,547 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-28 13:33:31', 'casts': [{'date': '2025-05-28', 'week': '3', 'dayweather': '多云', 'nightweather': '阴', 'daytemp': '24', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '24.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-29', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '27', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-30', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '21', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '21.0'}]}]}
2025-05-28 05:49:54,311 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:49:54,314 ChatBI->     INFO     查询的类型agent 返回的结果: 今天是2025年5月28日，上海市的天气白天为多云，夜间转为阴天，白天最高气温为24℃，夜间最低气温为18℃，风向为东风，风力等级为1-3级。 耗时：4.65秒
2025-05-28 05:49:54,314 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 今天是2025年5月28日，上海市的天气白天为多云，夜间转为阴天，白天最高气温为24℃，夜间最低气温为18℃，风向为东风，风力等级为1-3级。 耗时：4.65秒
INFO:     172.31.31.74:33894 - "POST /ai_assistant?query=%E4%BB%8A%E5%A4%A9%E5%A4%A9%E6%B0%94%E5%A6%82%E4%BD%95 HTTP/1.1" 200 OK
2025-05-28 05:50:20,952 ChatBI->     INFO     收到的查询问题： 今天天气如何
2025-05-28 05:50:20,952 - ChatBI->  - INFO - 收到的查询问题： 今天天气如何
2025-05-28 05:50:21,725 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:50:21,734 ChatBI->     INFO     路由的输出: grade=False
2025-05-28 05:50:21,734 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-28 05:50:22,848 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:50:22,852 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-05-28 05:50:22,852 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-05-28 05:50:22,908 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-28 05:50:22,908 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-28 05:50:23,668 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:50:23,671 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-05-28 05:50:23,671 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-05-28 05:50:23,875 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-28 13:33:31', 'casts': [{'date': '2025-05-28', 'week': '3', 'dayweather': '多云', 'nightweather': '阴', 'daytemp': '24', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '24.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-29', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '27', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-30', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '21', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '21.0'}]}]}
2025-05-28 05:50:23,875 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-28 13:33:31', 'casts': [{'date': '2025-05-28', 'week': '3', 'dayweather': '多云', 'nightweather': '阴', 'daytemp': '24', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '24.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-29', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '27', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-30', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '21', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '21.0'}]}]}
2025-05-28 05:50:25,631 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:50:25,633 ChatBI->     INFO     查询的类型agent 返回的结果: 今天是2025年5月28日，上海市的天气白天为多云，夜间转为阴天，白天最高气温为24℃，夜间最低气温为18℃，风向为东风，风力等级为1-3级。 耗时：4.68秒
2025-05-28 05:50:25,633 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 今天是2025年5月28日，上海市的天气白天为多云，夜间转为阴天，白天最高气温为24℃，夜间最低气温为18℃，风向为东风，风力等级为1-3级。 耗时：4.68秒
INFO:     172.31.31.74:33930 - "POST /ai_assistant?query=%E4%BB%8A%E5%A4%A9%E5%A4%A9%E6%B0%94%E5%A6%82%E4%BD%95 HTTP/1.1" 200 OK
2025-05-28 05:50:43,369 ChatBI->     INFO     收到的查询问题： 今天天气如何
2025-05-28 05:50:43,369 - ChatBI->  - INFO - 收到的查询问题： 今天天气如何
2025-05-28 05:50:44,112 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:50:44,119 ChatBI->     INFO     路由的输出: grade=False
2025-05-28 05:50:44,119 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-28 05:50:45,232 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:50:45,235 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-05-28 05:50:45,235 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-05-28 05:50:45,279 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-28 05:50:45,279 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-28 05:50:46,039 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:50:46,042 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-05-28 05:50:46,042 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-05-28 05:50:46,242 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-28 13:33:31', 'casts': [{'date': '2025-05-28', 'week': '3', 'dayweather': '多云', 'nightweather': '阴', 'daytemp': '24', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '24.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-29', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '27', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-30', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '21', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '21.0'}]}]}
2025-05-28 05:50:46,242 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-28 13:33:31', 'casts': [{'date': '2025-05-28', 'week': '3', 'dayweather': '多云', 'nightweather': '阴', 'daytemp': '24', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '24.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-29', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '27', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-30', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '21', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '21.0'}]}]}
2025-05-28 05:50:47,982 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:50:47,984 ChatBI->     INFO     查询的类型agent 返回的结果: 今天是2025年5月28日，上海市的天气白天为多云，夜间转为阴天，白天最高气温为24℃，夜间最低气温为18℃，风向为东风，风力等级为1-3级。 耗时：4.62秒
2025-05-28 05:50:47,984 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 今天是2025年5月28日，上海市的天气白天为多云，夜间转为阴天，白天最高气温为24℃，夜间最低气温为18℃，风向为东风，风力等级为1-3级。 耗时：4.62秒
INFO:     172.31.31.74:33956 - "POST /ai_assistant?query=%E4%BB%8A%E5%A4%A9%E5%A4%A9%E6%B0%94%E5%A6%82%E4%BD%95 HTTP/1.1" 200 OK
2025-05-28 05:51:03,626 ChatBI->     INFO     收到的查询问题： 今天天气如何
2025-05-28 05:51:03,626 - ChatBI->  - INFO - 收到的查询问题： 今天天气如何
2025-05-28 05:51:04,382 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:51:04,391 ChatBI->     INFO     路由的输出: grade=False
2025-05-28 05:51:04,391 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-28 05:51:05,526 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:51:05,529 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-05-28 05:51:05,529 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-05-28 05:51:05,579 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-28 05:51:05,579 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-28 05:51:06,372 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:51:06,375 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-05-28 05:51:06,375 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-05-28 05:51:06,628 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-28 13:33:31', 'casts': [{'date': '2025-05-28', 'week': '3', 'dayweather': '多云', 'nightweather': '阴', 'daytemp': '24', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '24.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-29', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '27', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-30', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '21', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '21.0'}]}]}
2025-05-28 05:51:06,628 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-28 13:33:31', 'casts': [{'date': '2025-05-28', 'week': '3', 'dayweather': '多云', 'nightweather': '阴', 'daytemp': '24', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '24.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-29', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '27', 'nighttemp': '18', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '18.0'}, {'date': '2025-05-30', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '21', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '21.0'}]}]}
2025-05-28 05:51:08,363 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:51:08,365 ChatBI->     INFO     查询的类型agent 返回的结果: 今天是2025年5月28日，上海市的天气白天为多云，夜间转为阴天，白天最高气温为24℃，夜间最低气温为18℃，风向为东风，风力等级为1-3级。 耗时：4.74秒
2025-05-28 05:51:08,365 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 今天是2025年5月28日，上海市的天气白天为多云，夜间转为阴天，白天最高气温为24℃，夜间最低气温为18℃，风向为东风，风力等级为1-3级。 耗时：4.74秒
INFO:     172.31.31.74:33978 - "POST /ai_assistant?query=%E4%BB%8A%E5%A4%A9%E5%A4%A9%E6%B0%94%E5%A6%82%E4%BD%95 HTTP/1.1" 200 OK
2025-05-28 05:51:30,864 ChatBI->     INFO     收到的查询问题： hello
2025-05-28 05:51:30,864 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-28 05:51:31,613 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:51:31,621 ChatBI->     INFO     路由的输出: grade=False
2025-05-28 05:51:31,621 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-28 05:51:32,093 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:51:32,095 ChatBI->     INFO     查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.23秒
2025-05-28 05:51:32,095 - ChatBI->  - INFO - 查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.23秒
INFO:     172.31.103.222:10297 - "POST /ai_assistant?query=hello HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     172.31.103.222:10376 - "GET /ai_assistant?query=%E4%BB%8A%E5%A4%A9%E5%A4%A9%E6%B0%94%E5%A6%82%E4%BD%95 HTTP/1.1" 405 Method Not Allowed
2025-05-28 05:55:06,628 ChatBI->     INFO     收到的查询问题： 今天天气如何?query=我从张江地铁站到中国电信信息园区怎么走
2025-05-28 05:55:06,628 - ChatBI->  - INFO - 收到的查询问题： 今天天气如何?query=我从张江地铁站到中国电信信息园区怎么走
2025-05-28 05:55:07,426 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:55:07,429 ChatBI->     INFO     路由的输出: grade=False
2025-05-28 05:55:07,429 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-28 05:55:10,343 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:55:10,346 ChatBI->     INFO     进入导航查询节点，起点：张江地铁站，终点：中国电信信息园区，导航模式：driving
2025-05-28 05:55:10,346 - ChatBI->  - INFO - 进入导航查询节点，起点：张江地铁站，终点：中国电信信息园区，导航模式：driving
2025-05-28 05:55:11,049 ChatBI->     INFO     导航查询结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'count': '1', 'route': {'origin': '121.629339,31.189384', 'destination': '121.538131,31.126183', 'taxi_cost': '54', 'paths': [{'distance': '17878', 'duration': '1212', 'strategy': '速度最快', 'tolls': '0', 'toll_distance': '0', 'steps': [{'instruction': '沿张江路途径张江路川杨河桥向西北行驶593米左转'}, {'instruction': '沿张衡路向西行驶159米向右前方行驶进入右转专用道'}, {'instruction': '沿申江路向西行驶49米右转进入主路'}, {'instruction': '沿申江路向北行驶547米向左前方行驶进入左转专用道'}, {'instruction': '沿申江路向北行驶184米左转调头'}, {'instruction': '沿申江路向南行驶100米靠右进入匝道'}, {'instruction': '沿中环路入口途径中环路向南行驶1.2千米靠左沿主路行驶'}, {'instruction': '沿中环路向西行驶9.8千米向右前方行驶进入匝道'}, {'instruction': '沿中环路出口向西行驶220米靠左'}, {'instruction': '沿中环路出口途径杨高南路向南行驶1.2千米靠左沿主路行驶'}, {'instruction': '沿杨高南路向东南行驶780米靠左进入左岔路'}, {'instruction': '沿杨高南路途径林海公路向东南行驶1.8千米向右前方行驶'}, {'instruction': '沿林海公路辅路向南行驶434米右转'}, {'instruction': '沿秀浦西路向西行驶374米右转'}, {'instruction': '向北行驶453米右转'}, {'instruction': '向东行驶32米到达目的地'}], 'restriction': '0', 'traffic_lights': '4'}]}}
2025-05-28 05:55:11,049 - ChatBI->  - INFO - 导航查询结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'count': '1', 'route': {'origin': '121.629339,31.189384', 'destination': '121.538131,31.126183', 'taxi_cost': '54', 'paths': [{'distance': '17878', 'duration': '1212', 'strategy': '速度最快', 'tolls': '0', 'toll_distance': '0', 'steps': [{'instruction': '沿张江路途径张江路川杨河桥向西北行驶593米左转'}, {'instruction': '沿张衡路向西行驶159米向右前方行驶进入右转专用道'}, {'instruction': '沿申江路向西行驶49米右转进入主路'}, {'instruction': '沿申江路向北行驶547米向左前方行驶进入左转专用道'}, {'instruction': '沿申江路向北行驶184米左转调头'}, {'instruction': '沿申江路向南行驶100米靠右进入匝道'}, {'instruction': '沿中环路入口途径中环路向南行驶1.2千米靠左沿主路行驶'}, {'instruction': '沿中环路向西行驶9.8千米向右前方行驶进入匝道'}, {'instruction': '沿中环路出口向西行驶220米靠左'}, {'instruction': '沿中环路出口途径杨高南路向南行驶1.2千米靠左沿主路行驶'}, {'instruction': '沿杨高南路向东南行驶780米靠左进入左岔路'}, {'instruction': '沿杨高南路途径林海公路向东南行驶1.8千米向右前方行驶'}, {'instruction': '沿林海公路辅路向南行驶434米右转'}, {'instruction': '沿秀浦西路向西行驶374米右转'}, {'instruction': '向北行驶453米右转'}, {'instruction': '向东行驶32米到达目的地'}], 'restriction': '0', 'traffic_lights': '4'}]}}
2025-05-28 05:55:20,811 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 05:55:20,813 ChatBI->     INFO     查询的类型agent 返回的结果: 从张江地铁站到中国电信信息园区的路线如下：

1. 沿张江路途径张江路川杨河桥向西北行驶593米左转。
2. 沿张衡路向西行驶159米向右前方行驶进入右转专用道。
3. 沿申江路向西行驶49米右转进入主路。
4. 沿申江路向北行驶547米向左前方行驶进入左转专用道。
5. 沿申江路向北行驶184米左转调头。
6. 沿申江路向南行驶100米靠右进入匝道。
7. 沿中环路入口途径中环路向南行驶1.2千米靠左沿主路行驶。
8. 沿中环路向西行驶9.8千米向右前方行驶进入匝道。
9. 沿中环路出口向西行驶220米靠左。
10. 沿中环路出口途径杨高南路向南行驶1.2千米靠左沿主路行驶。
11. 沿杨高南路向东南行驶780米靠左进入左岔路。
12. 沿杨高南路途径林海公路向东南行驶1.8千米向右前方行驶。
13. 沿林海公路辅路向南行驶434米右转。
14. 沿秀浦西路向西行驶374米右转。
15. 向北行驶453米右转。
16. 向东行驶32米到达目的地。

总距离为17.878公里，预计耗时约20分钟。 耗时：14.18秒
2025-05-28 05:55:20,813 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 从张江地铁站到中国电信信息园区的路线如下：

1. 沿张江路途径张江路川杨河桥向西北行驶593米左转。
2. 沿张衡路向西行驶159米向右前方行驶进入右转专用道。
3. 沿申江路向西行驶49米右转进入主路。
4. 沿申江路向北行驶547米向左前方行驶进入左转专用道。
5. 沿申江路向北行驶184米左转调头。
6. 沿申江路向南行驶100米靠右进入匝道。
7. 沿中环路入口途径中环路向南行驶1.2千米靠左沿主路行驶。
8. 沿中环路向西行驶9.8千米向右前方行驶进入匝道。
9. 沿中环路出口向西行驶220米靠左。
10. 沿中环路出口途径杨高南路向南行驶1.2千米靠左沿主路行驶。
11. 沿杨高南路向东南行驶780米靠左进入左岔路。
12. 沿杨高南路途径林海公路向东南行驶1.8千米向右前方行驶。
13. 沿林海公路辅路向南行驶434米右转。
14. 沿秀浦西路向西行驶374米右转。
15. 向北行驶453米右转。
16. 向东行驶32米到达目的地。

总距离为17.878公里，预计耗时约20分钟。 耗时：14.18秒
INFO:     172.31.31.74:34178 - "POST /ai_assistant?query=%E4%BB%8A%E5%A4%A9%E5%A4%A9%E6%B0%94%E5%A6%82%E4%BD%95?query=%E6%88%91%E4%BB%8E%E5%BC%A0%E6%B1%9F%E5%9C%B0%E9%93%81%E7%AB%99%E5%88%B0%E4%B8%AD%E5%9B%BD%E7%94%B5%E4%BF%A1%E4%BF%A1%E6%81%AF%E5%9B%AD%E5%8C%BA%E6%80%8E%E4%B9%88%E8%B5%B0 HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
2025-05-28 08:20:32,390 ChatBI->     INFO     收到的查询问题： weather
2025-05-28 08:20:32,390 - ChatBI->  - INFO - 收到的查询问题： weather
2025-05-28 08:20:33,143 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 08:20:33,146 ChatBI->     INFO     路由的输出: grade=False
2025-05-28 08:20:33,146 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-28 08:20:33,618 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 08:20:33,620 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要查询哪个城市的天气。 耗时：1.23秒
2025-05-28 08:20:33,620 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要查询哪个城市的天气。 耗时：1.23秒
INFO:     172.31.103.100:54050 - "POST /ai_assistant?query=weather HTTP/1.1" 200 OK
2025-05-28 08:25:10,073 ChatBI->     INFO     收到的查询问题： weather
2025-05-28 08:25:10,073 - ChatBI->  - INFO - 收到的查询问题： weather
2025-05-28 08:25:10,800 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 08:25:10,803 ChatBI->     INFO     路由的输出: grade=False
2025-05-28 08:25:10,803 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-28 08:25:11,305 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 08:25:11,307 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要查询哪个城市的天气。 耗时：1.23秒
2025-05-28 08:25:11,307 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要查询哪个城市的天气。 耗时：1.23秒
INFO:     172.31.103.100:56063 - "POST /ai_assistant?query=weather HTTP/1.1" 200 OK
2025-05-28 08:44:26,024 ChatBI->     INFO     收到的查询问题： 今天天气如何?query=高血压吃什么药
2025-05-28 08:44:26,024 - ChatBI->  - INFO - 收到的查询问题： 今天天气如何?query=高血压吃什么药
2025-05-28 08:44:26,792 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 08:44:26,794 ChatBI->     INFO     路由的输出: grade=False
2025-05-28 08:44:26,794 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-28 08:44:28,609 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 08:44:28,611 ChatBI->     INFO     查询的类型agent 返回的结果: 您的问题中包含了两个不同的查询。一个是关于今天的天气，另一个是关于高血压患者的用药建议。请问您是想查询天气还是想了解高血压患者的用药建议呢？如果是查询天气，请告诉我您所在的城市；如果是想了解用药建议，我将为您进行网络搜索。请明确您的需求。 耗时：2.59秒
2025-05-28 08:44:28,611 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您的问题中包含了两个不同的查询。一个是关于今天的天气，另一个是关于高血压患者的用药建议。请问您是想查询天气还是想了解高血压患者的用药建议呢？如果是查询天气，请告诉我您所在的城市；如果是想了解用药建议，我将为您进行网络搜索。请明确您的需求。 耗时：2.59秒
INFO:     172.31.31.74:39996 - "POST /ai_assistant?query=%E4%BB%8A%E5%A4%A9%E5%A4%A9%E6%B0%94%E5%A6%82%E4%BD%95?query=%E9%AB%98%E8%A1%80%E5%8E%8B%E5%90%83%E4%BB%80%E4%B9%88%E8%8D%AF HTTP/1.1" 200 OK
2025-05-28 08:45:33,977 ChatBI->     INFO     收到的查询问题： 高血压吃什么药
2025-05-28 08:45:33,977 - ChatBI->  - INFO - 收到的查询问题： 高血压吃什么药
2025-05-28 08:45:34,698 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 08:45:34,701 ChatBI->     INFO     路由的输出: grade=False
2025-05-28 08:45:34,701 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-28 08:45:36,062 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 08:45:36,064 ChatBI->     INFO     进入联网搜索节点，查询内容：高血压吃什么药
2025-05-28 08:45:36,064 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：高血压吃什么药
2025-05-28 08:45:38,791 ChatBI->     INFO     联网搜索结果：{'query': '高血压吃什么药', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '高血压长期吃什么药好？ - 知乎', 'url': 'https://www.zhihu.com/question/499998375', 'content': '高血压不是随便找款降压药吃就行，还要看你是哪种高血压，以及你的身体是否还有其他疾病等等。 高血压根据血压值，可以分为三级。 1级高血压：收缩压在140—159mm Hg之间，舒张压在90—99mm Hg之间； 2级高血压：收缩压在160—179mm Hg之间，舒张压在100—109mm Hg', 'score': 0.6628188, 'raw_content': None}, {'title': '六大类降压药，怎么选怎么吃？一篇讲清楚 - 知乎', 'url': 'https://zhuanlan.zhihu.com/p/337368426', 'content': '高血压 是我国成人患病率较高的慢性病之一，也是 心脑血管病 最重要的危险因素。 据2016年国家卫生计生委发布的数据显示：我国18岁以上成人高血压患病率高达25.2%。 降压药使用原则. 1."降压是硬道理"：早降压早获益，长期降压长期获益，降压达标将高血压患者的心血管风险降到最低，最大', 'score': 0.5255399, 'raw_content': None}, {'title': '降压药不知道怎么选？有这张表就够了! - 丁香园', 'url': 'https://heart.dxy.cn/article/805317', 'content': '2）初发重度高血压，或坚持服药情况下控制良好的血压突然难以控制；难治性高血压，需要使用三种或以上降压药。 3）非典型症状：血压波动大、发作性高血压、视物模糊、水肿、喘憋；非典型体征：双上肢血压不对称、体检闻及血管杂音。', 'score': 0.49963441, 'raw_content': None}], 'response_time': 1.69}
2025-05-28 08:45:38,791 - ChatBI->  - INFO - 联网搜索结果：{'query': '高血压吃什么药', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '高血压长期吃什么药好？ - 知乎', 'url': 'https://www.zhihu.com/question/499998375', 'content': '高血压不是随便找款降压药吃就行，还要看你是哪种高血压，以及你的身体是否还有其他疾病等等。 高血压根据血压值，可以分为三级。 1级高血压：收缩压在140—159mm Hg之间，舒张压在90—99mm Hg之间； 2级高血压：收缩压在160—179mm Hg之间，舒张压在100—109mm Hg', 'score': 0.6628188, 'raw_content': None}, {'title': '六大类降压药，怎么选怎么吃？一篇讲清楚 - 知乎', 'url': 'https://zhuanlan.zhihu.com/p/337368426', 'content': '高血压 是我国成人患病率较高的慢性病之一，也是 心脑血管病 最重要的危险因素。 据2016年国家卫生计生委发布的数据显示：我国18岁以上成人高血压患病率高达25.2%。 降压药使用原则. 1."降压是硬道理"：早降压早获益，长期降压长期获益，降压达标将高血压患者的心血管风险降到最低，最大', 'score': 0.5255399, 'raw_content': None}, {'title': '降压药不知道怎么选？有这张表就够了! - 丁香园', 'url': 'https://heart.dxy.cn/article/805317', 'content': '2）初发重度高血压，或坚持服药情况下控制良好的血压突然难以控制；难治性高血压，需要使用三种或以上降压药。 3）非典型症状：血压波动大、发作性高血压、视物模糊、水肿、喘憋；非典型体征：双上肢血压不对称、体检闻及血管杂音。', 'score': 0.49963441, 'raw_content': None}], 'response_time': 1.69}
2025-05-28 08:45:41,720 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-28 08:45:41,722 ChatBI->     INFO     查询的类型agent 返回的结果: 根据我找到的信息，高血压的治疗需要根据个人的具体情况来选择合适的药物。例如，根据血压值的不同，高血压可以分为不同的级别，每种级别的高血压可能需要不同的药物。此外，还需要考虑患者是否有其他疾病。因此，建议您咨询医生以获得更准确的建议。这里有一篇关于降压药选择的文章，可能会对您有所帮助：[高血压长期吃什么药好？](https://www.zhihu.com/question/499998375) 耗时：7.75秒
2025-05-28 08:45:41,722 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据我找到的信息，高血压的治疗需要根据个人的具体情况来选择合适的药物。例如，根据血压值的不同，高血压可以分为不同的级别，每种级别的高血压可能需要不同的药物。此外，还需要考虑患者是否有其他疾病。因此，建议您咨询医生以获得更准确的建议。这里有一篇关于降压药选择的文章，可能会对您有所帮助：[高血压长期吃什么药好？](https://www.zhihu.com/question/499998375) 耗时：7.75秒
INFO:     172.31.31.74:40038 - "POST /ai_assistant?query=%E9%AB%98%E8%A1%80%E5%8E%8B%E5%90%83%E4%BB%80%E4%B9%88%E8%8D%AF HTTP/1.1" 200 OK
2025-05-29 01:33:30,635 ChatBI->     INFO     收到的查询问题： hello
2025-05-29 01:33:30,635 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-29 01:33:51,669 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 01:33:51,670 - openai._base_client - INFO - Retrying request to /chat/completions in 0.404771 seconds
2025-05-29 01:34:02,108 ChatBI->     INFO     收到的查询问题： hello
2025-05-29 01:34:02,108 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-29 01:34:13,112 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 01:34:13,113 - openai._base_client - INFO - Retrying request to /chat/completions in 0.883224 seconds
2025-05-29 01:34:23,161 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 01:34:23,162 - openai._base_client - INFO - Retrying request to /chat/completions in 0.381143 seconds
2025-05-29 01:34:35,042 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.31.31.74:35974 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 26, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-05-29 01:34:44,584 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 01:34:44,585 - openai._base_client - INFO - Retrying request to /chat/completions in 0.775383 seconds
2025-05-29 01:35:06,399 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.31.103.222:9011 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 26, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-05-29 05:36:39,504 ChatBI->     INFO     收到的查询问题： hello
2025-05-29 05:36:39,504 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-29 05:37:00,550 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 05:37:00,551 - openai._base_client - INFO - Retrying request to /chat/completions in 0.446891 seconds
2025-05-29 05:37:22,025 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 05:37:22,026 - openai._base_client - INFO - Retrying request to /chat/completions in 0.790272 seconds
2025-05-29 05:37:43,854 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.31.31.74:42422 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 26, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-05-29 08:23:10,718 ChatBI->     INFO     收到的查询问题： hello
2025-05-29 08:23:10,718 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-29 08:23:31,770 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 08:23:31,771 - openai._base_client - INFO - Retrying request to /chat/completions in 0.382539 seconds
2025-05-29 08:23:53,197 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 08:23:53,197 - openai._base_client - INFO - Retrying request to /chat/completions in 0.912364 seconds
2025-05-29 08:24:15,154 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.31.31.74:47020 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 26, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-05-29 08:24:42,851 ChatBI->     INFO     收到的查询问题： hello
2025-05-29 08:24:42,851 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-29 08:25:03,911 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 08:25:03,911 - openai._base_client - INFO - Retrying request to /chat/completions in 0.430615 seconds
2025-05-29 08:25:25,382 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 08:25:25,383 - openai._base_client - INFO - Retrying request to /chat/completions in 0.758261 seconds
2025-05-29 08:25:47,179 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 26, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-05-29 08:26:29,280 ChatBI->     INFO     收到的查询问题： hello
2025-05-29 08:26:29,280 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-29 08:26:50,322 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 08:26:50,323 - openai._base_client - INFO - Retrying request to /chat/completions in 0.497829 seconds
2025-05-29 08:27:11,854 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 08:27:11,855 - openai._base_client - INFO - Retrying request to /chat/completions in 0.894671 seconds
2025-05-29 08:27:16,755 ChatBI->     INFO     收到的查询问题： hello
2025-05-29 08:27:16,755 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-29 08:27:33,789 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 26, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-05-29 08:27:37,806 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 08:27:37,806 - openai._base_client - INFO - Retrying request to /chat/completions in 0.450397 seconds
2025-05-29 08:27:59,288 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-29 08:27:59,289 - openai._base_client - INFO - Retrying request to /chat/completions in 0.847275 seconds
2025-05-29 08:28:21,170 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.31.103.222:3117 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 26, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-05-30 01:32:30,007 ChatBI->     INFO     收到的查询问题： hello
2025-05-30 01:32:30,007 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-30 01:32:51,034 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-30 01:32:51,035 - openai._base_client - INFO - Retrying request to /chat/completions in 0.465701 seconds
2025-05-30 01:33:12,537 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-30 01:33:12,538 - openai._base_client - INFO - Retrying request to /chat/completions in 0.790705 seconds
2025-05-30 01:33:34,380 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.31.103.222:9721 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 26, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-05-30 02:24:38,402 ChatBI->     INFO     收到的查询问题： hello
2025-05-30 02:24:38,402 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-30 02:24:59,411 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-30 02:24:59,412 - openai._base_client - INFO - Retrying request to /chat/completions in 0.448439 seconds
2025-05-30 02:25:20,867 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-05-30 02:25:20,867 - openai._base_client - INFO - Retrying request to /chat/completions in 0.848432 seconds
2025-05-30 02:25:42,723 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 26, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-05-30 03:10:33,649 ChatBI->     INFO     收到的查询问题： hello
2025-05-30 03:10:33,649 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-30 03:10:34,440 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 03:10:34,451 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 03:10:34,451 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 03:10:34,934 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 03:10:34,935 ChatBI->     INFO     查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.29秒
2025-05-30 03:10:34,935 - ChatBI->  - INFO - 查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.29秒
INFO:     172.31.103.222:1880 - "POST /ai_assistant?query=hello HTTP/1.1" 200 OK
2025-05-30 03:10:49,915 ChatBI->     INFO     收到的查询问题： hello
2025-05-30 03:10:49,915 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-30 03:10:50,680 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 03:10:50,682 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 03:10:50,682 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 03:10:51,163 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 03:10:51,165 ChatBI->     INFO     查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.25秒
2025-05-30 03:10:51,165 - ChatBI->  - INFO - 查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.25秒
INFO:     172.31.31.74:43144 - "POST /ai_assistant?query=hello HTTP/1.1" 200 OK
2025-05-30 05:38:51,767 ChatBI->     INFO     收到的查询问题： hello
2025-05-30 05:38:51,767 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-30 05:38:52,546 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 05:38:52,549 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 05:38:52,549 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 05:38:53,020 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 05:38:53,022 ChatBI->     INFO     查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.26秒
2025-05-30 05:38:53,022 - ChatBI->  - INFO - 查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.26秒
INFO:     172.31.31.74:46558 - "POST /ai_assistant?query=hello HTTP/1.1" 200 OK
2025-05-30 05:38:59,911 ChatBI->     INFO     收到的查询问题： 高血压头昏怎么办
2025-05-30 05:38:59,911 - ChatBI->  - INFO - 收到的查询问题： 高血压头昏怎么办
2025-05-30 05:39:00,629 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 05:39:00,632 ChatBI->     INFO     路由的输出: grade=True
2025-05-30 05:39:00,632 - ChatBI->  - INFO - 路由的输出: grade=True
2025-05-30 05:39:01,027 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 05:39:01,029 ChatBI->     INFO     查询的类型function 返回的结果: ['健康医疗'] 耗时：1.12秒
2025-05-30 05:39:01,029 - ChatBI->  - INFO - 查询的类型function 返回的结果: ['健康医疗'] 耗时：1.12秒
INFO:     172.31.31.74:46570 - "POST /ai_assistant?query=%E9%AB%98%E8%A1%80%E5%8E%8B%E5%A4%B4%E6%98%8F%E6%80%8E%E4%B9%88%E5%8A%9E HTTP/1.1" 200 OK
2025-05-30 05:41:01,065 ChatBI->     INFO     收到的查询问题： hello
2025-05-30 05:41:01,065 - ChatBI->  - INFO - 收到的查询问题： hello
2025-05-30 05:41:01,842 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 05:41:01,845 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 05:41:01,845 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 05:41:02,318 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 05:41:02,320 ChatBI->     INFO     查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.26秒
2025-05-30 05:41:02,320 - ChatBI->  - INFO - 查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.26秒
INFO:     172.31.31.74:46624 - "POST /ai_assistant?query=hello HTTP/1.1" 200 OK
2025-05-30 05:51:25,958 ChatBI->     INFO     收到的查询问题： My blood preasure is high. What can I eat
2025-05-30 05:51:25,958 - ChatBI->  - INFO - 收到的查询问题： My blood preasure is high. What can I eat
2025-05-30 05:51:26,705 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 05:51:26,707 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 05:51:26,707 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 05:51:28,644 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 05:51:28,646 ChatBI->     INFO     查询的类型agent 返回的结果: To lower blood pressure, you should eat foods low in salt and saturated fats. Good choices include fruits, vegetables, whole grains, and lean proteins. Consider a diet like DASH (Dietary Approaches to Stop Hypertension) which is scientifically proven to help reduce blood pressure. Consult a doctor or nutritionist for personalized advice. 耗时：2.69秒
2025-05-30 05:51:28,646 - ChatBI->  - INFO - 查询的类型agent 返回的结果: To lower blood pressure, you should eat foods low in salt and saturated fats. Good choices include fruits, vegetables, whole grains, and lean proteins. Consider a diet like DASH (Dietary Approaches to Stop Hypertension) which is scientifically proven to help reduce blood pressure. Consult a doctor or nutritionist for personalized advice. 耗时：2.69秒
INFO:     172.31.31.74:46878 - "POST /ai_assistant?query=My%20blood%20preasure%20is%20high.%20What%20can%20I%20eat HTTP/1.1" 200 OK
2025-05-30 07:44:23,082 ChatBI->     INFO     收到的查询问题： My blood preasure is high. What can I eat
2025-05-30 07:44:23,082 - ChatBI->  - INFO - 收到的查询问题： My blood preasure is high. What can I eat
2025-05-30 07:44:23,811 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:44:23,814 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 07:44:23,814 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 07:44:25,749 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:44:25,751 ChatBI->     INFO     查询的类型agent 返回的结果: To lower blood pressure, you should eat foods low in salt and saturated fats. Good choices include fruits, vegetables, whole grains, and lean proteins. Consider a diet like DASH (Dietary Approaches to Stop Hypertension) which is scientifically proven to help reduce blood pressure. Consult a doctor or nutritionist for personalized advice. 耗时：2.67秒
2025-05-30 07:44:25,751 - ChatBI->  - INFO - 查询的类型agent 返回的结果: To lower blood pressure, you should eat foods low in salt and saturated fats. Good choices include fruits, vegetables, whole grains, and lean proteins. Consider a diet like DASH (Dietary Approaches to Stop Hypertension) which is scientifically proven to help reduce blood pressure. Consult a doctor or nutritionist for personalized advice. 耗时：2.67秒
INFO:     172.31.31.74:50448 - "POST /ai_assistant?query=My%20blood%20preasure%20is%20high.%20What%20can%20I%20eat HTTP/1.1" 200 OK
2025-05-30 07:48:17,800 ChatBI->     INFO     收到的查询问题： My blood preasure is high. What can I eat
2025-05-30 07:48:17,800 - ChatBI->  - INFO - 收到的查询问题： My blood preasure is high. What can I eat
2025-05-30 07:48:18,530 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:48:18,532 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 07:48:18,532 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 07:48:20,459 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:48:20,461 ChatBI->     INFO     查询的类型agent 返回的结果: To lower blood pressure, you should eat foods low in salt and saturated fats. Good choices include fruits, vegetables, whole grains, and lean proteins. Consider a diet like DASH (Dietary Approaches to Stop Hypertension) which is scientifically proven to help reduce blood pressure. Consult a doctor or nutritionist for personalized advice. 耗时：2.66秒
2025-05-30 07:48:20,461 - ChatBI->  - INFO - 查询的类型agent 返回的结果: To lower blood pressure, you should eat foods low in salt and saturated fats. Good choices include fruits, vegetables, whole grains, and lean proteins. Consider a diet like DASH (Dietary Approaches to Stop Hypertension) which is scientifically proven to help reduce blood pressure. Consult a doctor or nutritionist for personalized advice. 耗时：2.66秒
INFO:     172.31.31.74:50574 - "POST /ai_assistant?query=My%20blood%20preasure%20is%20high.%20What%20can%20I%20eat HTTP/1.1" 200 OK
2025-05-30 07:48:28,695 ChatBI->     INFO     收到的查询问题： My blood preasure is high. What can I eat
2025-05-30 07:48:28,695 - ChatBI->  - INFO - 收到的查询问题： My blood preasure is high. What can I eat
2025-05-30 07:48:29,412 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:48:29,414 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 07:48:29,414 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 07:48:31,339 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:48:31,341 ChatBI->     INFO     查询的类型agent 返回的结果: To lower blood pressure, you should eat foods low in salt and saturated fats. Good choices include fruits, vegetables, whole grains, and lean proteins. Consider a diet like DASH (Dietary Approaches to Stop Hypertension) which is scientifically proven to help reduce blood pressure. Consult a doctor or nutritionist for personalized advice. 耗时：2.65秒
2025-05-30 07:48:31,341 - ChatBI->  - INFO - 查询的类型agent 返回的结果: To lower blood pressure, you should eat foods low in salt and saturated fats. Good choices include fruits, vegetables, whole grains, and lean proteins. Consider a diet like DASH (Dietary Approaches to Stop Hypertension) which is scientifically proven to help reduce blood pressure. Consult a doctor or nutritionist for personalized advice. 耗时：2.65秒
INFO:     172.31.31.74:50586 - "POST /ai_assistant?query=My%20blood%20preasure%20is%20high.%20What%20can%20I%20eat HTTP/1.1" 200 OK
2025-05-30 07:49:29,100 ChatBI->     INFO     收到的查询问题： My blood preasure is high. What can I eat
2025-05-30 07:49:29,100 - ChatBI->  - INFO - 收到的查询问题： My blood preasure is high. What can I eat
2025-05-30 07:49:29,836 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:49:29,838 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 07:49:29,838 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 07:49:31,766 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:49:31,769 ChatBI->     INFO     查询的类型agent 返回的结果: To lower blood pressure, you should eat foods low in salt and saturated fats. Good choices include fruits, vegetables, whole grains, and lean proteins. Consider a diet like DASH (Dietary Approaches to Stop Hypertension) which is scientifically proven to help reduce blood pressure. Consult a doctor or nutritionist for personalized advice. 耗时：2.67秒
2025-05-30 07:49:31,769 - ChatBI->  - INFO - 查询的类型agent 返回的结果: To lower blood pressure, you should eat foods low in salt and saturated fats. Good choices include fruits, vegetables, whole grains, and lean proteins. Consider a diet like DASH (Dietary Approaches to Stop Hypertension) which is scientifically proven to help reduce blood pressure. Consult a doctor or nutritionist for personalized advice. 耗时：2.67秒
INFO:     172.31.31.74:50630 - "POST /ai_assistant?query=My%20blood%20preasure%20is%20high.%20What%20can%20I%20eat HTTP/1.1" 200 OK
2025-05-30 07:49:40,024 ChatBI->     INFO     收到的查询问题： 高血压头昏怎么办
2025-05-30 07:49:40,024 - ChatBI->  - INFO - 收到的查询问题： 高血压头昏怎么办
2025-05-30 07:49:40,749 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:49:40,752 ChatBI->     INFO     路由的输出: grade=True
2025-05-30 07:49:40,752 - ChatBI->  - INFO - 路由的输出: grade=True
2025-05-30 07:49:41,148 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:49:41,149 ChatBI->     INFO     查询的类型function 返回的结果: ['健康医疗'] 耗时：1.13秒
2025-05-30 07:49:41,149 - ChatBI->  - INFO - 查询的类型function 返回的结果: ['健康医疗'] 耗时：1.13秒
INFO:     172.31.31.74:50642 - "POST /ai_assistant?query=%E9%AB%98%E8%A1%80%E5%8E%8B%E5%A4%B4%E6%98%8F%E6%80%8E%E4%B9%88%E5%8A%9E HTTP/1.1" 200 OK
2025-05-30 07:49:57,561 ChatBI->     INFO     收到的查询问题： 最近上海有什么电影看
2025-05-30 07:49:57,561 - ChatBI->  - INFO - 收到的查询问题： 最近上海有什么电影看
2025-05-30 07:49:58,279 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:49:58,281 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 07:49:58,281 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 07:49:59,131 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:49:59,133 ChatBI->     INFO     进入联网搜索节点，查询内容：上海 最近上映的电影
2025-05-30 07:49:59,133 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：上海 最近上映的电影
2025-05-30 07:50:02,147 ChatBI->     INFO     联网搜索结果：{'query': '上海 最近上映的电影', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海 - 在线购票&影讯 - 豆瓣电影', 'url': 'https://movie.douban.com/cinema/nowplaying/shanghai/', 'content': '上海电影院在线优惠购票及影讯排片查询 ... 苍茫的天涯是... 5.7; 选座购票 ... 05月29日上映 碟中谍8：最终... 05月30日上映 选座购票 时间之子 05月30日上映 选座购票 红嫁衣', 'score': 0.5775198, 'raw_content': None}, {'title': '上海影讯_上海电影_上海电影院排片表 - 上海电影网', 'url': 'http://shanghai.movie.iecity.com/', 'content': '上海电影网：提供上海每日影讯查询，最新播放电影信息，即将上映的电影预告，上海电影院地址、设施、介绍、排名表查询，电影院在线选座，特价电影票团购。', 'score': 0.39810276, 'raw_content': None}, {'title': '猫眼电影 - 娱乐看猫眼', 'url': 'https://www.maoyan.com/', 'content': '猫眼电影 扫码下载APP 选座更优惠 今日票房 \uea60\uef28\ue3ec.\ue3df\ue3ec万 今日大盘 \ue3ec\uf3e8\ueb19\uf7d2.\ue3ec万 查看更多 北京时间 19:49:50 猫眼专业版实时票房数据 最受期待 上映时间：2025-05-23 \uef28\ue3df\uf3e8\uea6f\uf7d2人想看 \ueb19.\uea60分 热门影人 赵海燕 王迅 赵丽颖 兰西雅 潘斌龙 白客 李晓川 欧嘉·柯瑞兰寇 陈明昊 李感 娱乐热点 网剧《青春奇遇记第二季》：5月9日优酷、腾讯视频全网首播 《悬镜》黑帮教父VS《绝密较量》情报之王，正邪大佬联手破案 《水饺皇后》“已读乱回”特别视频，异地语言不通看马丽大胆应对 电影《红嫁衣》全国预售火热开启 《哆啦A梦：大雄的绘画奇遇记》确认引进 绘画冒险全新开启 动作大片《会计刺客2》正式开启预售 兄弟同心硬核枪战震撼视听 爆笑讽刺喜剧《人生开门红》发布“窃听风云”正片片段 《黑暗迷踪》定档520，情侣试胆新爆款，惊悚与爱情的极致博弈 奥斯卡最佳国际影片《我仍在此》发布终极预告与海报 预售开启 电影《独一无二》全新特辑“狗pro”观察室爆料全新大“瓜” 正在热映（72部） 即将上映（135部） 关于猫眼 : 关于我们 董事会成员 投资者关系 友情链接 : 美团网 格瓦拉 美团下载 欢喜首映 商务合作邮箱：v@maoyan.com 客服电话：10105335 违法和不良信息/涉未成年人有害信息举报电话：4006018900 用户举报/涉未成年人有害信息举报邮箱：tousujubao@meituan.com 舞弊线索举报邮箱：wubijubao@maoyan.com 中华人民共和国增值电信业务经营许可证 京B2-20190350 营业性演出许可证 京演（机构）（2019）4094号 广播电视节目制作经营许可证 （京）字第08478号 网络文化经营许可证 京网文（2022）1334-041号 艺术品经营单位备案证明  京东艺（2022）0095号 猫眼用户服务协议  猫眼平台交易规则总则  隐私政策 京公网安备 11010102003232号 京ICP备16022489号-1 北京猫眼文化传媒有限公司 ©2016 猫眼电影 www.maoyan.com', 'score': 0.1009763, 'raw_content': None}], 'response_time': 1.88}
2025-05-30 07:50:02,147 - ChatBI->  - INFO - 联网搜索结果：{'query': '上海 最近上映的电影', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海 - 在线购票&影讯 - 豆瓣电影', 'url': 'https://movie.douban.com/cinema/nowplaying/shanghai/', 'content': '上海电影院在线优惠购票及影讯排片查询 ... 苍茫的天涯是... 5.7; 选座购票 ... 05月29日上映 碟中谍8：最终... 05月30日上映 选座购票 时间之子 05月30日上映 选座购票 红嫁衣', 'score': 0.5775198, 'raw_content': None}, {'title': '上海影讯_上海电影_上海电影院排片表 - 上海电影网', 'url': 'http://shanghai.movie.iecity.com/', 'content': '上海电影网：提供上海每日影讯查询，最新播放电影信息，即将上映的电影预告，上海电影院地址、设施、介绍、排名表查询，电影院在线选座，特价电影票团购。', 'score': 0.39810276, 'raw_content': None}, {'title': '猫眼电影 - 娱乐看猫眼', 'url': 'https://www.maoyan.com/', 'content': '猫眼电影 扫码下载APP 选座更优惠 今日票房 \uea60\uef28\ue3ec.\ue3df\ue3ec万 今日大盘 \ue3ec\uf3e8\ueb19\uf7d2.\ue3ec万 查看更多 北京时间 19:49:50 猫眼专业版实时票房数据 最受期待 上映时间：2025-05-23 \uef28\ue3df\uf3e8\uea6f\uf7d2人想看 \ueb19.\uea60分 热门影人 赵海燕 王迅 赵丽颖 兰西雅 潘斌龙 白客 李晓川 欧嘉·柯瑞兰寇 陈明昊 李感 娱乐热点 网剧《青春奇遇记第二季》：5月9日优酷、腾讯视频全网首播 《悬镜》黑帮教父VS《绝密较量》情报之王，正邪大佬联手破案 《水饺皇后》“已读乱回”特别视频，异地语言不通看马丽大胆应对 电影《红嫁衣》全国预售火热开启 《哆啦A梦：大雄的绘画奇遇记》确认引进 绘画冒险全新开启 动作大片《会计刺客2》正式开启预售 兄弟同心硬核枪战震撼视听 爆笑讽刺喜剧《人生开门红》发布“窃听风云”正片片段 《黑暗迷踪》定档520，情侣试胆新爆款，惊悚与爱情的极致博弈 奥斯卡最佳国际影片《我仍在此》发布终极预告与海报 预售开启 电影《独一无二》全新特辑“狗pro”观察室爆料全新大“瓜” 正在热映（72部） 即将上映（135部） 关于猫眼 : 关于我们 董事会成员 投资者关系 友情链接 : 美团网 格瓦拉 美团下载 欢喜首映 商务合作邮箱：v@maoyan.com 客服电话：10105335 违法和不良信息/涉未成年人有害信息举报电话：4006018900 用户举报/涉未成年人有害信息举报邮箱：tousujubao@meituan.com 舞弊线索举报邮箱：wubijubao@maoyan.com 中华人民共和国增值电信业务经营许可证 京B2-20190350 营业性演出许可证 京演（机构）（2019）4094号 广播电视节目制作经营许可证 （京）字第08478号 网络文化经营许可证 京网文（2022）1334-041号 艺术品经营单位备案证明  京东艺（2022）0095号 猫眼用户服务协议  猫眼平台交易规则总则  隐私政策 京公网安备 11010102003232号 京ICP备16022489号-1 北京猫眼文化传媒有限公司 ©2016 猫眼电影 www.maoyan.com', 'score': 0.1009763, 'raw_content': None}], 'response_time': 1.88}
2025-05-30 07:50:04,374 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:50:04,376 ChatBI->     INFO     查询的类型agent 返回的结果: 最近在上海上映的电影有《碟中谍8：最终任务》、《时间之子》、《红嫁衣》等，你可以通过[豆瓣电影](https://movie.douban.com/cinema/nowplaying/shanghai/)或[猫眼电影](https://www.maoyan.com/)获取更详细的电影信息和排期。 耗时：6.82秒
2025-05-30 07:50:04,376 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 最近在上海上映的电影有《碟中谍8：最终任务》、《时间之子》、《红嫁衣》等，你可以通过[豆瓣电影](https://movie.douban.com/cinema/nowplaying/shanghai/)或[猫眼电影](https://www.maoyan.com/)获取更详细的电影信息和排期。 耗时：6.82秒
INFO:     172.31.31.74:50656 - "POST /ai_assistant?query=%E6%9C%80%E8%BF%91%E4%B8%8A%E6%B5%B7%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%B5%E5%BD%B1%E7%9C%8B HTTP/1.1" 200 OK
2025-05-30 07:50:42,559 ChatBI->     INFO     收到的查询问题： 最近上海有什么电影看
2025-05-30 07:50:42,559 - ChatBI->  - INFO - 收到的查询问题： 最近上海有什么电影看
2025-05-30 07:50:43,284 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:50:43,286 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 07:50:43,286 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 07:50:44,128 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:50:44,130 ChatBI->     INFO     进入联网搜索节点，查询内容：上海 最近上映的电影
2025-05-30 07:50:44,130 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：上海 最近上映的电影
2025-05-30 07:50:45,802 ChatBI->     INFO     联网搜索结果：{'query': '上海 最近上映的电影', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海 - 在线购票&影讯 - 豆瓣电影', 'url': 'https://movie.douban.com/cinema/nowplaying/shanghai/', 'content': '上海电影院在线优惠购票及影讯排片查询 ... 苍茫的天涯是... 5.7; 选座购票 ... 05月29日上映 碟中谍8：最终... 05月30日上映 选座购票 时间之子 05月30日上映 选座购票 红嫁衣', 'score': 0.5775198, 'raw_content': None}, {'title': '上海影讯_上海电影_上海电影院排片表 - 上海电影网', 'url': 'http://shanghai.movie.iecity.com/', 'content': '上海电影网：提供上海每日影讯查询，最新播放电影信息，即将上映的电影预告，上海电影院地址、设施、介绍、排名表查询，电影院在线选座，特价电影票团购。', 'score': 0.39810276, 'raw_content': None}, {'title': '猫眼电影 - 娱乐看猫眼', 'url': 'https://www.maoyan.com/', 'content': '猫眼电影 扫码下载APP 选座更优惠 今日票房 \uea60\uef28\ue3ec.\ue3df\ue3ec万 今日大盘 \ue3ec\uf3e8\ueb19\uf7d2.\ue3ec万 查看更多 北京时间 19:49:50 猫眼专业版实时票房数据 最受期待 上映时间：2025-05-23 \uef28\ue3df\uf3e8\uea6f\uf7d2人想看 \ueb19.\uea60分 热门影人 赵海燕 王迅 赵丽颖 兰西雅 潘斌龙 白客 李晓川 欧嘉·柯瑞兰寇 陈明昊 李感 娱乐热点 网剧《青春奇遇记第二季》：5月9日优酷、腾讯视频全网首播 《悬镜》黑帮教父VS《绝密较量》情报之王，正邪大佬联手破案 《水饺皇后》“已读乱回”特别视频，异地语言不通看马丽大胆应对 电影《红嫁衣》全国预售火热开启 《哆啦A梦：大雄的绘画奇遇记》确认引进 绘画冒险全新开启 动作大片《会计刺客2》正式开启预售 兄弟同心硬核枪战震撼视听 爆笑讽刺喜剧《人生开门红》发布“窃听风云”正片片段 《黑暗迷踪》定档520，情侣试胆新爆款，惊悚与爱情的极致博弈 奥斯卡最佳国际影片《我仍在此》发布终极预告与海报 预售开启 电影《独一无二》全新特辑“狗pro”观察室爆料全新大“瓜” 正在热映（72部） 即将上映（135部） 关于猫眼 : 关于我们 董事会成员 投资者关系 友情链接 : 美团网 格瓦拉 美团下载 欢喜首映 商务合作邮箱：v@maoyan.com 客服电话：10105335 违法和不良信息/涉未成年人有害信息举报电话：4006018900 用户举报/涉未成年人有害信息举报邮箱：tousujubao@meituan.com 舞弊线索举报邮箱：wubijubao@maoyan.com 中华人民共和国增值电信业务经营许可证 京B2-20190350 营业性演出许可证 京演（机构）（2019）4094号 广播电视节目制作经营许可证 （京）字第08478号 网络文化经营许可证 京网文（2022）1334-041号 艺术品经营单位备案证明  京东艺（2022）0095号 猫眼用户服务协议  猫眼平台交易规则总则  隐私政策 京公网安备 11010102003232号 京ICP备16022489号-1 北京猫眼文化传媒有限公司 ©2016 猫眼电影 www.maoyan.com', 'score': 0.1009763, 'raw_content': None}], 'response_time': 0.76}
2025-05-30 07:50:45,802 - ChatBI->  - INFO - 联网搜索结果：{'query': '上海 最近上映的电影', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海 - 在线购票&影讯 - 豆瓣电影', 'url': 'https://movie.douban.com/cinema/nowplaying/shanghai/', 'content': '上海电影院在线优惠购票及影讯排片查询 ... 苍茫的天涯是... 5.7; 选座购票 ... 05月29日上映 碟中谍8：最终... 05月30日上映 选座购票 时间之子 05月30日上映 选座购票 红嫁衣', 'score': 0.5775198, 'raw_content': None}, {'title': '上海影讯_上海电影_上海电影院排片表 - 上海电影网', 'url': 'http://shanghai.movie.iecity.com/', 'content': '上海电影网：提供上海每日影讯查询，最新播放电影信息，即将上映的电影预告，上海电影院地址、设施、介绍、排名表查询，电影院在线选座，特价电影票团购。', 'score': 0.39810276, 'raw_content': None}, {'title': '猫眼电影 - 娱乐看猫眼', 'url': 'https://www.maoyan.com/', 'content': '猫眼电影 扫码下载APP 选座更优惠 今日票房 \uea60\uef28\ue3ec.\ue3df\ue3ec万 今日大盘 \ue3ec\uf3e8\ueb19\uf7d2.\ue3ec万 查看更多 北京时间 19:49:50 猫眼专业版实时票房数据 最受期待 上映时间：2025-05-23 \uef28\ue3df\uf3e8\uea6f\uf7d2人想看 \ueb19.\uea60分 热门影人 赵海燕 王迅 赵丽颖 兰西雅 潘斌龙 白客 李晓川 欧嘉·柯瑞兰寇 陈明昊 李感 娱乐热点 网剧《青春奇遇记第二季》：5月9日优酷、腾讯视频全网首播 《悬镜》黑帮教父VS《绝密较量》情报之王，正邪大佬联手破案 《水饺皇后》“已读乱回”特别视频，异地语言不通看马丽大胆应对 电影《红嫁衣》全国预售火热开启 《哆啦A梦：大雄的绘画奇遇记》确认引进 绘画冒险全新开启 动作大片《会计刺客2》正式开启预售 兄弟同心硬核枪战震撼视听 爆笑讽刺喜剧《人生开门红》发布“窃听风云”正片片段 《黑暗迷踪》定档520，情侣试胆新爆款，惊悚与爱情的极致博弈 奥斯卡最佳国际影片《我仍在此》发布终极预告与海报 预售开启 电影《独一无二》全新特辑“狗pro”观察室爆料全新大“瓜” 正在热映（72部） 即将上映（135部） 关于猫眼 : 关于我们 董事会成员 投资者关系 友情链接 : 美团网 格瓦拉 美团下载 欢喜首映 商务合作邮箱：v@maoyan.com 客服电话：10105335 违法和不良信息/涉未成年人有害信息举报电话：4006018900 用户举报/涉未成年人有害信息举报邮箱：tousujubao@meituan.com 舞弊线索举报邮箱：wubijubao@maoyan.com 中华人民共和国增值电信业务经营许可证 京B2-20190350 营业性演出许可证 京演（机构）（2019）4094号 广播电视节目制作经营许可证 （京）字第08478号 网络文化经营许可证 京网文（2022）1334-041号 艺术品经营单位备案证明  京东艺（2022）0095号 猫眼用户服务协议  猫眼平台交易规则总则  隐私政策 京公网安备 11010102003232号 京ICP备16022489号-1 北京猫眼文化传媒有限公司 ©2016 猫眼电影 www.maoyan.com', 'score': 0.1009763, 'raw_content': None}], 'response_time': 0.76}
2025-05-30 07:50:48,012 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:50:48,014 ChatBI->     INFO     查询的类型agent 返回的结果: 最近在上海上映的电影有《碟中谍8：最终任务》、《时间之子》、《红嫁衣》等。你可以通过[豆瓣电影](https://movie.douban.com/cinema/nowplaying/shanghai/)或[猫眼电影](https://www.maoyan.com/)获取更详细的电影信息和排期。 耗时：5.46秒
2025-05-30 07:50:48,014 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 最近在上海上映的电影有《碟中谍8：最终任务》、《时间之子》、《红嫁衣》等。你可以通过[豆瓣电影](https://movie.douban.com/cinema/nowplaying/shanghai/)或[猫眼电影](https://www.maoyan.com/)获取更详细的电影信息和排期。 耗时：5.46秒
INFO:     172.31.31.74:50692 - "POST /ai_assistant?query=%E6%9C%80%E8%BF%91%E4%B8%8A%E6%B5%B7%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%B5%E5%BD%B1%E7%9C%8B HTTP/1.1" 200 OK
2025-05-30 07:53:05,417 ChatBI->     INFO     收到的查询问题： 最近上海有什么电影看
2025-05-30 07:53:05,417 - ChatBI->  - INFO - 收到的查询问题： 最近上海有什么电影看
2025-05-30 07:53:06,193 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:53:06,195 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 07:53:06,195 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 07:53:07,047 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:53:07,050 ChatBI->     INFO     进入联网搜索节点，查询内容：上海 最近上映的电影
2025-05-30 07:53:07,050 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：上海 最近上映的电影
2025-05-30 07:53:09,448 ChatBI->     INFO     联网搜索结果：{'query': '上海 最近上映的电影', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海 - 在线购票&影讯 - 豆瓣电影', 'url': 'https://movie.douban.com/cinema/nowplaying/shanghai/', 'content': '上海电影院在线优惠购票及影讯排片查询 ... 苍茫的天涯是... 5.7; 选座购票 ... 05月29日上映 碟中谍8：最终... 05月30日上映 选座购票 时间之子 05月30日上映 选座购票 红嫁衣', 'score': 0.5775198, 'raw_content': None}, {'title': '上海影讯_上海电影_上海电影院排片表 - 上海电影网', 'url': 'http://shanghai.movie.iecity.com/', 'content': '上海电影网：提供上海每日影讯查询，最新播放电影信息，即将上映的电影预告，上海电影院地址、设施、介绍、排名表查询，电影院在线选座，特价电影票团购。', 'score': 0.39810276, 'raw_content': None}, {'title': '猫眼电影 - 娱乐看猫眼', 'url': 'https://www.maoyan.com/', 'content': '猫眼电影 扫码下载APP 选座更优惠 今日票房 \uea60\uef28\ue3ec.\ue3df\ue3ec万 今日大盘 \ue3ec\uf3e8\ueb19\uf7d2.\ue3ec万 查看更多 北京时间 19:49:50 猫眼专业版实时票房数据 最受期待 上映时间：2025-05-23 \uef28\ue3df\uf3e8\uea6f\uf7d2人想看 \ueb19.\uea60分 热门影人 赵海燕 王迅 赵丽颖 兰西雅 潘斌龙 白客 李晓川 欧嘉·柯瑞兰寇 陈明昊 李感 娱乐热点 网剧《青春奇遇记第二季》：5月9日优酷、腾讯视频全网首播 《悬镜》黑帮教父VS《绝密较量》情报之王，正邪大佬联手破案 《水饺皇后》“已读乱回”特别视频，异地语言不通看马丽大胆应对 电影《红嫁衣》全国预售火热开启 《哆啦A梦：大雄的绘画奇遇记》确认引进 绘画冒险全新开启 动作大片《会计刺客2》正式开启预售 兄弟同心硬核枪战震撼视听 爆笑讽刺喜剧《人生开门红》发布“窃听风云”正片片段 《黑暗迷踪》定档520，情侣试胆新爆款，惊悚与爱情的极致博弈 奥斯卡最佳国际影片《我仍在此》发布终极预告与海报 预售开启 电影《独一无二》全新特辑“狗pro”观察室爆料全新大“瓜” 正在热映（72部） 即将上映（135部） 关于猫眼 : 关于我们 董事会成员 投资者关系 友情链接 : 美团网 格瓦拉 美团下载 欢喜首映 商务合作邮箱：v@maoyan.com 客服电话：10105335 违法和不良信息/涉未成年人有害信息举报电话：4006018900 用户举报/涉未成年人有害信息举报邮箱：tousujubao@meituan.com 舞弊线索举报邮箱：wubijubao@maoyan.com 中华人民共和国增值电信业务经营许可证 京B2-20190350 营业性演出许可证 京演（机构）（2019）4094号 广播电视节目制作经营许可证 （京）字第08478号 网络文化经营许可证 京网文（2022）1334-041号 艺术品经营单位备案证明  京东艺（2022）0095号 猫眼用户服务协议  猫眼平台交易规则总则  隐私政策 京公网安备 11010102003232号 京ICP备16022489号-1 北京猫眼文化传媒有限公司 ©2016 猫眼电影 www.maoyan.com', 'score': 0.1009763, 'raw_content': None}], 'response_time': 1.2}
2025-05-30 07:53:09,448 - ChatBI->  - INFO - 联网搜索结果：{'query': '上海 最近上映的电影', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海 - 在线购票&影讯 - 豆瓣电影', 'url': 'https://movie.douban.com/cinema/nowplaying/shanghai/', 'content': '上海电影院在线优惠购票及影讯排片查询 ... 苍茫的天涯是... 5.7; 选座购票 ... 05月29日上映 碟中谍8：最终... 05月30日上映 选座购票 时间之子 05月30日上映 选座购票 红嫁衣', 'score': 0.5775198, 'raw_content': None}, {'title': '上海影讯_上海电影_上海电影院排片表 - 上海电影网', 'url': 'http://shanghai.movie.iecity.com/', 'content': '上海电影网：提供上海每日影讯查询，最新播放电影信息，即将上映的电影预告，上海电影院地址、设施、介绍、排名表查询，电影院在线选座，特价电影票团购。', 'score': 0.39810276, 'raw_content': None}, {'title': '猫眼电影 - 娱乐看猫眼', 'url': 'https://www.maoyan.com/', 'content': '猫眼电影 扫码下载APP 选座更优惠 今日票房 \uea60\uef28\ue3ec.\ue3df\ue3ec万 今日大盘 \ue3ec\uf3e8\ueb19\uf7d2.\ue3ec万 查看更多 北京时间 19:49:50 猫眼专业版实时票房数据 最受期待 上映时间：2025-05-23 \uef28\ue3df\uf3e8\uea6f\uf7d2人想看 \ueb19.\uea60分 热门影人 赵海燕 王迅 赵丽颖 兰西雅 潘斌龙 白客 李晓川 欧嘉·柯瑞兰寇 陈明昊 李感 娱乐热点 网剧《青春奇遇记第二季》：5月9日优酷、腾讯视频全网首播 《悬镜》黑帮教父VS《绝密较量》情报之王，正邪大佬联手破案 《水饺皇后》“已读乱回”特别视频，异地语言不通看马丽大胆应对 电影《红嫁衣》全国预售火热开启 《哆啦A梦：大雄的绘画奇遇记》确认引进 绘画冒险全新开启 动作大片《会计刺客2》正式开启预售 兄弟同心硬核枪战震撼视听 爆笑讽刺喜剧《人生开门红》发布“窃听风云”正片片段 《黑暗迷踪》定档520，情侣试胆新爆款，惊悚与爱情的极致博弈 奥斯卡最佳国际影片《我仍在此》发布终极预告与海报 预售开启 电影《独一无二》全新特辑“狗pro”观察室爆料全新大“瓜” 正在热映（72部） 即将上映（135部） 关于猫眼 : 关于我们 董事会成员 投资者关系 友情链接 : 美团网 格瓦拉 美团下载 欢喜首映 商务合作邮箱：v@maoyan.com 客服电话：10105335 违法和不良信息/涉未成年人有害信息举报电话：4006018900 用户举报/涉未成年人有害信息举报邮箱：tousujubao@meituan.com 舞弊线索举报邮箱：wubijubao@maoyan.com 中华人民共和国增值电信业务经营许可证 京B2-20190350 营业性演出许可证 京演（机构）（2019）4094号 广播电视节目制作经营许可证 （京）字第08478号 网络文化经营许可证 京网文（2022）1334-041号 艺术品经营单位备案证明  京东艺（2022）0095号 猫眼用户服务协议  猫眼平台交易规则总则  隐私政策 京公网安备 11010102003232号 京ICP备16022489号-1 北京猫眼文化传媒有限公司 ©2016 猫眼电影 www.maoyan.com', 'score': 0.1009763, 'raw_content': None}], 'response_time': 1.2}
2025-05-30 07:53:11,713 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:53:11,715 ChatBI->     INFO     查询的类型agent 返回的结果: 最近在上海上映的电影有《碟中谍8：最终任务》、《时间之子》、《红嫁衣》等，你可以通过[豆瓣电影](https://movie.douban.com/cinema/nowplaying/shanghai/)或[猫眼电影](https://www.maoyan.com/)获取更详细的电影信息和排期。 耗时：6.30秒
2025-05-30 07:53:11,715 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 最近在上海上映的电影有《碟中谍8：最终任务》、《时间之子》、《红嫁衣》等，你可以通过[豆瓣电影](https://movie.douban.com/cinema/nowplaying/shanghai/)或[猫眼电影](https://www.maoyan.com/)获取更详细的电影信息和排期。 耗时：6.30秒
INFO:     172.31.31.74:50820 - "POST /ai_assistant?query=%E6%9C%80%E8%BF%91%E4%B8%8A%E6%B5%B7%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%B5%E5%BD%B1%E7%9C%8B HTTP/1.1" 200 OK
2025-05-30 07:53:21,492 ChatBI->     INFO     收到的查询问题： 最近上海有什么电影看
2025-05-30 07:53:21,492 - ChatBI->  - INFO - 收到的查询问题： 最近上海有什么电影看
2025-05-30 07:53:22,231 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:53:22,234 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 07:53:22,234 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 07:53:23,077 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:53:23,079 ChatBI->     INFO     进入联网搜索节点，查询内容：上海 最近上映的电影
2025-05-30 07:53:23,079 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：上海 最近上映的电影
2025-05-30 07:53:25,383 ChatBI->     INFO     联网搜索结果：{'query': '上海 最近上映的电影', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海 - 在线购票&影讯 - 豆瓣电影', 'url': 'https://movie.douban.com/cinema/nowplaying/shanghai/', 'content': '上海电影院在线优惠购票及影讯排片查询 ... 苍茫的天涯是... 5.7; 选座购票 ... 05月29日上映 碟中谍8：最终... 05月30日上映 选座购票 时间之子 05月30日上映 选座购票 红嫁衣', 'score': 0.5775198, 'raw_content': None}, {'title': '上海影讯_上海电影_上海电影院排片表 - 上海电影网', 'url': 'http://shanghai.movie.iecity.com/', 'content': '上海电影网：提供上海每日影讯查询，最新播放电影信息，即将上映的电影预告，上海电影院地址、设施、介绍、排名表查询，电影院在线选座，特价电影票团购。', 'score': 0.39810276, 'raw_content': None}, {'title': '猫眼电影 - 娱乐看猫眼', 'url': 'https://www.maoyan.com/', 'content': '猫眼电影 扫码下载APP 选座更优惠 今日票房 \uea60\uef28\ue3ec.\ue3df\ue3ec万 今日大盘 \ue3ec\uf3e8\ueb19\uf7d2.\ue3ec万 查看更多 北京时间 19:49:50 猫眼专业版实时票房数据 最受期待 上映时间：2025-05-23 \uef28\ue3df\uf3e8\uea6f\uf7d2人想看 \ueb19.\uea60分 热门影人 赵海燕 王迅 赵丽颖 兰西雅 潘斌龙 白客 李晓川 欧嘉·柯瑞兰寇 陈明昊 李感 娱乐热点 网剧《青春奇遇记第二季》：5月9日优酷、腾讯视频全网首播 《悬镜》黑帮教父VS《绝密较量》情报之王，正邪大佬联手破案 《水饺皇后》“已读乱回”特别视频，异地语言不通看马丽大胆应对 电影《红嫁衣》全国预售火热开启 《哆啦A梦：大雄的绘画奇遇记》确认引进 绘画冒险全新开启 动作大片《会计刺客2》正式开启预售 兄弟同心硬核枪战震撼视听 爆笑讽刺喜剧《人生开门红》发布“窃听风云”正片片段 《黑暗迷踪》定档520，情侣试胆新爆款，惊悚与爱情的极致博弈 奥斯卡最佳国际影片《我仍在此》发布终极预告与海报 预售开启 电影《独一无二》全新特辑“狗pro”观察室爆料全新大“瓜” 正在热映（72部） 即将上映（135部） 关于猫眼 : 关于我们 董事会成员 投资者关系 友情链接 : 美团网 格瓦拉 美团下载 欢喜首映 商务合作邮箱：v@maoyan.com 客服电话：10105335 违法和不良信息/涉未成年人有害信息举报电话：4006018900 用户举报/涉未成年人有害信息举报邮箱：tousujubao@meituan.com 舞弊线索举报邮箱：wubijubao@maoyan.com 中华人民共和国增值电信业务经营许可证 京B2-20190350 营业性演出许可证 京演（机构）（2019）4094号 广播电视节目制作经营许可证 （京）字第08478号 网络文化经营许可证 京网文（2022）1334-041号 艺术品经营单位备案证明  京东艺（2022）0095号 猫眼用户服务协议  猫眼平台交易规则总则  隐私政策 京公网安备 11010102003232号 京ICP备16022489号-1 北京猫眼文化传媒有限公司 ©2016 猫眼电影 www.maoyan.com', 'score': 0.1009763, 'raw_content': None}], 'response_time': 1.43}
2025-05-30 07:53:25,383 - ChatBI->  - INFO - 联网搜索结果：{'query': '上海 最近上映的电影', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海 - 在线购票&影讯 - 豆瓣电影', 'url': 'https://movie.douban.com/cinema/nowplaying/shanghai/', 'content': '上海电影院在线优惠购票及影讯排片查询 ... 苍茫的天涯是... 5.7; 选座购票 ... 05月29日上映 碟中谍8：最终... 05月30日上映 选座购票 时间之子 05月30日上映 选座购票 红嫁衣', 'score': 0.5775198, 'raw_content': None}, {'title': '上海影讯_上海电影_上海电影院排片表 - 上海电影网', 'url': 'http://shanghai.movie.iecity.com/', 'content': '上海电影网：提供上海每日影讯查询，最新播放电影信息，即将上映的电影预告，上海电影院地址、设施、介绍、排名表查询，电影院在线选座，特价电影票团购。', 'score': 0.39810276, 'raw_content': None}, {'title': '猫眼电影 - 娱乐看猫眼', 'url': 'https://www.maoyan.com/', 'content': '猫眼电影 扫码下载APP 选座更优惠 今日票房 \uea60\uef28\ue3ec.\ue3df\ue3ec万 今日大盘 \ue3ec\uf3e8\ueb19\uf7d2.\ue3ec万 查看更多 北京时间 19:49:50 猫眼专业版实时票房数据 最受期待 上映时间：2025-05-23 \uef28\ue3df\uf3e8\uea6f\uf7d2人想看 \ueb19.\uea60分 热门影人 赵海燕 王迅 赵丽颖 兰西雅 潘斌龙 白客 李晓川 欧嘉·柯瑞兰寇 陈明昊 李感 娱乐热点 网剧《青春奇遇记第二季》：5月9日优酷、腾讯视频全网首播 《悬镜》黑帮教父VS《绝密较量》情报之王，正邪大佬联手破案 《水饺皇后》“已读乱回”特别视频，异地语言不通看马丽大胆应对 电影《红嫁衣》全国预售火热开启 《哆啦A梦：大雄的绘画奇遇记》确认引进 绘画冒险全新开启 动作大片《会计刺客2》正式开启预售 兄弟同心硬核枪战震撼视听 爆笑讽刺喜剧《人生开门红》发布“窃听风云”正片片段 《黑暗迷踪》定档520，情侣试胆新爆款，惊悚与爱情的极致博弈 奥斯卡最佳国际影片《我仍在此》发布终极预告与海报 预售开启 电影《独一无二》全新特辑“狗pro”观察室爆料全新大“瓜” 正在热映（72部） 即将上映（135部） 关于猫眼 : 关于我们 董事会成员 投资者关系 友情链接 : 美团网 格瓦拉 美团下载 欢喜首映 商务合作邮箱：v@maoyan.com 客服电话：10105335 违法和不良信息/涉未成年人有害信息举报电话：4006018900 用户举报/涉未成年人有害信息举报邮箱：tousujubao@meituan.com 舞弊线索举报邮箱：wubijubao@maoyan.com 中华人民共和国增值电信业务经营许可证 京B2-20190350 营业性演出许可证 京演（机构）（2019）4094号 广播电视节目制作经营许可证 （京）字第08478号 网络文化经营许可证 京网文（2022）1334-041号 艺术品经营单位备案证明  京东艺（2022）0095号 猫眼用户服务协议  猫眼平台交易规则总则  隐私政策 京公网安备 11010102003232号 京ICP备16022489号-1 北京猫眼文化传媒有限公司 ©2016 猫眼电影 www.maoyan.com', 'score': 0.1009763, 'raw_content': None}], 'response_time': 1.43}
2025-05-30 07:53:27,612 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 07:53:27,614 ChatBI->     INFO     查询的类型agent 返回的结果: 最近在上海上映的电影有《碟中谍8：最终任务》、《时间之子》、《红嫁衣》等。你可以通过[豆瓣电影](https://movie.douban.com/cinema/nowplaying/shanghai/)或[猫眼电影](https://www.maoyan.com/)获取更详细的电影信息和排期。 耗时：6.12秒
2025-05-30 07:53:27,614 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 最近在上海上映的电影有《碟中谍8：最终任务》、《时间之子》、《红嫁衣》等。你可以通过[豆瓣电影](https://movie.douban.com/cinema/nowplaying/shanghai/)或[猫眼电影](https://www.maoyan.com/)获取更详细的电影信息和排期。 耗时：6.12秒
INFO:     172.31.31.74:50842 - "POST /ai_assistant?query=%E6%9C%80%E8%BF%91%E4%B8%8A%E6%B5%B7%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%B5%E5%BD%B1%E7%9C%8B HTTP/1.1" 200 OK
2025-05-30 08:00:41,622 ChatBI->     INFO     收到的查询问题： 明天会下雨吗
2025-05-30 08:00:41,622 - ChatBI->  - INFO - 收到的查询问题： 明天会下雨吗
2025-05-30 08:00:42,345 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 08:00:42,353 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 08:00:42,353 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 08:00:43,318 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 08:00:43,321 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-05-30 08:00:43,321 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-05-30 08:00:43,397 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-30 08:00:43,397 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-30 08:00:44,152 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 08:00:44,155 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-05-30 08:00:44,155 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-05-30 08:00:44,360 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-30 15:33:27', 'casts': [{'date': '2025-05-30', 'week': '5', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '29', 'nighttemp': '19', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '19.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '阴', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '19', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '19.0'}, {'date': '2025-06-01', 'week': '7', 'dayweather': '大雨', 'nightweather': '暴雨', 'daytemp': '25', 'nighttemp': '22', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-02', 'week': '1', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '25', 'nighttemp': '18', 'daywind': '西', 'nightwind': '西', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '18.0'}]}]}
2025-05-30 08:00:44,360 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-30 15:33:27', 'casts': [{'date': '2025-05-30', 'week': '5', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '29', 'nighttemp': '19', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '19.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '阴', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '19', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '19.0'}, {'date': '2025-06-01', 'week': '7', 'dayweather': '大雨', 'nightweather': '暴雨', 'daytemp': '25', 'nighttemp': '22', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-02', 'week': '1', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '25', 'nighttemp': '18', 'daywind': '西', 'nightwind': '西', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '18.0'}]}]}
2025-05-30 08:00:45,447 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 08:00:45,449 ChatBI->     INFO     查询的类型agent 返回的结果: 明天（2025年5月31日）上海市的天气预报为白天阴，夜间有小雨。请注意携带雨具。 耗时：3.83秒
2025-05-30 08:00:45,449 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 明天（2025年5月31日）上海市的天气预报为白天阴，夜间有小雨。请注意携带雨具。 耗时：3.83秒
INFO:     172.31.31.74:51128 - "POST /ai_assistant?query=%E6%98%8E%E5%A4%A9%E4%BC%9A%E4%B8%8B%E9%9B%A8%E5%90%97 HTTP/1.1" 200 OK
2025-05-30 08:01:38,433 ChatBI->     INFO     收到的查询问题： 明天会下雨吗
2025-05-30 08:01:38,433 - ChatBI->  - INFO - 收到的查询问题： 明天会下雨吗
2025-05-30 08:01:39,174 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 08:01:39,181 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 08:01:39,181 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 08:01:40,150 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 08:01:40,153 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-05-30 08:01:40,153 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-05-30 08:01:40,225 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-30 08:01:40,225 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-30 08:01:40,989 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 08:01:40,992 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-05-30 08:01:40,992 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-05-30 08:01:41,191 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-30 15:33:27', 'casts': [{'date': '2025-05-30', 'week': '5', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '29', 'nighttemp': '19', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '19.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '阴', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '19', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '19.0'}, {'date': '2025-06-01', 'week': '7', 'dayweather': '大雨', 'nightweather': '暴雨', 'daytemp': '25', 'nighttemp': '22', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-02', 'week': '1', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '25', 'nighttemp': '18', 'daywind': '西', 'nightwind': '西', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '18.0'}]}]}
2025-05-30 08:01:41,191 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-30 15:33:27', 'casts': [{'date': '2025-05-30', 'week': '5', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '29', 'nighttemp': '19', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '19.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '阴', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '19', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '19.0'}, {'date': '2025-06-01', 'week': '7', 'dayweather': '大雨', 'nightweather': '暴雨', 'daytemp': '25', 'nighttemp': '22', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-02', 'week': '1', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '25', 'nighttemp': '18', 'daywind': '西', 'nightwind': '西', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '18.0'}]}]}
2025-05-30 08:01:42,278 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 08:01:42,280 ChatBI->     INFO     查询的类型agent 返回的结果: 明天（2025年5月31日）上海市的天气预报为白天阴，夜间有小雨。请注意携带雨具。 耗时：3.85秒
2025-05-30 08:01:42,280 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 明天（2025年5月31日）上海市的天气预报为白天阴，夜间有小雨。请注意携带雨具。 耗时：3.85秒
INFO:     172.31.31.74:51182 - "POST /ai_assistant?query=%E6%98%8E%E5%A4%A9%E4%BC%9A%E4%B8%8B%E9%9B%A8%E5%90%97 HTTP/1.1" 200 OK
2025-05-30 08:43:50,623 ChatBI->     INFO     收到的查询问题： 最近上海有什么电影看
2025-05-30 08:43:50,623 - ChatBI->  - INFO - 收到的查询问题： 最近上海有什么电影看
2025-05-30 08:43:51,349 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 08:43:51,356 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 08:43:51,356 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 08:43:52,202 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 08:43:52,204 ChatBI->     INFO     进入联网搜索节点，查询内容：上海 最近上映的电影
2025-05-30 08:43:52,204 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：上海 最近上映的电影
2025-05-30 08:43:55,667 ChatBI->     INFO     联网搜索结果：{'query': '上海 最近上映的电影', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海 - 在线购票&影讯 - 豆瓣电影', 'url': 'https://movie.douban.com/cinema/nowplaying/shanghai/', 'content': '上海电影院在线优惠购票及影讯排片查询 ... 苍茫的天涯是... 5.7; 选座购票 ... 05月29日上映 碟中谍8：最终... 05月30日上映 选座购票 时间之子 05月30日上映 选座购票 红嫁衣', 'score': 0.5775198, 'raw_content': None}, {'title': '上海影讯_上海电影_上海电影院排片表 - 上海电影网', 'url': 'http://shanghai.movie.iecity.com/', 'content': '上海电影网：提供上海每日影讯查询，最新播放电影信息，即将上映的电影预告，上海电影院地址、设施、介绍、排名表查询，电影院在线选座，特价电影票团购。', 'score': 0.39810276, 'raw_content': None}, {'title': '猫眼电影 - 娱乐看猫眼', 'url': 'https://www.maoyan.com/', 'content': '猫眼电影 扫码下载APP 选座更优惠 今日票房 \uea60\uef28\ue3ec.\ue3df\ue3ec万 今日大盘 \ue3ec\uf3e8\ueb19\uf7d2.\ue3ec万 查看更多 北京时间 19:49:50 猫眼专业版实时票房数据 最受期待 上映时间：2025-05-23 \uef28\ue3df\uf3e8\uea6f\uf7d2人想看 \ueb19.\uea60分 热门影人 赵海燕 王迅 赵丽颖 兰西雅 潘斌龙 白客 李晓川 欧嘉·柯瑞兰寇 陈明昊 李感 娱乐热点 网剧《青春奇遇记第二季》：5月9日优酷、腾讯视频全网首播 《悬镜》黑帮教父VS《绝密较量》情报之王，正邪大佬联手破案 《水饺皇后》“已读乱回”特别视频，异地语言不通看马丽大胆应对 电影《红嫁衣》全国预售火热开启 《哆啦A梦：大雄的绘画奇遇记》确认引进 绘画冒险全新开启 动作大片《会计刺客2》正式开启预售 兄弟同心硬核枪战震撼视听 爆笑讽刺喜剧《人生开门红》发布“窃听风云”正片片段 《黑暗迷踪》定档520，情侣试胆新爆款，惊悚与爱情的极致博弈 奥斯卡最佳国际影片《我仍在此》发布终极预告与海报 预售开启 电影《独一无二》全新特辑“狗pro”观察室爆料全新大“瓜” 正在热映（72部） 即将上映（135部） 关于猫眼 : 关于我们 董事会成员 投资者关系 友情链接 : 美团网 格瓦拉 美团下载 欢喜首映 商务合作邮箱：v@maoyan.com 客服电话：10105335 违法和不良信息/涉未成年人有害信息举报电话：4006018900 用户举报/涉未成年人有害信息举报邮箱：tousujubao@meituan.com 舞弊线索举报邮箱：wubijubao@maoyan.com 中华人民共和国增值电信业务经营许可证 京B2-20190350 营业性演出许可证 京演（机构）（2019）4094号 广播电视节目制作经营许可证 （京）字第08478号 网络文化经营许可证 京网文（2022）1334-041号 艺术品经营单位备案证明  京东艺（2022）0095号 猫眼用户服务协议  猫眼平台交易规则总则  隐私政策 京公网安备 11010102003232号 京ICP备16022489号-1 北京猫眼文化传媒有限公司 ©2016 猫眼电影 www.maoyan.com', 'score': 0.1009763, 'raw_content': None}], 'response_time': 1.06}
2025-05-30 08:43:55,667 - ChatBI->  - INFO - 联网搜索结果：{'query': '上海 最近上映的电影', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海 - 在线购票&影讯 - 豆瓣电影', 'url': 'https://movie.douban.com/cinema/nowplaying/shanghai/', 'content': '上海电影院在线优惠购票及影讯排片查询 ... 苍茫的天涯是... 5.7; 选座购票 ... 05月29日上映 碟中谍8：最终... 05月30日上映 选座购票 时间之子 05月30日上映 选座购票 红嫁衣', 'score': 0.5775198, 'raw_content': None}, {'title': '上海影讯_上海电影_上海电影院排片表 - 上海电影网', 'url': 'http://shanghai.movie.iecity.com/', 'content': '上海电影网：提供上海每日影讯查询，最新播放电影信息，即将上映的电影预告，上海电影院地址、设施、介绍、排名表查询，电影院在线选座，特价电影票团购。', 'score': 0.39810276, 'raw_content': None}, {'title': '猫眼电影 - 娱乐看猫眼', 'url': 'https://www.maoyan.com/', 'content': '猫眼电影 扫码下载APP 选座更优惠 今日票房 \uea60\uef28\ue3ec.\ue3df\ue3ec万 今日大盘 \ue3ec\uf3e8\ueb19\uf7d2.\ue3ec万 查看更多 北京时间 19:49:50 猫眼专业版实时票房数据 最受期待 上映时间：2025-05-23 \uef28\ue3df\uf3e8\uea6f\uf7d2人想看 \ueb19.\uea60分 热门影人 赵海燕 王迅 赵丽颖 兰西雅 潘斌龙 白客 李晓川 欧嘉·柯瑞兰寇 陈明昊 李感 娱乐热点 网剧《青春奇遇记第二季》：5月9日优酷、腾讯视频全网首播 《悬镜》黑帮教父VS《绝密较量》情报之王，正邪大佬联手破案 《水饺皇后》“已读乱回”特别视频，异地语言不通看马丽大胆应对 电影《红嫁衣》全国预售火热开启 《哆啦A梦：大雄的绘画奇遇记》确认引进 绘画冒险全新开启 动作大片《会计刺客2》正式开启预售 兄弟同心硬核枪战震撼视听 爆笑讽刺喜剧《人生开门红》发布“窃听风云”正片片段 《黑暗迷踪》定档520，情侣试胆新爆款，惊悚与爱情的极致博弈 奥斯卡最佳国际影片《我仍在此》发布终极预告与海报 预售开启 电影《独一无二》全新特辑“狗pro”观察室爆料全新大“瓜” 正在热映（72部） 即将上映（135部） 关于猫眼 : 关于我们 董事会成员 投资者关系 友情链接 : 美团网 格瓦拉 美团下载 欢喜首映 商务合作邮箱：v@maoyan.com 客服电话：10105335 违法和不良信息/涉未成年人有害信息举报电话：4006018900 用户举报/涉未成年人有害信息举报邮箱：tousujubao@meituan.com 舞弊线索举报邮箱：wubijubao@maoyan.com 中华人民共和国增值电信业务经营许可证 京B2-20190350 营业性演出许可证 京演（机构）（2019）4094号 广播电视节目制作经营许可证 （京）字第08478号 网络文化经营许可证 京网文（2022）1334-041号 艺术品经营单位备案证明  京东艺（2022）0095号 猫眼用户服务协议  猫眼平台交易规则总则  隐私政策 京公网安备 11010102003232号 京ICP备16022489号-1 北京猫眼文化传媒有限公司 ©2016 猫眼电影 www.maoyan.com', 'score': 0.1009763, 'raw_content': None}], 'response_time': 1.06}
2025-05-30 08:43:57,920 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 08:43:57,922 ChatBI->     INFO     查询的类型agent 返回的结果: 最近在上海上映的电影有《碟中谍8：最终任务》、《时间之子》、《红嫁衣》等。你可以通过[豆瓣电影](https://movie.douban.com/cinema/nowplaying/shanghai/)或[猫眼电影](https://www.maoyan.com/)获取更详细的电影信息和排期。 耗时：7.30秒
2025-05-30 08:43:57,922 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 最近在上海上映的电影有《碟中谍8：最终任务》、《时间之子》、《红嫁衣》等。你可以通过[豆瓣电影](https://movie.douban.com/cinema/nowplaying/shanghai/)或[猫眼电影](https://www.maoyan.com/)获取更详细的电影信息和排期。 耗时：7.30秒
INFO:     172.31.31.74:52858 - "POST /ai_assistant?query=%E6%9C%80%E8%BF%91%E4%B8%8A%E6%B5%B7%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%B5%E5%BD%B1%E7%9C%8B HTTP/1.1" 200 OK
2025-05-30 09:16:36,118 ChatBI->     INFO     收到的查询问题： 明天会下雨吗
2025-05-30 09:16:36,118 - ChatBI->  - INFO - 收到的查询问题： 明天会下雨吗
2025-05-30 09:16:36,861 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 09:16:36,864 ChatBI->     INFO     路由的输出: grade=False
2025-05-30 09:16:36,864 - ChatBI->  - INFO - 路由的输出: grade=False
2025-05-30 09:16:37,834 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 09:16:37,837 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-05-30 09:16:37,837 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-05-30 09:16:37,900 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-30 09:16:37,900 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-05-30 09:16:38,665 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 09:16:38,668 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-05-30 09:16:38,668 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-05-30 09:16:38,927 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-30 17:01:06', 'casts': [{'date': '2025-05-30', 'week': '5', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '29', 'nighttemp': '19', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '19.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '阴', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '19', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '19.0'}, {'date': '2025-06-01', 'week': '7', 'dayweather': '大雨', 'nightweather': '暴雨', 'daytemp': '25', 'nighttemp': '22', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-02', 'week': '1', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '25', 'nighttemp': '18', 'daywind': '西', 'nightwind': '西', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '18.0'}]}]}
2025-05-30 09:16:38,927 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-05-30 17:01:06', 'casts': [{'date': '2025-05-30', 'week': '5', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '29', 'nighttemp': '19', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '19.0'}, {'date': '2025-05-31', 'week': '6', 'dayweather': '阴', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '19', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '19.0'}, {'date': '2025-06-01', 'week': '7', 'dayweather': '大雨', 'nightweather': '暴雨', 'daytemp': '25', 'nighttemp': '22', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-02', 'week': '1', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '25', 'nighttemp': '18', 'daywind': '西', 'nightwind': '西', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '18.0'}]}]}
2025-05-30 09:16:40,015 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-30 09:16:40,017 ChatBI->     INFO     查询的类型agent 返回的结果: 明天（2025年5月31日）上海市的天气预报为白天阴，夜间有小雨。请注意携带雨具。 耗时：3.90秒
2025-05-30 09:16:40,017 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 明天（2025年5月31日）上海市的天气预报为白天阴，夜间有小雨。请注意携带雨具。 耗时：3.90秒
INFO:     172.31.31.74:53972 - "POST /ai_assistant?query=%E6%98%8E%E5%A4%A9%E4%BC%9A%E4%B8%8B%E9%9B%A8%E5%90%97 HTTP/1.1" 200 OK
2025-06-03 01:31:16,891 ChatBI->     INFO     收到的查询问题： 最近上海有什么文娱活动
2025-06-03 01:31:16,891 - ChatBI->  - INFO - 收到的查询问题： 最近上海有什么文娱活动
2025-06-03 01:31:17,662 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:31:17,671 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 01:31:17,671 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 01:31:18,518 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:31:18,521 ChatBI->     INFO     进入联网搜索节点，查询内容：上海 最近 文娱活动
2025-06-03 01:31:18,521 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：上海 最近 文娱活动
2025-06-03 01:31:21,387 ChatBI->     INFO     联网搜索结果：{'query': '上海 最近 文娱活动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海最近一周同城活动_豆瓣 - Douban', 'url': 'https://shanghai.douban.com/events/week-all', 'content': '查找上海最近一周同城活动，根据活动时间、类型、区域筛选: 卤猫,艺术,上海影城sho,阿克曼,多梅尔,绘画,安东尼,溯溪,周末活动,避暑,上海艺术电影联盟,比利时电影展..', 'score': 0.6693348, 'raw_content': None}, {'title': '上海 | 2024一月活动合集 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/676621272', 'content': '在上海不是在参加活动，就是在参加活动的路上! 小助手整理了最近两周上海的热门活动，演出舞台剧展览都有~喜欢哪个的宝子可千万不要错过啦 【演出】 橘子海 上海加场. 你可能没听说过这个乐队，但你很可能听过他们的 夏日漱石 。如果没时间去海边看', 'score': 0.6549173, 'raw_content': None}, {'title': '上海活动汇总_上海周末去哪玩_上海近期活动-上海本地宝', 'url': 'https://sh.bendibao.com/xiuxian/', 'content': '上海本地宝为大家带来上海各种活动演出信息汇总，上海周末活动汇总，上海免费活动汇总，上海展会大全，上海演唱会大全', 'score': 0.49582586, 'raw_content': None}], 'response_time': 1.76}
2025-06-03 01:31:21,387 - ChatBI->  - INFO - 联网搜索结果：{'query': '上海 最近 文娱活动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海最近一周同城活动_豆瓣 - Douban', 'url': 'https://shanghai.douban.com/events/week-all', 'content': '查找上海最近一周同城活动，根据活动时间、类型、区域筛选: 卤猫,艺术,上海影城sho,阿克曼,多梅尔,绘画,安东尼,溯溪,周末活动,避暑,上海艺术电影联盟,比利时电影展..', 'score': 0.6693348, 'raw_content': None}, {'title': '上海 | 2024一月活动合集 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/676621272', 'content': '在上海不是在参加活动，就是在参加活动的路上! 小助手整理了最近两周上海的热门活动，演出舞台剧展览都有~喜欢哪个的宝子可千万不要错过啦 【演出】 橘子海 上海加场. 你可能没听说过这个乐队，但你很可能听过他们的 夏日漱石 。如果没时间去海边看', 'score': 0.6549173, 'raw_content': None}, {'title': '上海活动汇总_上海周末去哪玩_上海近期活动-上海本地宝', 'url': 'https://sh.bendibao.com/xiuxian/', 'content': '上海本地宝为大家带来上海各种活动演出信息汇总，上海周末活动汇总，上海免费活动汇总，上海展会大全，上海演唱会大全', 'score': 0.49582586, 'raw_content': None}], 'response_time': 1.76}
2025-06-03 01:31:23,959 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:31:23,961 ChatBI->     INFO     查询的类型agent 返回的结果: 最近上海有一些文娱活动，你可以参考以下链接：

1. [上海最近一周同城活动](https://shanghai.douban.com/events/week-all)
2. [上海 | 2024一月活动合集](https://zhuanlan.zhihu.com/p/676621272)
3. [上海活动汇总](https://sh.bendibao.com/xiuxian/) 耗时：7.07秒
2025-06-03 01:31:23,961 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 最近上海有一些文娱活动，你可以参考以下链接：

1. [上海最近一周同城活动](https://shanghai.douban.com/events/week-all)
2. [上海 | 2024一月活动合集](https://zhuanlan.zhihu.com/p/676621272)
3. [上海活动汇总](https://sh.bendibao.com/xiuxian/) 耗时：7.07秒
INFO:     172.31.31.74:46422 - "POST /ai_assistant?query=%E6%9C%80%E8%BF%91%E4%B8%8A%E6%B5%B7%E6%9C%89%E4%BB%80%E4%B9%88%E6%96%87%E5%A8%B1%E6%B4%BB%E5%8A%A8 HTTP/1.1" 200 OK
2025-06-03 01:33:59,899 ChatBI->     INFO     收到的查询问题： 最近上海有什么文娱活动
2025-06-03 01:33:59,899 - ChatBI->  - INFO - 收到的查询问题： 最近上海有什么文娱活动
2025-06-03 01:34:00,621 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:34:00,623 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 01:34:00,623 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 01:34:01,486 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:34:01,488 ChatBI->     INFO     进入联网搜索节点，查询内容：上海 最近 文娱活动
2025-06-03 01:34:01,488 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：上海 最近 文娱活动
2025-06-03 01:34:03,861 ChatBI->     INFO     联网搜索结果：{'query': '上海 最近 文娱活动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海最近一周同城活动_豆瓣 - Douban', 'url': 'https://shanghai.douban.com/events/week-all', 'content': '查找上海最近一周同城活动，根据活动时间、类型、区域筛选: 卤猫,艺术,上海影城sho,阿克曼,多梅尔,绘画,安东尼,溯溪,周末活动,避暑,上海艺术电影联盟,比利时电影展..', 'score': 0.6693348, 'raw_content': None}, {'title': '上海 | 2024一月活动合集 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/676621272', 'content': '在上海不是在参加活动，就是在参加活动的路上! 小助手整理了最近两周上海的热门活动，演出舞台剧展览都有~喜欢哪个的宝子可千万不要错过啦 【演出】 橘子海 上海加场. 你可能没听说过这个乐队，但你很可能听过他们的 夏日漱石 。如果没时间去海边看', 'score': 0.6549173, 'raw_content': None}, {'title': '上海活动汇总_上海周末去哪玩_上海近期活动-上海本地宝', 'url': 'https://sh.bendibao.com/xiuxian/', 'content': '上海本地宝为大家带来上海各种活动演出信息汇总，上海周末活动汇总，上海免费活动汇总，上海展会大全，上海演唱会大全', 'score': 0.49582586, 'raw_content': None}], 'response_time': 1.36}
2025-06-03 01:34:03,861 - ChatBI->  - INFO - 联网搜索结果：{'query': '上海 最近 文娱活动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海最近一周同城活动_豆瓣 - Douban', 'url': 'https://shanghai.douban.com/events/week-all', 'content': '查找上海最近一周同城活动，根据活动时间、类型、区域筛选: 卤猫,艺术,上海影城sho,阿克曼,多梅尔,绘画,安东尼,溯溪,周末活动,避暑,上海艺术电影联盟,比利时电影展..', 'score': 0.6693348, 'raw_content': None}, {'title': '上海 | 2024一月活动合集 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/676621272', 'content': '在上海不是在参加活动，就是在参加活动的路上! 小助手整理了最近两周上海的热门活动，演出舞台剧展览都有~喜欢哪个的宝子可千万不要错过啦 【演出】 橘子海 上海加场. 你可能没听说过这个乐队，但你很可能听过他们的 夏日漱石 。如果没时间去海边看', 'score': 0.6549173, 'raw_content': None}, {'title': '上海活动汇总_上海周末去哪玩_上海近期活动-上海本地宝', 'url': 'https://sh.bendibao.com/xiuxian/', 'content': '上海本地宝为大家带来上海各种活动演出信息汇总，上海周末活动汇总，上海免费活动汇总，上海展会大全，上海演唱会大全', 'score': 0.49582586, 'raw_content': None}], 'response_time': 1.36}
2025-06-03 01:34:06,432 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:34:06,434 ChatBI->     INFO     查询的类型agent 返回的结果: 最近上海有一些文娱活动，你可以参考以下链接：

1. [上海最近一周同城活动](https://shanghai.douban.com/events/week-all)
2. [上海 | 2024一月活动合集](https://zhuanlan.zhihu.com/p/676621272)
3. [上海活动汇总](https://sh.bendibao.com/xiuxian/) 耗时：6.53秒
2025-06-03 01:34:06,434 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 最近上海有一些文娱活动，你可以参考以下链接：

1. [上海最近一周同城活动](https://shanghai.douban.com/events/week-all)
2. [上海 | 2024一月活动合集](https://zhuanlan.zhihu.com/p/676621272)
3. [上海活动汇总](https://sh.bendibao.com/xiuxian/) 耗时：6.53秒
INFO:     172.31.31.74:46502 - "POST /ai_assistant?query=%E6%9C%80%E8%BF%91%E4%B8%8A%E6%B5%B7%E6%9C%89%E4%BB%80%E4%B9%88%E6%96%87%E5%A8%B1%E6%B4%BB%E5%8A%A8 HTTP/1.1" 200 OK
2025-06-03 01:34:22,087 ChatBI->     INFO     收到的查询问题： 高血压头晕怎么办
2025-06-03 01:34:22,087 - ChatBI->  - INFO - 收到的查询问题： 高血压头晕怎么办
2025-06-03 01:34:22,801 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:34:22,803 ChatBI->     INFO     路由的输出: grade=True
2025-06-03 01:34:22,803 - ChatBI->  - INFO - 路由的输出: grade=True
2025-06-03 01:34:23,202 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:34:23,203 ChatBI->     INFO     查询的类型function 返回的结果: ['健康医疗'] 耗时：1.12秒
2025-06-03 01:34:23,203 - ChatBI->  - INFO - 查询的类型function 返回的结果: ['健康医疗'] 耗时：1.12秒
INFO:     172.31.31.74:46520 - "POST /ai_assistant?query=%E9%AB%98%E8%A1%80%E5%8E%8B%E5%A4%B4%E6%99%95%E6%80%8E%E4%B9%88%E5%8A%9E HTTP/1.1" 200 OK
2025-06-03 01:34:50,543 ChatBI->     INFO     收到的查询问题： 高血压头晕怎么办
2025-06-03 01:34:50,543 - ChatBI->  - INFO - 收到的查询问题： 高血压头晕怎么办
2025-06-03 01:34:51,301 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:34:51,304 ChatBI->     INFO     路由的输出: grade=True
2025-06-03 01:34:51,304 - ChatBI->  - INFO - 路由的输出: grade=True
2025-06-03 01:34:51,702 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:34:51,703 ChatBI->     INFO     查询的类型function 返回的结果: ['健康医疗'] 耗时：1.16秒
2025-06-03 01:34:51,703 - ChatBI->  - INFO - 查询的类型function 返回的结果: ['健康医疗'] 耗时：1.16秒
INFO:     172.31.31.74:46534 - "POST /ai_assistant?query=%E9%AB%98%E8%A1%80%E5%8E%8B%E5%A4%B4%E6%99%95%E6%80%8E%E4%B9%88%E5%8A%9E HTTP/1.1" 200 OK
2025-06-03 01:35:04,763 ChatBI->     INFO     收到的查询问题： 适合老年人的运动
2025-06-03 01:35:04,763 - ChatBI->  - INFO - 收到的查询问题： 适合老年人的运动
2025-06-03 01:35:05,551 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:35:05,559 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 01:35:05,559 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 01:35:07,296 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:35:07,299 ChatBI->     INFO     进入联网搜索节点，查询内容：适合老年人的运动
2025-06-03 01:35:07,299 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：适合老年人的运动
2025-06-03 01:35:10,399 ChatBI->     INFO     联网搜索结果：{'query': '适合老年人的运动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '适合中老年人的7种运动，建议收藏 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/379881787', 'content': '本文介绍了太极拳、慢跑、广场舞、体操、散步、球类运动和游泳等七种适合中老年人的运动方式，以及各自的益处和注意事项。文章来源于微信公众号"老友记康养"，旨在帮助老年人预防疾病，保持健康。', 'score': 0.8571119, 'raw_content': None}, {'title': '六十岁后，不想身体垮，建议：4个运动要多做，长寿或与你有缘_老年人_锻炼_关节', 'url': 'https://www.sohu.com/a/858240291_121948382', 'content': '对于身体已经出现些许问题的老人来说，步行无疑是最简单、最不容易受伤的运动。 太极拳，缓慢却很强大的运动。 太极拳是一项非常适合老年人练习的运动 ，它通过缓慢的动作和深长的呼吸，能帮助老人保持身心平衡、舒缓压力，并且增强核心力量。', 'score': 0.8524574, 'raw_content': None}, {'title': '有哪些老年人锻炼的方式值得推荐？ - 知乎', 'url': 'https://www.zhihu.com/question/9295145825', 'content': '推荐理由：健康操和有氧舞蹈是一种集有氧运动、肌肉锻炼和身体协调为一体的运动方式。适合老年人通过节奏轻快的运动提高心肺功能和身体的柔韧性。 锻炼要点：可以选择温和的健身操，每次锻炼20到30分钟，确保动作幅度不大，避免过度疲劳。 总结：', 'score': 0.81665546, 'raw_content': None}], 'response_time': 2.06}
2025-06-03 01:35:10,399 - ChatBI->  - INFO - 联网搜索结果：{'query': '适合老年人的运动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '适合中老年人的7种运动，建议收藏 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/379881787', 'content': '本文介绍了太极拳、慢跑、广场舞、体操、散步、球类运动和游泳等七种适合中老年人的运动方式，以及各自的益处和注意事项。文章来源于微信公众号"老友记康养"，旨在帮助老年人预防疾病，保持健康。', 'score': 0.8571119, 'raw_content': None}, {'title': '六十岁后，不想身体垮，建议：4个运动要多做，长寿或与你有缘_老年人_锻炼_关节', 'url': 'https://www.sohu.com/a/858240291_121948382', 'content': '对于身体已经出现些许问题的老人来说，步行无疑是最简单、最不容易受伤的运动。 太极拳，缓慢却很强大的运动。 太极拳是一项非常适合老年人练习的运动 ，它通过缓慢的动作和深长的呼吸，能帮助老人保持身心平衡、舒缓压力，并且增强核心力量。', 'score': 0.8524574, 'raw_content': None}, {'title': '有哪些老年人锻炼的方式值得推荐？ - 知乎', 'url': 'https://www.zhihu.com/question/9295145825', 'content': '推荐理由：健康操和有氧舞蹈是一种集有氧运动、肌肉锻炼和身体协调为一体的运动方式。适合老年人通过节奏轻快的运动提高心肺功能和身体的柔韧性。 锻炼要点：可以选择温和的健身操，每次锻炼20到30分钟，确保动作幅度不大，避免过度疲劳。 总结：', 'score': 0.81665546, 'raw_content': None}], 'response_time': 2.06}
2025-06-03 01:35:13,560 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:35:13,563 ChatBI->     INFO     查询的类型agent 返回的结果: 根据搜索结果，适合老年人的运动包括太极拳、慢跑、广场舞、体操、散步、球类运动和游泳等。这些运动有助于增强体质，提高免疫力。太极拳通过缓慢的动作和深长的呼吸，能帮助老人保持身心平衡、舒缓压力，并且增强核心力量。此外，步行是最简单、最不容易受伤的运动。建议选择温和的健身操，每次锻炼20到30分钟，确保动作幅度不大，避免过度疲劳。您可以参考这些信息，选择适合自己的运动方式。 耗时：8.80秒
2025-06-03 01:35:13,563 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据搜索结果，适合老年人的运动包括太极拳、慢跑、广场舞、体操、散步、球类运动和游泳等。这些运动有助于增强体质，提高免疫力。太极拳通过缓慢的动作和深长的呼吸，能帮助老人保持身心平衡、舒缓压力，并且增强核心力量。此外，步行是最简单、最不容易受伤的运动。建议选择温和的健身操，每次锻炼20到30分钟，确保动作幅度不大，避免过度疲劳。您可以参考这些信息，选择适合自己的运动方式。 耗时：8.80秒
INFO:     172.31.31.74:46546 - "POST /ai_assistant?query=%E9%80%82%E5%90%88%E8%80%81%E5%B9%B4%E4%BA%BA%E7%9A%84%E8%BF%90%E5%8A%A8 HTTP/1.1" 200 OK
2025-06-03 01:37:16,332 ChatBI->     INFO     收到的查询问题： how is the weather
2025-06-03 01:37:16,332 - ChatBI->  - INFO - 收到的查询问题： how is the weather
2025-06-03 01:37:17,113 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:37:17,122 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 01:37:17,122 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 01:37:18,164 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:37:18,167 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-06-03 01:37:18,167 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-06-03 01:37:18,372 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-03 01:37:18,372 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-03 01:37:19,131 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:37:19,133 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-06-03 01:37:19,133 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-06-03 01:37:19,373 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-03 09:02:44', 'casts': [{'date': '2025-06-03', 'week': '2', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '28', 'nighttemp': '20', 'daywind': '西北', 'nightwind': '西北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '20.0'}, {'date': '2025-06-04', 'week': '3', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '32', 'nighttemp': '21', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '22', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '30', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '30.0', 'nighttemp_float': '23.0'}]}]}
2025-06-03 01:37:19,373 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-03 09:02:44', 'casts': [{'date': '2025-06-03', 'week': '2', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '28', 'nighttemp': '20', 'daywind': '西北', 'nightwind': '西北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '20.0'}, {'date': '2025-06-04', 'week': '3', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '32', 'nighttemp': '21', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '22', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '30', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '30.0', 'nighttemp_float': '23.0'}]}]}
2025-06-03 01:37:21,321 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 01:37:21,323 ChatBI->     INFO     查询的类型agent 返回的结果: The weather in Shanghai today is overcast, with a high of 28°C and a low of 20°C. The wind is from the northwest at a power of 1-3. The weather will remain overcast tomorrow with a high of 32°C and a low of 21°C. 耗时：4.99秒
2025-06-03 01:37:21,323 - ChatBI->  - INFO - 查询的类型agent 返回的结果: The weather in Shanghai today is overcast, with a high of 28°C and a low of 20°C. The wind is from the northwest at a power of 1-3. The weather will remain overcast tomorrow with a high of 32°C and a low of 21°C. 耗时：4.99秒
INFO:     172.31.31.74:46586 - "POST /ai_assistant?query=how%20is%20the%20weather HTTP/1.1" 200 OK
2025-06-03 02:44:33,781 ChatBI->     INFO     收到的查询问题： 最近上海有什么文娱活动
2025-06-03 02:44:33,781 - ChatBI->  - INFO - 收到的查询问题： 最近上海有什么文娱活动
2025-06-03 02:44:34,539 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 02:44:34,547 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 02:44:34,547 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 02:44:35,393 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 02:44:35,395 ChatBI->     INFO     进入联网搜索节点，查询内容：上海 最近 文娱活动
2025-06-03 02:44:35,395 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：上海 最近 文娱活动
2025-06-03 02:44:38,185 ChatBI->     INFO     联网搜索结果：{'query': '上海 最近 文娱活动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海最近一周同城活动_豆瓣 - Douban', 'url': 'https://shanghai.douban.com/events/week-all', 'content': '查找上海最近一周同城活动，根据活动时间、类型、区域筛选: 卤猫,艺术,上海影城sho,阿克曼,多梅尔,绘画,安东尼,溯溪,周末活动,避暑,上海艺术电影联盟,比利时电影展..', 'score': 0.6693348, 'raw_content': None}, {'title': '上海 | 2024一月活动合集 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/676621272', 'content': '在上海不是在参加活动，就是在参加活动的路上! 小助手整理了最近两周上海的热门活动，演出舞台剧展览都有~喜欢哪个的宝子可千万不要错过啦 【演出】 橘子海 上海加场. 你可能没听说过这个乐队，但你很可能听过他们的 夏日漱石 。如果没时间去海边看', 'score': 0.6549173, 'raw_content': None}, {'title': '上海活动汇总_上海周末去哪玩_上海近期活动-上海本地宝', 'url': 'https://sh.bendibao.com/xiuxian/', 'content': '上海本地宝为大家带来上海各种活动演出信息汇总，上海周末活动汇总，上海免费活动汇总，上海展会大全，上海演唱会大全', 'score': 0.49582586, 'raw_content': None}], 'response_time': 1.53}
2025-06-03 02:44:38,185 - ChatBI->  - INFO - 联网搜索结果：{'query': '上海 最近 文娱活动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海最近一周同城活动_豆瓣 - Douban', 'url': 'https://shanghai.douban.com/events/week-all', 'content': '查找上海最近一周同城活动，根据活动时间、类型、区域筛选: 卤猫,艺术,上海影城sho,阿克曼,多梅尔,绘画,安东尼,溯溪,周末活动,避暑,上海艺术电影联盟,比利时电影展..', 'score': 0.6693348, 'raw_content': None}, {'title': '上海 | 2024一月活动合集 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/676621272', 'content': '在上海不是在参加活动，就是在参加活动的路上! 小助手整理了最近两周上海的热门活动，演出舞台剧展览都有~喜欢哪个的宝子可千万不要错过啦 【演出】 橘子海 上海加场. 你可能没听说过这个乐队，但你很可能听过他们的 夏日漱石 。如果没时间去海边看', 'score': 0.6549173, 'raw_content': None}, {'title': '上海活动汇总_上海周末去哪玩_上海近期活动-上海本地宝', 'url': 'https://sh.bendibao.com/xiuxian/', 'content': '上海本地宝为大家带来上海各种活动演出信息汇总，上海周末活动汇总，上海免费活动汇总，上海展会大全，上海演唱会大全', 'score': 0.49582586, 'raw_content': None}], 'response_time': 1.53}
2025-06-03 02:44:40,758 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 02:44:40,760 ChatBI->     INFO     查询的类型agent 返回的结果: 最近上海有一些文娱活动，你可以参考以下链接：

1. [上海最近一周同城活动](https://shanghai.douban.com/events/week-all)
2. [上海 | 2024一月活动合集](https://zhuanlan.zhihu.com/p/676621272)
3. [上海活动汇总](https://sh.bendibao.com/xiuxian/) 耗时：6.98秒
2025-06-03 02:44:40,760 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 最近上海有一些文娱活动，你可以参考以下链接：

1. [上海最近一周同城活动](https://shanghai.douban.com/events/week-all)
2. [上海 | 2024一月活动合集](https://zhuanlan.zhihu.com/p/676621272)
3. [上海活动汇总](https://sh.bendibao.com/xiuxian/) 耗时：6.98秒
INFO:     172.31.31.74:48346 - "POST /ai_assistant?query=%E6%9C%80%E8%BF%91%E4%B8%8A%E6%B5%B7%E6%9C%89%E4%BB%80%E4%B9%88%E6%96%87%E5%A8%B1%E6%B4%BB%E5%8A%A8 HTTP/1.1" 200 OK
2025-06-03 02:44:51,139 ChatBI->     INFO     收到的查询问题： 最近上海有什么文娱活动
2025-06-03 02:44:51,139 - ChatBI->  - INFO - 收到的查询问题： 最近上海有什么文娱活动
2025-06-03 02:44:51,873 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 02:44:51,875 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 02:44:51,875 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 02:44:52,725 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 02:44:52,728 ChatBI->     INFO     进入联网搜索节点，查询内容：上海 最近 文娱活动
2025-06-03 02:44:52,728 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：上海 最近 文娱活动
2025-06-03 02:44:55,192 ChatBI->     INFO     联网搜索结果：{'query': '上海 最近 文娱活动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海最近一周同城活动_豆瓣 - Douban', 'url': 'https://shanghai.douban.com/events/week-all', 'content': '查找上海最近一周同城活动，根据活动时间、类型、区域筛选: 卤猫,艺术,上海影城sho,阿克曼,多梅尔,绘画,安东尼,溯溪,周末活动,避暑,上海艺术电影联盟,比利时电影展..', 'score': 0.6693348, 'raw_content': None}, {'title': '上海 | 2024一月活动合集 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/676621272', 'content': '在上海不是在参加活动，就是在参加活动的路上! 小助手整理了最近两周上海的热门活动，演出舞台剧展览都有~喜欢哪个的宝子可千万不要错过啦 【演出】 橘子海 上海加场. 你可能没听说过这个乐队，但你很可能听过他们的 夏日漱石 。如果没时间去海边看', 'score': 0.6549173, 'raw_content': None}, {'title': '上海活动汇总_上海周末去哪玩_上海近期活动-上海本地宝', 'url': 'https://sh.bendibao.com/xiuxian/', 'content': '上海本地宝为大家带来上海各种活动演出信息汇总，上海周末活动汇总，上海免费活动汇总，上海展会大全，上海演唱会大全', 'score': 0.49582586, 'raw_content': None}], 'response_time': 1.57}
2025-06-03 02:44:55,192 - ChatBI->  - INFO - 联网搜索结果：{'query': '上海 最近 文娱活动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海最近一周同城活动_豆瓣 - Douban', 'url': 'https://shanghai.douban.com/events/week-all', 'content': '查找上海最近一周同城活动，根据活动时间、类型、区域筛选: 卤猫,艺术,上海影城sho,阿克曼,多梅尔,绘画,安东尼,溯溪,周末活动,避暑,上海艺术电影联盟,比利时电影展..', 'score': 0.6693348, 'raw_content': None}, {'title': '上海 | 2024一月活动合集 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/676621272', 'content': '在上海不是在参加活动，就是在参加活动的路上! 小助手整理了最近两周上海的热门活动，演出舞台剧展览都有~喜欢哪个的宝子可千万不要错过啦 【演出】 橘子海 上海加场. 你可能没听说过这个乐队，但你很可能听过他们的 夏日漱石 。如果没时间去海边看', 'score': 0.6549173, 'raw_content': None}, {'title': '上海活动汇总_上海周末去哪玩_上海近期活动-上海本地宝', 'url': 'https://sh.bendibao.com/xiuxian/', 'content': '上海本地宝为大家带来上海各种活动演出信息汇总，上海周末活动汇总，上海免费活动汇总，上海展会大全，上海演唱会大全', 'score': 0.49582586, 'raw_content': None}], 'response_time': 1.57}
2025-06-03 02:44:57,771 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 02:44:57,774 ChatBI->     INFO     查询的类型agent 返回的结果: 最近上海有一些文娱活动，你可以参考以下链接：

1. [上海最近一周同城活动](https://shanghai.douban.com/events/week-all)
2. [上海 | 2024一月活动合集](https://zhuanlan.zhihu.com/p/676621272)
3. [上海活动汇总](https://sh.bendibao.com/xiuxian/) 耗时：6.63秒
2025-06-03 02:44:57,774 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 最近上海有一些文娱活动，你可以参考以下链接：

1. [上海最近一周同城活动](https://shanghai.douban.com/events/week-all)
2. [上海 | 2024一月活动合集](https://zhuanlan.zhihu.com/p/676621272)
3. [上海活动汇总](https://sh.bendibao.com/xiuxian/) 耗时：6.63秒
INFO:     172.31.31.74:48362 - "POST /ai_assistant?query=%E6%9C%80%E8%BF%91%E4%B8%8A%E6%B5%B7%E6%9C%89%E4%BB%80%E4%B9%88%E6%96%87%E5%A8%B1%E6%B4%BB%E5%8A%A8 HTTP/1.1" 200 OK
2025-06-03 02:45:20,360 ChatBI->     INFO     收到的查询问题： 最近上海有什么文娱活动
2025-06-03 02:45:20,360 - ChatBI->  - INFO - 收到的查询问题： 最近上海有什么文娱活动
2025-06-03 02:45:21,114 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 02:45:21,116 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 02:45:21,116 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 02:45:21,967 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 02:45:21,969 ChatBI->     INFO     进入联网搜索节点，查询内容：上海 最近 文娱活动
2025-06-03 02:45:21,969 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：上海 最近 文娱活动
2025-06-03 02:45:24,238 ChatBI->     INFO     联网搜索结果：{'query': '上海 最近 文娱活动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海最近一周同城活动_豆瓣 - Douban', 'url': 'https://shanghai.douban.com/events/week-all', 'content': '查找上海最近一周同城活动，根据活动时间、类型、区域筛选: 卤猫,艺术,上海影城sho,阿克曼,多梅尔,绘画,安东尼,溯溪,周末活动,避暑,上海艺术电影联盟,比利时电影展..', 'score': 0.6693348, 'raw_content': None}, {'title': '上海 | 2024一月活动合集 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/676621272', 'content': '在上海不是在参加活动，就是在参加活动的路上! 小助手整理了最近两周上海的热门活动，演出舞台剧展览都有~喜欢哪个的宝子可千万不要错过啦 【演出】 橘子海 上海加场. 你可能没听说过这个乐队，但你很可能听过他们的 夏日漱石 。如果没时间去海边看', 'score': 0.6549173, 'raw_content': None}, {'title': '上海活动汇总_上海周末去哪玩_上海近期活动-上海本地宝', 'url': 'https://sh.bendibao.com/xiuxian/', 'content': '上海本地宝为大家带来上海各种活动演出信息汇总，上海周末活动汇总，上海免费活动汇总，上海展会大全，上海演唱会大全', 'score': 0.49582586, 'raw_content': None}], 'response_time': 1.33}
2025-06-03 02:45:24,238 - ChatBI->  - INFO - 联网搜索结果：{'query': '上海 最近 文娱活动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海最近一周同城活动_豆瓣 - Douban', 'url': 'https://shanghai.douban.com/events/week-all', 'content': '查找上海最近一周同城活动，根据活动时间、类型、区域筛选: 卤猫,艺术,上海影城sho,阿克曼,多梅尔,绘画,安东尼,溯溪,周末活动,避暑,上海艺术电影联盟,比利时电影展..', 'score': 0.6693348, 'raw_content': None}, {'title': '上海 | 2024一月活动合集 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/676621272', 'content': '在上海不是在参加活动，就是在参加活动的路上! 小助手整理了最近两周上海的热门活动，演出舞台剧展览都有~喜欢哪个的宝子可千万不要错过啦 【演出】 橘子海 上海加场. 你可能没听说过这个乐队，但你很可能听过他们的 夏日漱石 。如果没时间去海边看', 'score': 0.6549173, 'raw_content': None}, {'title': '上海活动汇总_上海周末去哪玩_上海近期活动-上海本地宝', 'url': 'https://sh.bendibao.com/xiuxian/', 'content': '上海本地宝为大家带来上海各种活动演出信息汇总，上海周末活动汇总，上海免费活动汇总，上海展会大全，上海演唱会大全', 'score': 0.49582586, 'raw_content': None}], 'response_time': 1.33}
2025-06-03 02:45:26,812 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 02:45:26,813 ChatBI->     INFO     查询的类型agent 返回的结果: 最近上海有一些文娱活动，你可以参考以下链接：

1. [上海最近一周同城活动](https://shanghai.douban.com/events/week-all)
2. [上海 | 2024一月活动合集](https://zhuanlan.zhihu.com/p/676621272)
3. [上海活动汇总](https://sh.bendibao.com/xiuxian/) 耗时：6.45秒
2025-06-03 02:45:26,813 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 最近上海有一些文娱活动，你可以参考以下链接：

1. [上海最近一周同城活动](https://shanghai.douban.com/events/week-all)
2. [上海 | 2024一月活动合集](https://zhuanlan.zhihu.com/p/676621272)
3. [上海活动汇总](https://sh.bendibao.com/xiuxian/) 耗时：6.45秒
INFO:     172.31.31.74:48382 - "POST /ai_assistant?query=%E6%9C%80%E8%BF%91%E4%B8%8A%E6%B5%B7%E6%9C%89%E4%BB%80%E4%B9%88%E6%96%87%E5%A8%B1%E6%B4%BB%E5%8A%A8 HTTP/1.1" 200 OK
2025-06-03 02:47:37,515 ChatBI->     INFO     收到的查询问题： how is the weather
2025-06-03 02:47:37,515 - ChatBI->  - INFO - 收到的查询问题： how is the weather
2025-06-03 02:47:38,326 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 02:47:38,328 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 02:47:38,328 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 02:47:39,376 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 02:47:39,378 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-06-03 02:47:39,378 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-06-03 02:47:39,433 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-03 02:47:39,433 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-03 02:47:40,201 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 02:47:40,203 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-06-03 02:47:40,203 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-06-03 02:47:40,402 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-03 10:33:27', 'casts': [{'date': '2025-06-03', 'week': '2', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '28', 'nighttemp': '21', 'daywind': '西北', 'nightwind': '西北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-04', 'week': '3', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '32', 'nighttemp': '21', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '22', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '30', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '30.0', 'nighttemp_float': '23.0'}]}]}
2025-06-03 02:47:40,402 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-03 10:33:27', 'casts': [{'date': '2025-06-03', 'week': '2', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '28', 'nighttemp': '21', 'daywind': '西北', 'nightwind': '西北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-04', 'week': '3', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '32', 'nighttemp': '21', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '22', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '阴', 'nightweather': '阴', 'daytemp': '30', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '30.0', 'nighttemp_float': '23.0'}]}]}
2025-06-03 02:47:42,602 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 02:47:42,604 ChatBI->     INFO     查询的类型agent 返回的结果: The weather in Shanghai today is overcast, with a high of 28°C and a low of 21°C. The wind is from the northwest at 1-3 level. The weather will remain overcast tomorrow with a high of 32°C and a low of 21°C, with a wind from the south at 1-3 level. 耗时：5.09秒
2025-06-03 02:47:42,604 - ChatBI->  - INFO - 查询的类型agent 返回的结果: The weather in Shanghai today is overcast, with a high of 28°C and a low of 21°C. The wind is from the northwest at 1-3 level. The weather will remain overcast tomorrow with a high of 32°C and a low of 21°C, with a wind from the south at 1-3 level. 耗时：5.09秒
INFO:     172.31.31.74:48422 - "POST /ai_assistant?query=how%20is%20the%20weather HTTP/1.1" 200 OK
2025-06-03 05:41:04,733 ChatBI->     INFO     收到的查询问题： how is the weather
2025-06-03 05:41:04,733 - ChatBI->  - INFO - 收到的查询问题： how is the weather
2025-06-03 05:41:05,559 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 05:41:05,569 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 05:41:05,569 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 05:41:06,652 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 05:41:06,655 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-06-03 05:41:06,655 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-06-03 05:41:06,833 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-03 05:41:06,833 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-03 05:41:07,597 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 05:41:07,600 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-06-03 05:41:07,600 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-06-03 05:41:07,849 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-03 13:33:19', 'casts': [{'date': '2025-06-03', 'week': '2', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-06-04', 'week': '3', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '21', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '22', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '小雨', 'daytemp': '31', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '31.0', 'nighttemp_float': '23.0'}]}]}
2025-06-03 05:41:07,849 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-03 13:33:19', 'casts': [{'date': '2025-06-03', 'week': '2', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-06-04', 'week': '3', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '21', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '22', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '小雨', 'daytemp': '31', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '31.0', 'nighttemp_float': '23.0'}]}]}
2025-06-03 05:41:10,371 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 05:41:10,373 ChatBI->     INFO     查询的类型agent 返回的结果: The weather in Shanghai today is cloudy, with a high of 29°C and a low of 20°C. The wind is coming from the south at a power of 1-3. Tomorrow and the day after, the weather will remain cloudy with temperatures rising to around 32°C and 33°C respectively. On the 6th, it will be mostly cloudy with a chance of light rain in the evening. 耗时：5.64秒
2025-06-03 05:41:10,373 - ChatBI->  - INFO - 查询的类型agent 返回的结果: The weather in Shanghai today is cloudy, with a high of 29°C and a low of 20°C. The wind is coming from the south at a power of 1-3. Tomorrow and the day after, the weather will remain cloudy with temperatures rising to around 32°C and 33°C respectively. On the 6th, it will be mostly cloudy with a chance of light rain in the evening. 耗时：5.64秒
INFO:     172.31.31.74:51330 - "POST /ai_assistant?query=how%20is%20the%20weather HTTP/1.1" 200 OK
2025-06-03 06:48:48,730 ChatBI->     INFO     收到的查询问题： how is the weather
2025-06-03 06:48:48,730 - ChatBI->  - INFO - 收到的查询问题： how is the weather
2025-06-03 06:48:49,554 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 06:48:49,563 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 06:48:49,563 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 06:48:50,605 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 06:48:50,608 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-06-03 06:48:50,608 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-06-03 06:48:50,668 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-03 06:48:50,668 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-03 06:48:51,428 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 06:48:51,431 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-06-03 06:48:51,431 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-06-03 06:48:51,718 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-03 14:33:14', 'casts': [{'date': '2025-06-03', 'week': '2', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-06-04', 'week': '3', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '21', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '22', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '小雨', 'daytemp': '31', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '31.0', 'nighttemp_float': '23.0'}]}]}
2025-06-03 06:48:51,718 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-03 14:33:14', 'casts': [{'date': '2025-06-03', 'week': '2', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-06-04', 'week': '3', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '21', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '22', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '小雨', 'daytemp': '31', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '31.0', 'nighttemp_float': '23.0'}]}]}
2025-06-03 06:48:54,107 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 06:48:54,110 ChatBI->     INFO     查询的类型agent 返回的结果: The weather in Shanghai today is cloudy, with a high of 29°C and a low of 20°C. The wind is coming from the south at a power of 1-3. Tomorrow and the following days will also be mostly cloudy with temperatures ranging from 21°C to 33°C. On June 6th, there will be a chance of light rain in the evening. 耗时：5.38秒
2025-06-03 06:48:54,110 - ChatBI->  - INFO - 查询的类型agent 返回的结果: The weather in Shanghai today is cloudy, with a high of 29°C and a low of 20°C. The wind is coming from the south at a power of 1-3. Tomorrow and the following days will also be mostly cloudy with temperatures ranging from 21°C to 33°C. On June 6th, there will be a chance of light rain in the evening. 耗时：5.38秒
INFO:     172.31.31.74:52712 - "POST /ai_assistant?query=how%20is%20the%20weather HTTP/1.1" 200 OK
2025-06-03 07:03:00,898 ChatBI->     INFO     收到的查询问题： how is the weather
2025-06-03 07:03:00,898 - ChatBI->  - INFO - 收到的查询问题： how is the weather
2025-06-03 07:03:01,690 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:03:01,699 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 07:03:01,699 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 07:03:02,741 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:03:02,744 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-06-03 07:03:02,744 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-06-03 07:03:02,807 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-03 07:03:02,807 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-03 07:03:03,565 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:03:03,568 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-06-03 07:03:03,568 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-06-03 07:03:03,774 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-03 14:33:14', 'casts': [{'date': '2025-06-03', 'week': '2', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-06-04', 'week': '3', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '21', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '22', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '小雨', 'daytemp': '31', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '31.0', 'nighttemp_float': '23.0'}]}]}
2025-06-03 07:03:03,774 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-03 14:33:14', 'casts': [{'date': '2025-06-03', 'week': '2', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-06-04', 'week': '3', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '21', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '22', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '小雨', 'daytemp': '31', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '31.0', 'nighttemp_float': '23.0'}]}]}
2025-06-03 07:03:06,152 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:03:06,154 ChatBI->     INFO     查询的类型agent 返回的结果: The weather in Shanghai today is cloudy, with a high of 29°C and a low of 20°C. The wind is coming from the south at a power of 1-3. Tomorrow and the following days will also be mostly cloudy with temperatures ranging from 21°C to 33°C. On June 6th, there will be a chance of light rain in the evening. 耗时：5.26秒
2025-06-03 07:03:06,154 - ChatBI->  - INFO - 查询的类型agent 返回的结果: The weather in Shanghai today is cloudy, with a high of 29°C and a low of 20°C. The wind is coming from the south at a power of 1-3. Tomorrow and the following days will also be mostly cloudy with temperatures ranging from 21°C to 33°C. On June 6th, there will be a chance of light rain in the evening. 耗时：5.26秒
INFO:     172.31.31.74:52978 - "POST /ai_assistant?query=how%20is%20the%20weather HTTP/1.1" 200 OK
2025-06-03 07:07:11,338 ChatBI->     INFO     收到的查询问题： how is the weather
2025-06-03 07:07:11,338 - ChatBI->  - INFO - 收到的查询问题： how is the weather
2025-06-03 07:07:12,135 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:07:12,145 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 07:07:12,145 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 07:07:13,259 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:07:13,262 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-06-03 07:07:13,262 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-06-03 07:07:13,410 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-03 07:07:13,410 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-03 07:07:14,167 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:07:14,170 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-06-03 07:07:14,170 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-06-03 07:07:14,421 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-03 15:01:05', 'casts': [{'date': '2025-06-03', 'week': '2', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-06-04', 'week': '3', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '21', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '22', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '小雨', 'daytemp': '31', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '31.0', 'nighttemp_float': '23.0'}]}]}
2025-06-03 07:07:14,421 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-03 15:01:05', 'casts': [{'date': '2025-06-03', 'week': '2', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '29', 'nighttemp': '20', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '29.0', 'nighttemp_float': '20.0'}, {'date': '2025-06-04', 'week': '3', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '21', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '22', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '小雨', 'daytemp': '31', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '31.0', 'nighttemp_float': '23.0'}]}]}
2025-06-03 07:07:16,994 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:07:16,997 ChatBI->     INFO     查询的类型agent 返回的结果: The weather in Shanghai today is cloudy, with a high of 29°C and a low of 20°C. The wind is coming from the south at a speed of 1-3. Tomorrow and the day after tomorrow will also be mostly cloudy with temperatures rising to around 32°C and 33°C respectively. On the 6th, it will be cloudy during the day and there will be a light rain at night. 耗时：5.66秒
2025-06-03 07:07:16,997 - ChatBI->  - INFO - 查询的类型agent 返回的结果: The weather in Shanghai today is cloudy, with a high of 29°C and a low of 20°C. The wind is coming from the south at a speed of 1-3. Tomorrow and the day after tomorrow will also be mostly cloudy with temperatures rising to around 32°C and 33°C respectively. On the 6th, it will be cloudy during the day and there will be a light rain at night. 耗时：5.66秒
INFO:     172.31.31.74:53110 - "POST /ai_assistant?query=how%20is%20the%20weather HTTP/1.1" 200 OK
2025-06-03 07:07:38,241 ChatBI->     INFO     收到的查询问题： how to use taobao
2025-06-03 07:07:38,241 - ChatBI->  - INFO - 收到的查询问题： how to use taobao
2025-06-03 07:07:38,999 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:07:39,008 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 07:07:39,008 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 07:07:44,083 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:07:44,086 ChatBI->     INFO     进入联网搜索节点，查询内容：如何使用淘宝
2025-06-03 07:07:44,086 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：如何使用淘宝
2025-06-03 07:07:47,129 ChatBI->     INFO     联网搜索结果：{'query': '如何使用淘宝', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '如何使用淘宝购物 - 百度知道', 'url': 'https://zhidao.baidu.com/question/65094373.html', 'content': '如何使用淘宝购物使用淘宝购物，首先要注册一个淘宝账号：登陆淘宝网首页，点击页面上"免费注册"，进入注册账号页面，根据提示完成注册。还需要开通支付宝，也是在淘宝登陆界面点击"支付宝登陆"，下面有免费注册', 'score': 0.80735475, 'raw_content': None}, {'title': '手把手教你如何使用淘宝网购物，小白必看!绝不踩雷', 'url': 'https://bk.taobao.com/k/taobaowang_964/cf7f6619e116a4d57a558a799e6a3e97.html', 'content': '如何快速找到淘宝网电脑版网页的登录入口？ 淘宝网淘我喜欢，如何找到最适合自己的商品？ 淘宝网网页版电脑版如何快速上手？有哪些隐藏功能？ 淘宝网电脑版首页登录入口在哪里？新手必看! 淘宝网官方平台如何保障消费者权益？有哪些新政策值得关注？', 'score': 0.42148095, 'raw_content': None}, {'title': '海外用户帮助中心 新手须知 - 淘寶', 'url': 'https://www.taobao.com/market/global/help/int/guide.php', 'content': '美国用户：使用 e邮宝，可以将货品寄到美国府上 澳洲及新西兰用户，可以使用淘宝官方提供的国际转运服务，商品会直接送到府上。 全球其他国家用户，也可以在淘宝上寻找第三方物流供应商，以协助你转运商品。', 'score': 0.19715096, 'raw_content': None}], 'response_time': 2.03}
2025-06-03 07:07:47,129 - ChatBI->  - INFO - 联网搜索结果：{'query': '如何使用淘宝', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '如何使用淘宝购物 - 百度知道', 'url': 'https://zhidao.baidu.com/question/65094373.html', 'content': '如何使用淘宝购物使用淘宝购物，首先要注册一个淘宝账号：登陆淘宝网首页，点击页面上"免费注册"，进入注册账号页面，根据提示完成注册。还需要开通支付宝，也是在淘宝登陆界面点击"支付宝登陆"，下面有免费注册', 'score': 0.80735475, 'raw_content': None}, {'title': '手把手教你如何使用淘宝网购物，小白必看!绝不踩雷', 'url': 'https://bk.taobao.com/k/taobaowang_964/cf7f6619e116a4d57a558a799e6a3e97.html', 'content': '如何快速找到淘宝网电脑版网页的登录入口？ 淘宝网淘我喜欢，如何找到最适合自己的商品？ 淘宝网网页版电脑版如何快速上手？有哪些隐藏功能？ 淘宝网电脑版首页登录入口在哪里？新手必看! 淘宝网官方平台如何保障消费者权益？有哪些新政策值得关注？', 'score': 0.42148095, 'raw_content': None}, {'title': '海外用户帮助中心 新手须知 - 淘寶', 'url': 'https://www.taobao.com/market/global/help/int/guide.php', 'content': '美国用户：使用 e邮宝，可以将货品寄到美国府上 澳洲及新西兰用户，可以使用淘宝官方提供的国际转运服务，商品会直接送到府上。 全球其他国家用户，也可以在淘宝上寻找第三方物流供应商，以协助你转运商品。', 'score': 0.19715096, 'raw_content': None}], 'response_time': 2.03}
2025-06-03 07:07:52,738 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:07:52,741 ChatBI->     INFO     查询的类型agent 返回的结果: Here are some resources to help you understand how to use Taobao:

1. [How to use Taobao shopping - Baidu Know](https://zhidao.baidu.com/question/65094373.html): This link provides a step-by-step guide on how to register an account and use Taobao.

2. [Hand-holding guide on how to use Taobao for shopping, must-read for beginners!](https://bk.taobao.com/k/taobaowang_964/cf7f6619e116a4d57a558a799e6a3e97.html): This guide offers detailed instructions for new users on how to navigate and shop on Taobao.

3. [Taobao Global Help Center - New User Guide](https://www.taobao.com/market/global/help/int/guide.php): This page provides information for international users on how to use Taobao's international shipping services.

You can visit these links for more detailed guidance. 耗时：14.50秒
2025-06-03 07:07:52,741 - ChatBI->  - INFO - 查询的类型agent 返回的结果: Here are some resources to help you understand how to use Taobao:

1. [How to use Taobao shopping - Baidu Know](https://zhidao.baidu.com/question/65094373.html): This link provides a step-by-step guide on how to register an account and use Taobao.

2. [Hand-holding guide on how to use Taobao for shopping, must-read for beginners!](https://bk.taobao.com/k/taobaowang_964/cf7f6619e116a4d57a558a799e6a3e97.html): This guide offers detailed instructions for new users on how to navigate and shop on Taobao.

3. [Taobao Global Help Center - New User Guide](https://www.taobao.com/market/global/help/int/guide.php): This page provides information for international users on how to use Taobao's international shipping services.

You can visit these links for more detailed guidance. 耗时：14.50秒
2025-06-03 07:08:12,510 ChatBI->     INFO     收到的查询问题： 最近上海有什么文娱活动
2025-06-03 07:08:12,510 - ChatBI->  - INFO - 收到的查询问题： 最近上海有什么文娱活动
2025-06-03 07:08:13,250 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:08:13,253 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 07:08:13,253 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 07:08:14,119 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:08:14,122 ChatBI->     INFO     进入联网搜索节点，查询内容：上海 最近 文娱活动
2025-06-03 07:08:14,122 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：上海 最近 文娱活动
2025-06-03 07:08:17,520 ChatBI->     INFO     联网搜索结果：{'query': '上海 最近 文娱活动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海最近一周同城活动_豆瓣 - Douban', 'url': 'https://shanghai.douban.com/events/week-all', 'content': '上海最近一周同城活动_豆瓣 豆瓣 6.0 全新发布× 豆瓣 豆瓣 活动 / 舞台剧 / 地点  豆瓣同城-上海 上海 舞台剧 上海 上海最近一周同城活动 时间：  Image 1  时间： 05月31日 周六 16:00-17:00 ... Image 2  地点： SNH48星梦剧院 嘉兴路267号(近哈尔滨路)  Image 3  全国艺联「 时光之镜 · 中外经典影片展 」—— 上海站  时间： 05月29日 周四 19:00-21:27 ... Image 4  时间： 06月06日 周五 19:00 ~ 06月15日 周日 15:30  Image 5  Image 6  时间： 06月06日 周五 19:00 ~ 06月29日 周日 21:30  Image 7  时间： 06月03日 周二 14:30 ~ 06月30日 周一 21:00  Image 8  Image 9  时间： 06月03日 周二 19:30 ~ 06月30日 周一 21:00  Image 10  时间： 06月03日 周二 19:30 ~ 06月30日 周一 21:00  购票直通车 更多» Image 17: 『开业店庆』【长风大悦城】沉浸式亲子魔术 | 魔幻小丑泡泡秀「银河喜剧」『开业店庆』【长风大悦城】沉浸式亲子魔术 | 魔幻小丑泡泡秀「银河喜剧」 Image 22: 『暑假爆款』【静安大悦城】沉浸式亲子魔术 | 魔幻小丑泡泡秀「银河喜剧」『暑假爆款』【静安大悦城】沉浸式亲子魔术 | 魔幻小丑泡泡秀「银河喜剧」 Image 25: 【陆家嘴站】经典名著改编『沉浸式』『奇妙温暖』『嗨玩互动』亲子剧《嘿！梅特林克》@壹种喜剧【陆家嘴站】经典名著改编『沉浸式』『奇妙温暖』『嗨玩互动』亲子剧《嘿！梅特林克》@壹种喜剧 Image 27: 5月24日周六19:30月明专场《矛盾综合体》｜喜剧联盒国5月24日周六19:30月明专场《矛盾综合体》｜喜剧联盒国 05月24日 19:30-21:00', 'score': 0.75377536, 'raw_content': None}, {'title': '上海 | 2024一月活动合集 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/676621272', 'content': '在上海不是在参加活动，就是在参加活动的路上! 小助手整理了最近两周上海的热门活动，演出舞台剧展览都有~喜欢哪个的宝子可千万不要错过啦 【演出】 橘子海 上海加场. 你可能没听说过这个乐队，但你很可能听过他们的 夏日漱石 。如果没时间去海边看', 'score': 0.6546525, 'raw_content': None}, {'title': '上海活动汇总_上海周末去哪玩_上海近期活动-上海本地宝', 'url': 'https://sh.bendibao.com/xiuxian/', 'content': '上海本地宝为大家带来上海各种活动演出信息汇总，上海周末活动汇总，上海免费活动汇总，上海展会大全，上海演唱会大全', 'score': 0.49567938, 'raw_content': None}], 'response_time': 2.09}
2025-06-03 07:08:17,520 - ChatBI->  - INFO - 联网搜索结果：{'query': '上海 最近 文娱活动', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海最近一周同城活动_豆瓣 - Douban', 'url': 'https://shanghai.douban.com/events/week-all', 'content': '上海最近一周同城活动_豆瓣 豆瓣 6.0 全新发布× 豆瓣 豆瓣 活动 / 舞台剧 / 地点  豆瓣同城-上海 上海 舞台剧 上海 上海最近一周同城活动 时间：  Image 1  时间： 05月31日 周六 16:00-17:00 ... Image 2  地点： SNH48星梦剧院 嘉兴路267号(近哈尔滨路)  Image 3  全国艺联「 时光之镜 · 中外经典影片展 」—— 上海站  时间： 05月29日 周四 19:00-21:27 ... Image 4  时间： 06月06日 周五 19:00 ~ 06月15日 周日 15:30  Image 5  Image 6  时间： 06月06日 周五 19:00 ~ 06月29日 周日 21:30  Image 7  时间： 06月03日 周二 14:30 ~ 06月30日 周一 21:00  Image 8  Image 9  时间： 06月03日 周二 19:30 ~ 06月30日 周一 21:00  Image 10  时间： 06月03日 周二 19:30 ~ 06月30日 周一 21:00  购票直通车 更多» Image 17: 『开业店庆』【长风大悦城】沉浸式亲子魔术 | 魔幻小丑泡泡秀「银河喜剧」『开业店庆』【长风大悦城】沉浸式亲子魔术 | 魔幻小丑泡泡秀「银河喜剧」 Image 22: 『暑假爆款』【静安大悦城】沉浸式亲子魔术 | 魔幻小丑泡泡秀「银河喜剧」『暑假爆款』【静安大悦城】沉浸式亲子魔术 | 魔幻小丑泡泡秀「银河喜剧」 Image 25: 【陆家嘴站】经典名著改编『沉浸式』『奇妙温暖』『嗨玩互动』亲子剧《嘿！梅特林克》@壹种喜剧【陆家嘴站】经典名著改编『沉浸式』『奇妙温暖』『嗨玩互动』亲子剧《嘿！梅特林克》@壹种喜剧 Image 27: 5月24日周六19:30月明专场《矛盾综合体》｜喜剧联盒国5月24日周六19:30月明专场《矛盾综合体》｜喜剧联盒国 05月24日 19:30-21:00', 'score': 0.75377536, 'raw_content': None}, {'title': '上海 | 2024一月活动合集 - 知乎 - 知乎专栏', 'url': 'https://zhuanlan.zhihu.com/p/676621272', 'content': '在上海不是在参加活动，就是在参加活动的路上! 小助手整理了最近两周上海的热门活动，演出舞台剧展览都有~喜欢哪个的宝子可千万不要错过啦 【演出】 橘子海 上海加场. 你可能没听说过这个乐队，但你很可能听过他们的 夏日漱石 。如果没时间去海边看', 'score': 0.6546525, 'raw_content': None}, {'title': '上海活动汇总_上海周末去哪玩_上海近期活动-上海本地宝', 'url': 'https://sh.bendibao.com/xiuxian/', 'content': '上海本地宝为大家带来上海各种活动演出信息汇总，上海周末活动汇总，上海免费活动汇总，上海展会大全，上海演唱会大全', 'score': 0.49567938, 'raw_content': None}], 'response_time': 2.09}
2025-06-03 07:08:21,057 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:08:21,059 ChatBI->     INFO     查询的类型agent 返回的结果: 最近上海有一些文娱活动，比如：

- SNH48星梦剧院的舞台剧，时间：5月31日周六16:00-17:00，地点：SNH48星梦剧院嘉兴路267号(近哈尔滨路)。
- 全国艺联「时光之镜 · 中外经典影片展」——上海站，时间：5月29日周四19:00-21:27。

更多详细信息可以点击[这里](https://shanghai.douban.com/events/week-all)查看。 耗时：8.55秒
2025-06-03 07:08:21,059 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 最近上海有一些文娱活动，比如：

- SNH48星梦剧院的舞台剧，时间：5月31日周六16:00-17:00，地点：SNH48星梦剧院嘉兴路267号(近哈尔滨路)。
- 全国艺联「时光之镜 · 中外经典影片展」——上海站，时间：5月29日周四19:00-21:27。

更多详细信息可以点击[这里](https://shanghai.douban.com/events/week-all)查看。 耗时：8.55秒
INFO:     172.31.31.74:53152 - "POST /ai_assistant?query=%E6%9C%80%E8%BF%91%E4%B8%8A%E6%B5%B7%E6%9C%89%E4%BB%80%E4%B9%88%E6%96%87%E5%A8%B1%E6%B4%BB%E5%8A%A8 HTTP/1.1" 200 OK
2025-06-03 07:08:36,008 ChatBI->     INFO     收到的查询问题： 南京西路有什么好吃的
2025-06-03 07:08:36,008 - ChatBI->  - INFO - 收到的查询问题： 南京西路有什么好吃的
2025-06-03 07:08:36,740 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:08:36,743 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 07:08:36,743 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 07:08:37,559 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:08:37,562 ChatBI->     INFO     进入联网搜索节点，查询内容：南京西路好吃的地方
2025-06-03 07:08:37,562 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：南京西路好吃的地方
2025-06-03 07:08:40,201 ChatBI->     INFO     联网搜索结果：{'query': '南京西路好吃的地方', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '南京西路美食推荐，上海南京西路有什么好吃的必吃美食 - 花路网', 'url': 'https://www.hualulv.com/9892.html', 'content': '南京西路美食推荐，上海南京西路有什么好吃的必吃美食. 2024年6月3日 作者 林特. 南京西路是上海最繁华的商圈之一，这里有吴中路步行（美食）街、张园复古创意街区，还有兴业太古汇、818广场、梅龙镇广场等商业广场，附近美食也非常多，以下是其中比较有', 'score': 0.7825466, 'raw_content': None}, {'title': '地铁南京西路站下来居然有这么逛吃逛吃的好地方!以前我怎么不知道!', 'url': 'https://www.sohu.com/a/216035146_678269', 'content': '南京西路站作为市中心交通的枢纽大站之一. 是地铁 2号线 、 12号线 及、 13号线. 三条交通线的汇集点. 从地铁南京西路站下来不仅可以逛街买衣服. 还可以看到好多好吃的 . 南京西路步行街 、 吴江路 一路逛吃逛吃. 一到晚上，路边的雪花状小灯就会亮起， 不用', 'score': 0.70336664, 'raw_content': None}, {'title': '2025 南京西路餐廳推薦 (於 6 月更新)| Trip Moments', 'url': 'https://tw.trip.com/moments/theme/poi-west-nanjing-road-38333080-restaurants-993134/', 'content': '探索南京西路的餐廳，以及 Trip.com 精心挑選的旅遊照片。本旅遊指南最近於 6 月更新。查看世界各地旅客的貼文，進一步了解南京西路的熱門景點、飯店、交通及美食等資訊。在您籌劃下趟旅遊時，還能參考這些真實旅遊照片。透過 Trip.com 規劃您的絕妙行程。', 'score': 0.42362547, 'raw_content': None}], 'response_time': 1.78}
2025-06-03 07:08:40,201 - ChatBI->  - INFO - 联网搜索结果：{'query': '南京西路好吃的地方', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '南京西路美食推荐，上海南京西路有什么好吃的必吃美食 - 花路网', 'url': 'https://www.hualulv.com/9892.html', 'content': '南京西路美食推荐，上海南京西路有什么好吃的必吃美食. 2024年6月3日 作者 林特. 南京西路是上海最繁华的商圈之一，这里有吴中路步行（美食）街、张园复古创意街区，还有兴业太古汇、818广场、梅龙镇广场等商业广场，附近美食也非常多，以下是其中比较有', 'score': 0.7825466, 'raw_content': None}, {'title': '地铁南京西路站下来居然有这么逛吃逛吃的好地方!以前我怎么不知道!', 'url': 'https://www.sohu.com/a/216035146_678269', 'content': '南京西路站作为市中心交通的枢纽大站之一. 是地铁 2号线 、 12号线 及、 13号线. 三条交通线的汇集点. 从地铁南京西路站下来不仅可以逛街买衣服. 还可以看到好多好吃的 . 南京西路步行街 、 吴江路 一路逛吃逛吃. 一到晚上，路边的雪花状小灯就会亮起， 不用', 'score': 0.70336664, 'raw_content': None}, {'title': '2025 南京西路餐廳推薦 (於 6 月更新)| Trip Moments', 'url': 'https://tw.trip.com/moments/theme/poi-west-nanjing-road-38333080-restaurants-993134/', 'content': '探索南京西路的餐廳，以及 Trip.com 精心挑選的旅遊照片。本旅遊指南最近於 6 月更新。查看世界各地旅客的貼文，進一步了解南京西路的熱門景點、飯店、交通及美食等資訊。在您籌劃下趟旅遊時，還能參考這些真實旅遊照片。透過 Trip.com 規劃您的絕妙行程。', 'score': 0.42362547, 'raw_content': None}], 'response_time': 1.78}
2025-06-03 07:08:44,776 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:08:44,778 ChatBI->     INFO     查询的类型agent 返回的结果: 南京西路有很多好吃的地方，这里有一些建议供你参考：

1. [南京西路美食推荐，上海南京西路有什么好吃的必吃美食 - 花路网](https://www.hualulv.com/9892.html)
2. [地铁南京西路站下来居然有这么逛吃逛吃的好地方!以前我怎么不知道!](https://www.sohu.com/a/216035146_678269)
3. [2025 南京西路餐廳推薦 (於 6 月更新)| Trip Moments](https://tw.trip.com/moments/theme/poi-west-nanjing-road-38333080-restaurants-993134/)

你可以点击链接查看详细信息。 耗时：8.77秒
2025-06-03 07:08:44,778 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 南京西路有很多好吃的地方，这里有一些建议供你参考：

1. [南京西路美食推荐，上海南京西路有什么好吃的必吃美食 - 花路网](https://www.hualulv.com/9892.html)
2. [地铁南京西路站下来居然有这么逛吃逛吃的好地方!以前我怎么不知道!](https://www.sohu.com/a/216035146_678269)
3. [2025 南京西路餐廳推薦 (於 6 月更新)| Trip Moments](https://tw.trip.com/moments/theme/poi-west-nanjing-road-38333080-restaurants-993134/)

你可以点击链接查看详细信息。 耗时：8.77秒
INFO:     172.31.31.74:53168 - "POST /ai_assistant?query=%E5%8D%97%E4%BA%AC%E8%A5%BF%E8%B7%AF%E6%9C%89%E4%BB%80%E4%B9%88%E5%A5%BD%E5%90%83%E7%9A%84 HTTP/1.1" 200 OK
2025-06-03 07:09:48,640 ChatBI->     INFO     收到的查询问题： 南京西路有什么好玩的
2025-06-03 07:09:48,640 - ChatBI->  - INFO - 收到的查询问题： 南京西路有什么好玩的
2025-06-03 07:09:49,409 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:09:49,416 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 07:09:49,416 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 07:09:50,208 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:09:50,211 ChatBI->     INFO     进入联网搜索节点，查询内容：南京西路好玩的地方
2025-06-03 07:09:50,211 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：南京西路好玩的地方
2025-06-03 07:09:53,266 ChatBI->     INFO     联网搜索结果：{'query': '南京西路好玩的地方', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海南京西路游玩攻略简介,上海南京西路门票/地址/图片/开放时间/照片/门票价格【携程攻略】', 'url': 'https://you.ctrip.com/sight/shanghai2/38333080.html', 'content': '位于南京西路的梅陇镇广场，建于1997年。很长的一段时间，与周边的恒隆广场、中信泰富一起构成了"梅泰恒金三角"，成为魔都时尚商圈的天花板，几代人浪漫无限的回忆。 曾几何时，伴随着城市化进程和恒隆、泰富的改造焕新，梅陇镇渐渐落伍…痛定思痛', 'score': 0.7485182, 'raw_content': None}, {'title': '上海市南京路步行街什么好玩的? - 知乎', 'url': 'https://www.zhihu.com/question/277539662', 'content': '南京路上有很多大品牌的旗舰店，这些旗舰店很多都是亚洲首家，甚至是全球首家，或者是全球最大的旗舰店，总之是非常值得一逛的地方，而且路的尽头就是 黄浦江 ，不仅可以看到十里洋场的外滩，还可以眺望 浦东新区 ，我的这个视频就是在步行街拍的，你可以看看哦', 'score': 0.65887916, 'raw_content': None}, {'title': '上海南京路步行街游玩攻略，上海南京路步行街有什么好玩的 - 花路网', 'url': 'https://www.hualulv.com/9668.html', 'content': '花路网 上海南京路步行街游玩攻略，上海南京路步行街有什么好玩的 南京路步行街是上海人气最旺盛、人流最繁忙的商业大街。这里汇聚了各类百货商店和品牌旗舰店，商品种类丰富多样，涵盖了众多国际知名品牌，还有上海众多老字号美食店铺。 一、南京路步行街交通攻略 上海市内乘坐地铁到人民广场站（19号口）或南京东路站（2号口），人民广场地铁站在南京路步行街西端，南京东路地铁站在南京路步行街东端，同时靠近外滩。具体可参考下图： 二、南京路步行街游玩路线 以下是南京路步行街的游玩路线推荐： 人民广场地铁站19号口→世贸广场→第一食品商品→上海时装商店→沈大成→永安百货→悦荟广场→泡泡马特全球旗舰店→苹果官方店→华为官方旗舰店→外滩中央广场→和平饭店→（外滩） 首先乘坐地铁到人民广场地铁站，从19号口出，步行大约100米就可以到达南京路步行街。 第1站：世贸广场 建议打卡耐克001、m豆巧克力世界、乐高品牌旗舰店。 耐克001：为全球首家NAIKE旗舰店，这家店商品齐全，是唯一一家可以提供NIKE BY YOU鞋类私人订制服务的商店。 m豆巧克力世界：为M&M巧克力亚洲唯一旗舰店，店内拥有世界上最长的巧克力豆墙，同时提供巧克力豆的定制服务。 乐高品牌旗舰店：亚洲首家乐高旗舰店，店内分为两层，融合了中国元素和上海特色，适合购买乐高玩具给孩子。 第2站：第一食品商品店 为上海老字号食品店，主要出售各种老字号特色美食。其中华点食品的蝴蝶酥和凯司令的栗子蛋糕最为有名，很多人排队购买。 第3站：上海时装商店 上海时装商店所在的建筑风格融合了浓郁的西方元素和怀旧氛围，在繁华地段中独具特色。 上海时装商店的前身是“先施公司”，鼎盛时期被誉为南京路上的“四大公司”之一。 然而在现代时尚的冲击下，上海时装商店因为商品也跟不上潮流，商场逐渐冷清，与昔日辉煌形成鲜明对比。 第4站：沈大成 沈大成是上海人钟爱的传统老字号，除了外带的各种美味糕点，这里也提供堂食服务。沈大成的餐点价格适中，卫生和口味也是有保证的。 第5站：永安百货 历史超过100年，曾开启了老上海的时尚潮流，吸引了众多名流和普通市民前来光顾，如今为网红打卡地之一。如果有时间，不妨花上十分钟进去转一圈，感受这家百年老店的风采。 第6站：悦荟广场 南京路步行街上的一个综合商场，以美食餐饮商家为主。如果要吃午餐或晚饭，可以在这里吃，有很多知名连锁品牌餐饮店，是逛南京路或外滩后休息的好去处。 第7站：泡泡玛特全球旗舰店 店内设计以“未来感”和“科技感”为主导，充满赛博朋克风。 一楼主题是“色彩原力场”，有不同的色彩分区，展现出泡泡玛特潮玩的独特魅力；二楼主题是“抵达新世界”，呈现出未来先锋感的太空漫旅场景。 第8站：苹果官方店 很多人购买的第一台苹果手机就是在这里购得，可以来参观一下。 第9站：华为全球旗舰店 展示全球生态体系产品，并设置智能全场景体验区和公共展览区。 第10站：外滩·中央广场 外滩中央广场位于南京东路123号至139号，由四栋欧式老大楼组成，是南京东路步行街延伸段的商业中心。因其中一栋曾是沪上著名的中央商场，整个广场因此得名。这里的穹顶成为外滩地区的新景点，吸引了众多游客前来参观。 第11站：和平饭店 五星级酒店，上海地标之一，是外滩万国建筑群建筑之一。和平饭店是非常多影视剧的取景地，包括《繁花》、电影《和平饭店》、电视剧《和平饭店》等。 南京路步行街的尽头就是外滩，如果还有时间和精力，可以继续逛一下外滩。 三、南京路步行街美食推荐 1、国际饭店西饼屋：可以品尝到正宗的上海特色蝴蝶酥。 2、上海第一食品商店：提供蝴蝶酥、桃酥、月饼、蜜饯肉脯、以及老上海点心等特色美食。 3、沈大成：主营各种糕点和青团，主打豆沙青团、蛋黄肉松青团、条头糕。 4、红宝石：这里供应着上海独有的蛋糕，奶油小方，每一口都是享受。 6、三玛璐酒楼：必尝榜上的本帮菜包括外婆红烧肉、水晶虾仁、酒香草头和醉蟹等。 7、哈灵面馆：作为上海的招牌面馆之一，必点招牌哈灵牛蛙面嫩滑入味，适合喜欢咸口味的朋友。 8、莱莱小笼：虽然价格略高，但小笼包配上特调姜丝醋的蟹粉小笼十分美味。 9、阿金大白（第一百货店）：老上海本帮味道，推荐尝试蟹粉捞饭、白斩鸡、什锦砂锅。 10、小杨生煎（宏伊广场店）：这是上海特色小吃的代表之一，价格实惠，口感酥脆。 版权声明：本网站所有文章未经允许不得转载至其他平台，违者将追究法律责任。 近期文章 导航 联系邮箱：307731662@qq.com 一日游 三亚 三亚交通 三亚住宿 三亚景点 上海景点 上海迪士尼门票 乌镇 五台山 交通攻略 住宿 凤凰古城 北海景点 厦门 厦门景点 厦门美食 周庄 天门山国家森林公园 宜昌 常州 广东 广州 张家界 张家界国家森林公园 新疆 旅游攻略 旅游景点 旅行社 春节旅游 景点介绍 最佳旅游时间 江门 河南 泰山 洛阳 湛江 火车站 特产 美食 苏州景点 蜈支洲岛 门票 青海湖 韶关 黔南景点', 'score': 0.3089721, 'raw_content': None}], 'response_time': 2.04}
2025-06-03 07:09:53,266 - ChatBI->  - INFO - 联网搜索结果：{'query': '南京西路好玩的地方', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '上海南京西路游玩攻略简介,上海南京西路门票/地址/图片/开放时间/照片/门票价格【携程攻略】', 'url': 'https://you.ctrip.com/sight/shanghai2/38333080.html', 'content': '位于南京西路的梅陇镇广场，建于1997年。很长的一段时间，与周边的恒隆广场、中信泰富一起构成了"梅泰恒金三角"，成为魔都时尚商圈的天花板，几代人浪漫无限的回忆。 曾几何时，伴随着城市化进程和恒隆、泰富的改造焕新，梅陇镇渐渐落伍…痛定思痛', 'score': 0.7485182, 'raw_content': None}, {'title': '上海市南京路步行街什么好玩的? - 知乎', 'url': 'https://www.zhihu.com/question/277539662', 'content': '南京路上有很多大品牌的旗舰店，这些旗舰店很多都是亚洲首家，甚至是全球首家，或者是全球最大的旗舰店，总之是非常值得一逛的地方，而且路的尽头就是 黄浦江 ，不仅可以看到十里洋场的外滩，还可以眺望 浦东新区 ，我的这个视频就是在步行街拍的，你可以看看哦', 'score': 0.65887916, 'raw_content': None}, {'title': '上海南京路步行街游玩攻略，上海南京路步行街有什么好玩的 - 花路网', 'url': 'https://www.hualulv.com/9668.html', 'content': '花路网 上海南京路步行街游玩攻略，上海南京路步行街有什么好玩的 南京路步行街是上海人气最旺盛、人流最繁忙的商业大街。这里汇聚了各类百货商店和品牌旗舰店，商品种类丰富多样，涵盖了众多国际知名品牌，还有上海众多老字号美食店铺。 一、南京路步行街交通攻略 上海市内乘坐地铁到人民广场站（19号口）或南京东路站（2号口），人民广场地铁站在南京路步行街西端，南京东路地铁站在南京路步行街东端，同时靠近外滩。具体可参考下图： 二、南京路步行街游玩路线 以下是南京路步行街的游玩路线推荐： 人民广场地铁站19号口→世贸广场→第一食品商品→上海时装商店→沈大成→永安百货→悦荟广场→泡泡马特全球旗舰店→苹果官方店→华为官方旗舰店→外滩中央广场→和平饭店→（外滩） 首先乘坐地铁到人民广场地铁站，从19号口出，步行大约100米就可以到达南京路步行街。 第1站：世贸广场 建议打卡耐克001、m豆巧克力世界、乐高品牌旗舰店。 耐克001：为全球首家NAIKE旗舰店，这家店商品齐全，是唯一一家可以提供NIKE BY YOU鞋类私人订制服务的商店。 m豆巧克力世界：为M&M巧克力亚洲唯一旗舰店，店内拥有世界上最长的巧克力豆墙，同时提供巧克力豆的定制服务。 乐高品牌旗舰店：亚洲首家乐高旗舰店，店内分为两层，融合了中国元素和上海特色，适合购买乐高玩具给孩子。 第2站：第一食品商品店 为上海老字号食品店，主要出售各种老字号特色美食。其中华点食品的蝴蝶酥和凯司令的栗子蛋糕最为有名，很多人排队购买。 第3站：上海时装商店 上海时装商店所在的建筑风格融合了浓郁的西方元素和怀旧氛围，在繁华地段中独具特色。 上海时装商店的前身是“先施公司”，鼎盛时期被誉为南京路上的“四大公司”之一。 然而在现代时尚的冲击下，上海时装商店因为商品也跟不上潮流，商场逐渐冷清，与昔日辉煌形成鲜明对比。 第4站：沈大成 沈大成是上海人钟爱的传统老字号，除了外带的各种美味糕点，这里也提供堂食服务。沈大成的餐点价格适中，卫生和口味也是有保证的。 第5站：永安百货 历史超过100年，曾开启了老上海的时尚潮流，吸引了众多名流和普通市民前来光顾，如今为网红打卡地之一。如果有时间，不妨花上十分钟进去转一圈，感受这家百年老店的风采。 第6站：悦荟广场 南京路步行街上的一个综合商场，以美食餐饮商家为主。如果要吃午餐或晚饭，可以在这里吃，有很多知名连锁品牌餐饮店，是逛南京路或外滩后休息的好去处。 第7站：泡泡玛特全球旗舰店 店内设计以“未来感”和“科技感”为主导，充满赛博朋克风。 一楼主题是“色彩原力场”，有不同的色彩分区，展现出泡泡玛特潮玩的独特魅力；二楼主题是“抵达新世界”，呈现出未来先锋感的太空漫旅场景。 第8站：苹果官方店 很多人购买的第一台苹果手机就是在这里购得，可以来参观一下。 第9站：华为全球旗舰店 展示全球生态体系产品，并设置智能全场景体验区和公共展览区。 第10站：外滩·中央广场 外滩中央广场位于南京东路123号至139号，由四栋欧式老大楼组成，是南京东路步行街延伸段的商业中心。因其中一栋曾是沪上著名的中央商场，整个广场因此得名。这里的穹顶成为外滩地区的新景点，吸引了众多游客前来参观。 第11站：和平饭店 五星级酒店，上海地标之一，是外滩万国建筑群建筑之一。和平饭店是非常多影视剧的取景地，包括《繁花》、电影《和平饭店》、电视剧《和平饭店》等。 南京路步行街的尽头就是外滩，如果还有时间和精力，可以继续逛一下外滩。 三、南京路步行街美食推荐 1、国际饭店西饼屋：可以品尝到正宗的上海特色蝴蝶酥。 2、上海第一食品商店：提供蝴蝶酥、桃酥、月饼、蜜饯肉脯、以及老上海点心等特色美食。 3、沈大成：主营各种糕点和青团，主打豆沙青团、蛋黄肉松青团、条头糕。 4、红宝石：这里供应着上海独有的蛋糕，奶油小方，每一口都是享受。 6、三玛璐酒楼：必尝榜上的本帮菜包括外婆红烧肉、水晶虾仁、酒香草头和醉蟹等。 7、哈灵面馆：作为上海的招牌面馆之一，必点招牌哈灵牛蛙面嫩滑入味，适合喜欢咸口味的朋友。 8、莱莱小笼：虽然价格略高，但小笼包配上特调姜丝醋的蟹粉小笼十分美味。 9、阿金大白（第一百货店）：老上海本帮味道，推荐尝试蟹粉捞饭、白斩鸡、什锦砂锅。 10、小杨生煎（宏伊广场店）：这是上海特色小吃的代表之一，价格实惠，口感酥脆。 版权声明：本网站所有文章未经允许不得转载至其他平台，违者将追究法律责任。 近期文章 导航 联系邮箱：307731662@qq.com 一日游 三亚 三亚交通 三亚住宿 三亚景点 上海景点 上海迪士尼门票 乌镇 五台山 交通攻略 住宿 凤凰古城 北海景点 厦门 厦门景点 厦门美食 周庄 天门山国家森林公园 宜昌 常州 广东 广州 张家界 张家界国家森林公园 新疆 旅游攻略 旅游景点 旅行社 春节旅游 景点介绍 最佳旅游时间 江门 河南 泰山 洛阳 湛江 火车站 特产 美食 苏州景点 蜈支洲岛 门票 青海湖 韶关 黔南景点', 'score': 0.3089721, 'raw_content': None}], 'response_time': 2.04}
2025-06-03 07:09:56,241 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:09:56,243 ChatBI->     INFO     查询的类型agent 返回的结果: 南京西路有很多好玩的地方，比如梅陇镇广场，这里曾是"梅泰恒金三角"的一部分，是魔都时尚商圈的天花板。此外，南京路步行街也有很多值得游玩的地方，包括世贸广场、第一食品商店、上海时装商店、沈大成、永安百货、悦荟广场、泡泡玛特全球旗舰店、苹果官方店、华为官方旗舰店、外滩中央广场、和平饭店等。你可以根据自己的兴趣选择游玩路线。 耗时：7.60秒
2025-06-03 07:09:56,243 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 南京西路有很多好玩的地方，比如梅陇镇广场，这里曾是"梅泰恒金三角"的一部分，是魔都时尚商圈的天花板。此外，南京路步行街也有很多值得游玩的地方，包括世贸广场、第一食品商店、上海时装商店、沈大成、永安百货、悦荟广场、泡泡玛特全球旗舰店、苹果官方店、华为官方旗舰店、外滩中央广场、和平饭店等。你可以根据自己的兴趣选择游玩路线。 耗时：7.60秒
INFO:     172.31.31.74:53198 - "POST /ai_assistant?query=%E5%8D%97%E4%BA%AC%E8%A5%BF%E8%B7%AF%E6%9C%89%E4%BB%80%E4%B9%88%E5%A5%BD%E7%8E%A9%E7%9A%84 HTTP/1.1" 200 OK
2025-06-03 07:10:45,242 ChatBI->     INFO     收到的查询问题： SIFF什么时候开始
2025-06-03 07:10:45,242 - ChatBI->  - INFO - 收到的查询问题： SIFF什么时候开始
2025-06-03 07:10:46,010 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:10:46,013 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 07:10:46,013 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 07:10:48,681 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:10:48,684 ChatBI->     INFO     进入联网搜索节点，查询内容：SIFF 开始时间
2025-06-03 07:10:48,684 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：SIFF 开始时间
2025-06-03 07:10:51,521 ChatBI->     INFO     联网搜索结果：{'query': 'SIFF 开始时间', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '第二十六届上海国际电影节排片表公布（附线上购票攻略）', 'url': 'https://www.siff.com/content?aid=101240605204046568138797661818885746', 'content': '线上开售时间： 6月8日中午12时起 . 您可关注淘票票上海国际电影节专题页内公告信息或上海国际电影节官方网站（www.siff.com）、官方公众号或官方微博@上海国际电影节，关注开售公告、加场信息及临时影片、影院、场次变动情况。 2.可以在哪里买票？', 'score': 0.7395922, 'raw_content': None}, {'title': 'SIFF | Festival', 'url': 'https://www.siff.net/festival', 'content': 'Escape to the Reel World at the 51st Seattle International Film Festival. Celebrate independent cinema as a destination with screenings in person May 15-25 at venues across Seattle, and extend your vacation with select encores streaming on the SIFF Channel May 26-June 1.. Use the SIFF Film Finder to view the full 2025 lineup and plan the cinematic trip of your dreams.', 'score': 0.71425, 'raw_content': None}, {'title': '上海国际电影节 - 维基百科，自由的百科全书', 'url': 'https://zh.wikipedia.org/wiki/上海国际电影节', 'content': '上海国际电影节 - 维基百科，自由的百科全书 上海国际电影节[编辑] www.chinawriter.com.cn. 上海国际电影节 1993（英语：1993 Shanghai International Film Festival） 1995（英语：1995 Shanghai International Film Festival） 1997（英语：1997 Shanghai International Film Festival） 1999（英语：1999 Shanghai International Film Festival） 2001（英语：2001 Shanghai International Film Festival） 2002（英语：2002 Shanghai International Film Festival） 2004（英语：2004 Shanghai International Film Festival） 2005（英语：2005 Shanghai International Film Festival） 2006（英语：2006 Shanghai International Film Festival） 2007（英语：2007 Shanghai International Film Festival） 2008（英语：2008 Shanghai International Film Festival） 2009（英语：2009 Shanghai International Film Festival） 2010（英语：2010 Shanghai International Film Festival） 2011（英语：2011 Shanghai International Film Festival） 2012（英语：2012 Shanghai International Film Festival） 2013（英语：2013 Shanghai International Film Festival） 三大官方奖项中国电视剧飞天奖\xa0· 中国电视金鹰奖（中国金鹰电视艺术节）\xa0· 上海电视节（白玉兰奖）其他奖项金熊猫奖\xa0· 中国电视剧导演工作委员会年度评选表彰\xa0· 中国电视剧年度盛典\xa0· 中国电视好演员奖\xa0· 国剧盛典\xa0· 电视剧品质盛典\xa0· 春燕奖\xa0· 影视榜样\xa0· 华鼎奖\xa0· 文荣奖\xa0· 北京电影学院学院奖\xa0· 浙江电视牡丹奖 伊朗（英语：Fajr International Film Festival） 上海国际电影节', 'score': 0.55767727, 'raw_content': None}], 'response_time': 1.97}
2025-06-03 07:10:51,521 - ChatBI->  - INFO - 联网搜索结果：{'query': 'SIFF 开始时间', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '第二十六届上海国际电影节排片表公布（附线上购票攻略）', 'url': 'https://www.siff.com/content?aid=101240605204046568138797661818885746', 'content': '线上开售时间： 6月8日中午12时起 . 您可关注淘票票上海国际电影节专题页内公告信息或上海国际电影节官方网站（www.siff.com）、官方公众号或官方微博@上海国际电影节，关注开售公告、加场信息及临时影片、影院、场次变动情况。 2.可以在哪里买票？', 'score': 0.7395922, 'raw_content': None}, {'title': 'SIFF | Festival', 'url': 'https://www.siff.net/festival', 'content': 'Escape to the Reel World at the 51st Seattle International Film Festival. Celebrate independent cinema as a destination with screenings in person May 15-25 at venues across Seattle, and extend your vacation with select encores streaming on the SIFF Channel May 26-June 1.. Use the SIFF Film Finder to view the full 2025 lineup and plan the cinematic trip of your dreams.', 'score': 0.71425, 'raw_content': None}, {'title': '上海国际电影节 - 维基百科，自由的百科全书', 'url': 'https://zh.wikipedia.org/wiki/上海国际电影节', 'content': '上海国际电影节 - 维基百科，自由的百科全书 上海国际电影节[编辑] www.chinawriter.com.cn. 上海国际电影节 1993（英语：1993 Shanghai International Film Festival） 1995（英语：1995 Shanghai International Film Festival） 1997（英语：1997 Shanghai International Film Festival） 1999（英语：1999 Shanghai International Film Festival） 2001（英语：2001 Shanghai International Film Festival） 2002（英语：2002 Shanghai International Film Festival） 2004（英语：2004 Shanghai International Film Festival） 2005（英语：2005 Shanghai International Film Festival） 2006（英语：2006 Shanghai International Film Festival） 2007（英语：2007 Shanghai International Film Festival） 2008（英语：2008 Shanghai International Film Festival） 2009（英语：2009 Shanghai International Film Festival） 2010（英语：2010 Shanghai International Film Festival） 2011（英语：2011 Shanghai International Film Festival） 2012（英语：2012 Shanghai International Film Festival） 2013（英语：2013 Shanghai International Film Festival） 三大官方奖项中国电视剧飞天奖\xa0· 中国电视金鹰奖（中国金鹰电视艺术节）\xa0· 上海电视节（白玉兰奖）其他奖项金熊猫奖\xa0· 中国电视剧导演工作委员会年度评选表彰\xa0· 中国电视剧年度盛典\xa0· 中国电视好演员奖\xa0· 国剧盛典\xa0· 电视剧品质盛典\xa0· 春燕奖\xa0· 影视榜样\xa0· 华鼎奖\xa0· 文荣奖\xa0· 北京电影学院学院奖\xa0· 浙江电视牡丹奖 伊朗（英语：Fajr International Film Festival） 上海国际电影节', 'score': 0.55767727, 'raw_content': None}], 'response_time': 1.97}
2025-06-03 07:10:53,811 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:10:53,813 ChatBI->     INFO     查询的类型agent 返回的结果: 根据搜索结果，第二十六届上海国际电影节的线上开票时间是6月8日中午12时起。具体的开始时间可能在开票后不久，您可以在上海国际电影节官方网站（www.siff.com）、官方公众号或官方微博@上海国际电影节关注开售公告、加场信息及临时影片、影院、场次变动情况。 耗时：8.57秒
2025-06-03 07:10:53,813 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据搜索结果，第二十六届上海国际电影节的线上开票时间是6月8日中午12时起。具体的开始时间可能在开票后不久，您可以在上海国际电影节官方网站（www.siff.com）、官方公众号或官方微博@上海国际电影节关注开售公告、加场信息及临时影片、影院、场次变动情况。 耗时：8.57秒
INFO:     172.31.31.74:53242 - "POST /ai_assistant?query=SIFF%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E5%BC%80%E5%A7%8B HTTP/1.1" 200 OK
2025-06-03 07:11:09,575 ChatBI->     INFO     收到的查询问题： SIFF什么时候结束
2025-06-03 07:11:09,575 - ChatBI->  - INFO - 收到的查询问题： SIFF什么时候结束
2025-06-03 07:11:10,313 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:11:10,315 ChatBI->     INFO     路由的输出: grade=False
2025-06-03 07:11:10,315 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-03 07:11:11,380 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:11:11,382 ChatBI->     INFO     进入联网搜索节点，查询内容：SIFF 结束时间
2025-06-03 07:11:11,382 - ChatBI->  - INFO - 进入联网搜索节点，查询内容：SIFF 结束时间
2025-06-03 07:11:19,029 ChatBI->     INFO     联网搜索结果：{'query': 'SIFF 结束时间', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '第26届上海国际电影节 (2024) - 豆瓣电影', 'url': 'https://movie.douban.com/awards/siff/26/', 'content': '2024-06-14 至 2024-06-23 (北京时间) 中国,上海 官方网站: www.siff.com 评审团: 陈英雄 / 洛夫·德·希尔 / 马蒂亚斯·格拉斯纳 / 梁家辉 / 圣地亚哥·米特雷 / 松太加 / 周迅', 'score': 0.62824833, 'raw_content': None}, {'title': '26th SIFF丨DAY10：光影之旅即将结束 银幕之约还在继续', 'url': 'https://www.siff.com/content?aid=101240623100832574502670224592901508', 'content': '注：如遇时间变动，请以实际为准。 第二十六届上海国际电影节福利来啦!参与评论区留言互动，每日都有机会获得官方会刊、观影手册以及siff文创周边! 注：每日抽送官方会刊*1、观影手册*5、siff文创周边*若干，礼品将于节后陆续发放。', 'score': 0.52334785, 'raw_content': None}, {'title': '第26届上海国际电影节6月14日起举行!除了电影展映，还有这些精彩→_澎湃号·政务_澎湃新闻-The Paper', 'url': 'https://www.thepaper.cn/newsDetail_forward_26913749', 'content': '第三届siff young×上海青年影人扶持计划将继续推荐优秀的青年导演、制片人和编剧，入选影人名单将于6月电影节期间公布。 另外，具有影视"行业发展风向标"之称的上海国际电影节电影市场，将通过展会、市场活动、市场放映等形式，与来自海内外的影视', 'score': 0.49846253, 'raw_content': None}], 'response_time': 3.98}
2025-06-03 07:11:19,029 - ChatBI->  - INFO - 联网搜索结果：{'query': 'SIFF 结束时间', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': '第26届上海国际电影节 (2024) - 豆瓣电影', 'url': 'https://movie.douban.com/awards/siff/26/', 'content': '2024-06-14 至 2024-06-23 (北京时间) 中国,上海 官方网站: www.siff.com 评审团: 陈英雄 / 洛夫·德·希尔 / 马蒂亚斯·格拉斯纳 / 梁家辉 / 圣地亚哥·米特雷 / 松太加 / 周迅', 'score': 0.62824833, 'raw_content': None}, {'title': '26th SIFF丨DAY10：光影之旅即将结束 银幕之约还在继续', 'url': 'https://www.siff.com/content?aid=101240623100832574502670224592901508', 'content': '注：如遇时间变动，请以实际为准。 第二十六届上海国际电影节福利来啦!参与评论区留言互动，每日都有机会获得官方会刊、观影手册以及siff文创周边! 注：每日抽送官方会刊*1、观影手册*5、siff文创周边*若干，礼品将于节后陆续发放。', 'score': 0.52334785, 'raw_content': None}, {'title': '第26届上海国际电影节6月14日起举行!除了电影展映，还有这些精彩→_澎湃号·政务_澎湃新闻-The Paper', 'url': 'https://www.thepaper.cn/newsDetail_forward_26913749', 'content': '第三届siff young×上海青年影人扶持计划将继续推荐优秀的青年导演、制片人和编剧，入选影人名单将于6月电影节期间公布。 另外，具有影视"行业发展风向标"之称的上海国际电影节电影市场，将通过展会、市场活动、市场放映等形式，与来自海内外的影视', 'score': 0.49846253, 'raw_content': None}], 'response_time': 3.98}
2025-06-03 07:11:20,525 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-03 07:11:20,528 ChatBI->     INFO     查询的类型agent 返回的结果: 第26届上海国际电影节将于2024年6月14日开始，至2024年6月23日结束。请注意，具体日期可能会有所变动，请以官方信息为准。 耗时：10.95秒
2025-06-03 07:11:20,528 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 第26届上海国际电影节将于2024年6月14日开始，至2024年6月23日结束。请注意，具体日期可能会有所变动，请以官方信息为准。 耗时：10.95秒
2025-06-04 02:02:24,614 ChatBI->     INFO     收到的查询问题： 高血压头晕怎么办
2025-06-04 02:02:24,614 - ChatBI->  - INFO - 收到的查询问题： 高血压头晕怎么办
2025-06-04 02:02:25,371 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 02:02:25,374 ChatBI->     INFO     路由的输出: grade=True
2025-06-04 02:02:25,374 - ChatBI->  - INFO - 路由的输出: grade=True
2025-06-04 02:02:25,771 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 02:02:25,773 ChatBI->     INFO     查询的类型function 返回的结果: ['健康医疗'] 耗时：1.16秒
2025-06-04 02:02:25,773 - ChatBI->  - INFO - 查询的类型function 返回的结果: ['健康医疗'] 耗时：1.16秒
INFO:     172.31.31.74:41170 - "POST /ai_assistant?query=%E9%AB%98%E8%A1%80%E5%8E%8B%E5%A4%B4%E6%99%95%E6%80%8E%E4%B9%88%E5%8A%9E HTTP/1.1" 200 OK
2025-06-04 02:02:43,655 ChatBI->     INFO     收到的查询问题： 天热快中暑
2025-06-04 02:02:43,655 - ChatBI->  - INFO - 收到的查询问题： 天热快中暑
2025-06-04 02:02:44,374 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 02:02:44,376 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 02:02:44,376 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 02:02:46,150 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 02:02:46,153 ChatBI->     INFO     进入天气查询天气节点，城市名称：当前城市
2025-06-04 02:02:46,153 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：当前城市
2025-06-04 02:02:47,210 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 02:02:47,212 ChatBI->     INFO     查询的类型agent 返回的结果: 看来我没有获取到您所在的城市信息。请告诉我您所在的城市名称，我来查询那里的天气情况。 耗时：3.56秒
2025-06-04 02:02:47,212 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 看来我没有获取到您所在的城市信息。请告诉我您所在的城市名称，我来查询那里的天气情况。 耗时：3.56秒
INFO:     172.31.31.74:41182 - "POST /ai_assistant?query=%E5%A4%A9%E7%83%AD%E5%BF%AB%E4%B8%AD%E6%9A%91 HTTP/1.1" 200 OK
2025-06-04 06:05:19,053 ChatBI->     INFO     收到的查询问题： 天热
2025-06-04 06:05:19,053 - ChatBI->  - INFO - 收到的查询问题： 天热
2025-06-04 06:05:19,821 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 06:05:19,832 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 06:05:19,832 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 06:05:21,460 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 06:05:21,463 ChatBI->     INFO     进入天气查询天气节点，城市名称：北京市
2025-06-04 06:05:21,463 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：北京市
2025-06-04 06:05:21,684 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '北京市', 'adcode': '110000', 'province': '北京', 'reporttime': '2025-06-04 13:39:27', 'casts': [{'date': '2025-06-04', 'week': '3', 'dayweather': '晴', 'nightweather': '晴', 'daytemp': '34', 'nighttemp': '22', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '34.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '晴', 'nightweather': '晴', 'daytemp': '36', 'nighttemp': '23', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '36.0', 'nighttemp_float': '23.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '晴', 'nightweather': '晴', 'daytemp': '33', 'nighttemp': '23', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '23.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '晴', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '23.0'}]}]}
2025-06-04 06:05:21,684 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '北京市', 'adcode': '110000', 'province': '北京', 'reporttime': '2025-06-04 13:39:27', 'casts': [{'date': '2025-06-04', 'week': '3', 'dayweather': '晴', 'nightweather': '晴', 'daytemp': '34', 'nighttemp': '22', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '34.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '晴', 'nightweather': '晴', 'daytemp': '36', 'nighttemp': '23', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '36.0', 'nighttemp_float': '23.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '晴', 'nightweather': '晴', 'daytemp': '33', 'nighttemp': '23', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '23.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '晴', 'nightweather': '多云', 'daytemp': '32', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '23.0'}]}]}
2025-06-04 06:05:22,903 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 06:05:22,905 ChatBI->     INFO     查询的类型agent 返回的结果: 北京市今天的天气为晴，白天最高气温为34℃，夜间最低气温为22℃。明天的最高气温将达到36℃，请注意防暑降温。 耗时：3.85秒
2025-06-04 06:05:22,905 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 北京市今天的天气为晴，白天最高气温为34℃，夜间最低气温为22℃。明天的最高气温将达到36℃，请注意防暑降温。 耗时：3.85秒
INFO:     172.31.31.74:45010 - "POST /ai_assistant?query=%E5%A4%A9%E7%83%AD HTTP/1.1" 200 OK
2025-06-04 06:11:00,672 ChatBI->     INFO     收到的查询问题： 
2025-06-04 06:11:00,672 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-04 06:11:01,439 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 06:11:01,448 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 06:11:01,448 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 06:11:02,117 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 06:11:02,119 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.45秒
2025-06-04 06:11:02,119 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.45秒
INFO:     172.31.31.74:45156 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-04 09:54:05,422 ChatBI->     INFO     收到的查询问题： hello
2025-06-04 09:54:05,422 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-04 09:54:06,207 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 09:54:06,210 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 09:54:06,210 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 09:54:06,683 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 09:54:06,686 ChatBI->     INFO     查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.26秒
2025-06-04 09:54:06,686 - ChatBI->  - INFO - 查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.26秒
INFO:     172.31.31.74:49044 - "POST /ai_assistant?query=hello HTTP/1.1" 200 OK
2025-06-04 09:54:09,976 ChatBI->     INFO     收到的查询问题： hello
2025-06-04 09:54:09,976 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-04 09:54:10,743 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 09:54:10,746 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 09:54:10,746 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 09:54:11,222 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 09:54:11,224 ChatBI->     INFO     查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.25秒
2025-06-04 09:54:11,224 - ChatBI->  - INFO - 查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.25秒
INFO:     172.31.31.74:49050 - "POST /ai_assistant?query=hello HTTP/1.1" 200 OK
2025-06-04 09:54:57,114 ChatBI->     INFO     收到的查询问题： hello
2025-06-04 09:54:57,114 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-04 09:54:57,868 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 09:54:57,871 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 09:54:57,871 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 09:54:58,344 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 09:54:58,346 ChatBI->     INFO     查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.23秒
2025-06-04 09:54:58,346 - ChatBI->  - INFO - 查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.23秒
INFO:     172.31.31.74:49066 - "POST /ai_assistant?query=hello HTTP/1.1" 200 OK
2025-06-04 09:55:15,651 ChatBI->     INFO     收到的查询问题： 养老政策有哪些
2025-06-04 09:55:15,651 - ChatBI->  - INFO - 收到的查询问题： 养老政策有哪些
2025-06-04 09:55:16,373 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 09:55:16,376 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 09:55:16,376 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 09:55:17,150 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 09:55:17,155 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-06-04 09:55:17,181 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-06-04 09:55:17,185 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-06-04 09:55:17,194 - langchain_community.vectorstores.faiss - WARNING - `embedding_function` is expected to be an Embeddings object, support for passing in a function will soon be removed.
2025-06-04 09:55:18,593 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 09:55:18,595 ChatBI->     INFO     查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以提供更具体的问题或地区，我可以帮助您查找相关信息。如果您需要了解一般性的养老政策，我可以为您搜索网络上的信息。您希望采取哪种方式？ 耗时：2.94秒
2025-06-04 09:55:18,595 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以提供更具体的问题或地区，我可以帮助您查找相关信息。如果您需要了解一般性的养老政策，我可以为您搜索网络上的信息。您希望采取哪种方式？ 耗时：2.94秒
进入政策查询节点 ...
INFO:     172.31.31.74:49078 - "POST /ai_assistant?query=%E5%85%BB%E8%80%81%E6%94%BF%E7%AD%96%E6%9C%89%E5%93%AA%E4%BA%9B HTTP/1.1" 200 OK
2025-06-04 10:01:08,222 ChatBI->     INFO     收到的查询问题： 养老政策有哪些
2025-06-04 10:01:08,222 - ChatBI->  - INFO - 收到的查询问题： 养老政策有哪些
2025-06-04 10:01:08,955 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 10:01:08,965 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 10:01:08,965 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 10:01:09,747 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 10:01:09,755 - langchain_community.vectorstores.faiss - WARNING - `embedding_function` is expected to be an Embeddings object, support for passing in a function will soon be removed.
2025-06-04 10:01:11,163 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 10:01:11,165 ChatBI->     INFO     查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以提供更具体的问题或地区，我可以帮助您查找相关信息。如果您需要了解一般性的养老政策，我可以为您搜索网络上的信息。您希望采取哪种方式？ 耗时：2.94秒
2025-06-04 10:01:11,165 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以提供更具体的问题或地区，我可以帮助您查找相关信息。如果您需要了解一般性的养老政策，我可以为您搜索网络上的信息。您希望采取哪种方式？ 耗时：2.94秒
进入政策查询节点 ...
INFO:     172.31.31.74:49196 - "POST /ai_assistant?query=%E5%85%BB%E8%80%81%E6%94%BF%E7%AD%96%E6%9C%89%E5%93%AA%E4%BA%9B HTTP/1.1" 200 OK
2025-06-04 10:57:33,910 ChatBI->     INFO     收到的查询问题： 12333
2025-06-04 10:57:33,910 - ChatBI->  - INFO - 收到的查询问题： 12333
2025-06-04 10:57:34,677 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 10:57:34,680 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 10:57:34,680 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 10:57:35,957 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 10:57:35,959 ChatBI->     INFO     查询的类型agent 返回的结果: 您输入的"12333"不明确，请提供更多信息以便我能够帮助您。这可能是一个电话号码，社保热线，或者只是一个数字序列。请具体说明您的需求。 耗时：2.05秒
2025-06-04 10:57:35,959 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您输入的"12333"不明确，请提供更多信息以便我能够帮助您。这可能是一个电话号码，社保热线，或者只是一个数字序列。请具体说明您的需求。 耗时：2.05秒
INFO:     172.31.31.74:50178 - "POST /ai_assistant?query=12333 HTTP/1.1" 200 OK
2025-06-04 11:05:55,831 ChatBI->     INFO     收到的查询问题： 12312312
2025-06-04 11:05:55,831 - ChatBI->  - INFO - 收到的查询问题： 12312312
2025-06-04 11:05:56,590 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:05:56,593 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:05:56,593 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:05:57,297 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:05:57,299 ChatBI->     INFO     查询的类型agent 返回的结果: 您好，您似乎输入了一串数字。请问您需要什么样的帮助或信息呢？ 耗时：1.47秒
2025-06-04 11:05:57,299 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您好，您似乎输入了一串数字。请问您需要什么样的帮助或信息呢？ 耗时：1.47秒
INFO:     172.31.31.74:50368 - "POST /ai_assistant?query=12312312 HTTP/1.1" 200 OK
2025-06-04 11:07:05,286 ChatBI->     INFO     收到的查询问题： 11
2025-06-04 11:07:05,286 - ChatBI->  - INFO - 收到的查询问题： 11
2025-06-04 11:07:06,001 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:07:06,004 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:07:06,004 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:07:06,999 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:07:07,001 ChatBI->     INFO     查询的类型agent 返回的结果: 您好！您似乎输入了一个数字11，但没有提供具体的问题或需求。能否请您提供更多详细信息，以便我能更好地帮助您？ 耗时：1.71秒
2025-06-04 11:07:07,001 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您好！您似乎输入了一个数字11，但没有提供具体的问题或需求。能否请您提供更多详细信息，以便我能更好地帮助您？ 耗时：1.71秒
INFO:     172.31.31.74:50390 - "POST /ai_assistant?query=11 HTTP/1.1" 200 OK
2025-06-04 11:07:16,046 ChatBI->     INFO     收到的查询问题： 帮我找找养老政策
2025-06-04 11:07:16,046 - ChatBI->  - INFO - 收到的查询问题： 帮我找找养老政策
2025-06-04 11:07:16,762 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:07:16,765 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:07:16,765 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:07:17,536 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:07:17,547 - langchain_community.vectorstores.faiss - WARNING - `embedding_function` is expected to be an Embeddings object, support for passing in a function will soon be removed.
2025-06-04 11:07:18,874 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:07:18,876 ChatBI->     INFO     查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以尝试提供更具体的城市或地区名称，以便我能更准确地查找相关信息。或者，您可以直接访问当地政府的官方网站来获取最新的养老政策。 耗时：2.83秒
2025-06-04 11:07:18,876 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以尝试提供更具体的城市或地区名称，以便我能更准确地查找相关信息。或者，您可以直接访问当地政府的官方网站来获取最新的养老政策。 耗时：2.83秒
进入政策查询节点 ...
INFO:     172.31.31.74:50398 - "POST /ai_assistant?query=%E5%B8%AE%E6%88%91%E6%89%BE%E6%89%BE%E5%85%BB%E8%80%81%E6%94%BF%E7%AD%96 HTTP/1.1" 200 OK
2025-06-04 11:19:28,425 ChatBI->     INFO     收到的查询问题： 123
2025-06-04 11:19:28,425 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-04 11:19:29,168 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:19:29,177 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:19:29,177 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:19:30,183 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:19:30,185 ChatBI->     INFO     查询的类型agent 返回的结果: 您好，请问有什么可以帮助您的吗？您输入的"123"似乎不是一个具体的问题或指令。能否请您提供更多的信息呢？ 耗时：1.76秒
2025-06-04 11:19:30,185 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您好，请问有什么可以帮助您的吗？您输入的"123"似乎不是一个具体的问题或指令。能否请您提供更多的信息呢？ 耗时：1.76秒
INFO:     172.31.31.74:50608 - "POST /ai_assistant?query=123 HTTP/1.1" 200 OK
2025-06-04 11:22:28,212 ChatBI->     INFO     收到的查询问题： 23
2025-06-04 11:22:28,212 - ChatBI->  - INFO - 收到的查询问题： 23
2025-06-04 11:22:28,924 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:22:28,927 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:22:28,927 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:22:29,825 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:22:29,827 ChatBI->     INFO     查询的类型agent 返回的结果: 您的输入为"23"，但没有明确您需要进行什么操作或查询什么信息。请提供更多详细信息。 耗时：1.61秒
2025-06-04 11:22:29,827 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您的输入为"23"，但没有明确您需要进行什么操作或查询什么信息。请提供更多详细信息。 耗时：1.61秒
INFO:     172.31.31.74:50676 - "POST /ai_assistant?query=23 HTTP/1.1" 200 OK
2025-06-04 11:22:30,877 ChatBI->     INFO     收到的查询问题： 23
2025-06-04 11:22:30,877 - ChatBI->  - INFO - 收到的查询问题： 23
2025-06-04 11:22:31,546 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:22:31,549 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:22:31,549 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:22:32,442 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:22:32,444 ChatBI->     INFO     查询的类型agent 返回的结果: 您的输入为"23"，但没有明确您需要进行什么操作或查询什么信息。请提供更多详细信息。 耗时：1.57秒
2025-06-04 11:22:32,444 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您的输入为"23"，但没有明确您需要进行什么操作或查询什么信息。请提供更多详细信息。 耗时：1.57秒
INFO:     172.31.31.74:50682 - "POST /ai_assistant?query=23 HTTP/1.1" 200 OK
2025-06-04 11:23:38,693 ChatBI->     INFO     收到的查询问题： 告诉我一些养老政策
2025-06-04 11:23:38,693 - ChatBI->  - INFO - 收到的查询问题： 告诉我一些养老政策
2025-06-04 11:23:39,419 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:23:39,421 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:23:39,421 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:23:40,194 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:23:40,203 - langchain_community.vectorstores.faiss - WARNING - `embedding_function` is expected to be an Embeddings object, support for passing in a function will soon be removed.
2025-06-04 11:23:41,510 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:23:41,512 ChatBI->     INFO     查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以尝试提供更具体的城市或地区名称，以便我能找到相关的养老政策信息。或者，您可以访问当地政府的官方网站获取最准确的信息。 耗时：2.82秒
2025-06-04 11:23:41,512 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以尝试提供更具体的城市或地区名称，以便我能找到相关的养老政策信息。或者，您可以访问当地政府的官方网站获取最准确的信息。 耗时：2.82秒
进入政策查询节点 ...
INFO:     172.31.31.74:50700 - "POST /ai_assistant?query=%E5%91%8A%E8%AF%89%E6%88%91%E4%B8%80%E4%BA%9B%E5%85%BB%E8%80%81%E6%94%BF%E7%AD%96 HTTP/1.1" 200 OK
2025-06-04 11:23:49,894 ChatBI->     INFO     收到的查询问题： hello
2025-06-04 11:23:49,894 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-04 11:23:50,678 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:23:50,680 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:23:50,680 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:23:51,152 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:23:51,154 ChatBI->     INFO     查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.26秒
2025-06-04 11:23:51,154 - ChatBI->  - INFO - 查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.26秒
INFO:     172.31.31.74:50712 - "POST /ai_assistant?query=hello HTTP/1.1" 200 OK
2025-06-04 11:36:38,559 ChatBI->     INFO     收到的查询问题： 讲个笑话
2025-06-04 11:36:38,559 - ChatBI->  - INFO - 收到的查询问题： 讲个笑话
2025-06-04 11:36:39,297 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:36:39,300 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:36:39,300 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:36:41,970 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:36:41,972 ChatBI->     INFO     查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.41秒
2025-06-04 11:36:41,972 - ChatBI->  - INFO - 查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.41秒
INFO:     172.31.31.74:50964 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E7%AC%91%E8%AF%9D HTTP/1.1" 200 OK
2025-06-04 11:38:09,634 ChatBI->     INFO     收到的查询问题： 王元元好看吗
2025-06-04 11:38:09,634 - ChatBI->  - INFO - 收到的查询问题： 王元元好看吗
2025-06-04 11:38:10,398 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:38:10,407 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:38:10,407 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:38:12,116 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:38:12,118 ChatBI->     INFO     查询的类型agent 返回的结果: 这个问题比较主观，好看与否取决于个人审美标准。你认为呢？如果有具体的人或对象，可以提供更多描述，或许能有更多讨论。 耗时：2.48秒
2025-06-04 11:38:12,118 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 这个问题比较主观，好看与否取决于个人审美标准。你认为呢？如果有具体的人或对象，可以提供更多描述，或许能有更多讨论。 耗时：2.48秒
INFO:     172.31.31.74:50990 - "POST /ai_assistant?query=%E7%8E%8B%E5%85%83%E5%85%83%E5%A5%BD%E7%9C%8B%E5%90%97 HTTP/1.1" 200 OK
2025-06-04 11:38:36,584 ChatBI->     INFO     收到的查询问题： 你竟然没说好看，你已有取死之道
2025-06-04 11:38:36,584 - ChatBI->  - INFO - 收到的查询问题： 你竟然没说好看，你已有取死之道
2025-06-04 11:38:37,308 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:38:37,310 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:38:37,310 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:38:38,327 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:38:38,329 ChatBI->     INFO     查询的类型agent 返回的结果: 我会尽量保持中立，不会遗漏任何细节。如果你有具体的问题或者需要帮助的地方，随时告诉我。希望我的回复能符合你的期待。 耗时：1.74秒
2025-06-04 11:38:38,329 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 我会尽量保持中立，不会遗漏任何细节。如果你有具体的问题或者需要帮助的地方，随时告诉我。希望我的回复能符合你的期待。 耗时：1.74秒
INFO:     172.31.31.74:51000 - "POST /ai_assistant?query=%E4%BD%A0%E7%AB%9F%E7%84%B6%E6%B2%A1%E8%AF%B4%E5%A5%BD%E7%9C%8B%EF%BC%8C%E4%BD%A0%E5%B7%B2%E6%9C%89%E5%8F%96%E6%AD%BB%E4%B9%8B%E9%81%93 HTTP/1.1" 200 OK
2025-06-04 11:39:09,814 ChatBI->     INFO     收到的查询问题： 1233
2025-06-04 11:39:09,814 - ChatBI->  - INFO - 收到的查询问题： 1233
2025-06-04 11:39:10,562 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:39:10,565 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:39:10,565 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:39:11,733 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:39:11,735 ChatBI->     INFO     查询的类型agent 返回的结果: 您好，请问有什么可以帮助您的吗？您输入的"1233"似乎不是一个明确的请求或问题。能否请您提供更多的信息或具体说明一下您的需求？ 耗时：1.92秒
2025-06-04 11:39:11,735 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您好，请问有什么可以帮助您的吗？您输入的"1233"似乎不是一个明确的请求或问题。能否请您提供更多的信息或具体说明一下您的需求？ 耗时：1.92秒
INFO:     172.31.31.74:51016 - "POST /ai_assistant?query=1233 HTTP/1.1" 200 OK
2025-06-04 11:39:40,684 ChatBI->     INFO     收到的查询问题： 
2025-06-04 11:39:40,684 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-04 11:39:41,465 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:39:41,467 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:39:41,467 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:39:42,139 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:39:42,141 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.46秒
2025-06-04 11:39:42,141 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.46秒
INFO:     172.31.31.74:51028 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-04 11:40:01,005 ChatBI->     INFO     收到的查询问题： 
2025-06-04 11:40:01,005 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-04 11:40:01,783 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:40:01,786 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:40:01,786 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:40:02,458 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:40:02,460 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.45秒
2025-06-04 11:40:02,460 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.45秒
INFO:     172.31.31.74:51038 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-04 11:40:15,869 ChatBI->     INFO     收到的查询问题： 
2025-06-04 11:40:15,869 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-04 11:40:16,648 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:40:16,651 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:40:16,651 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:40:17,322 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:40:17,324 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.46秒
2025-06-04 11:40:17,324 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.46秒
INFO:     172.31.31.74:51046 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-04 11:40:24,273 ChatBI->     INFO     收到的查询问题： 
2025-06-04 11:40:24,273 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-04 11:40:25,069 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:40:25,072 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:40:25,072 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:40:25,773 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:40:25,775 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.50秒
2025-06-04 11:40:25,775 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.50秒
INFO:     172.31.31.74:51056 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-04 11:40:46,620 ChatBI->     INFO     收到的查询问题： 
2025-06-04 11:40:46,620 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-04 11:40:47,399 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:40:47,402 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:40:47,402 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:40:48,075 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:40:48,077 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.46秒
2025-06-04 11:40:48,077 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.46秒
INFO:     172.31.31.74:51066 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-04 11:41:26,457 ChatBI->     INFO     收到的查询问题： 
2025-06-04 11:41:26,457 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-04 11:41:27,242 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:41:27,244 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:41:27,244 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:41:27,940 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:41:27,942 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.49秒
2025-06-04 11:41:27,942 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.49秒
INFO:     172.31.31.74:51082 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-04 11:41:57,407 ChatBI->     INFO     收到的查询问题： 
2025-06-04 11:41:57,407 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-04 11:41:58,188 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:41:58,191 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:41:58,191 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:41:58,889 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:41:58,891 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.48秒
2025-06-04 11:41:58,891 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.48秒
INFO:     172.31.31.74:51094 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-04 11:42:17,301 ChatBI->     INFO     收到的查询问题： 
2025-06-04 11:42:17,301 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-04 11:42:18,080 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:42:18,083 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:42:18,083 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:42:18,765 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:42:18,767 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.47秒
2025-06-04 11:42:18,767 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.47秒
INFO:     172.31.31.74:51104 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-04 11:42:43,521 ChatBI->     INFO     收到的查询问题： 
2025-06-04 11:42:43,521 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-04 11:42:44,286 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:42:44,288 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:42:44,288 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:42:44,956 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:42:44,957 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.44秒
2025-06-04 11:42:44,957 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.44秒
INFO:     172.31.31.74:51116 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-04 11:43:01,487 ChatBI->     INFO     收到的查询问题： 
2025-06-04 11:43:01,487 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-04 11:43:02,293 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:43:02,296 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:43:02,296 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:43:02,970 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:43:02,972 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.48秒
2025-06-04 11:43:02,972 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.48秒
INFO:     172.31.31.74:51126 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-04 11:43:26,212 ChatBI->     INFO     收到的查询问题： 3
2025-06-04 11:43:26,212 - ChatBI->  - INFO - 收到的查询问题： 3
2025-06-04 11:43:26,955 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:43:26,957 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:43:26,957 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:43:27,779 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:43:27,782 ChatBI->     INFO     查询的类型agent 返回的结果: 你的输入是"3"，但是没有明确你要执行什么操作。能否提供更多上下文或具体说明？ 耗时：1.57秒
2025-06-04 11:43:27,782 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 你的输入是"3"，但是没有明确你要执行什么操作。能否提供更多上下文或具体说明？ 耗时：1.57秒
INFO:     172.31.31.74:51138 - "POST /ai_assistant?query=3 HTTP/1.1" 200 OK
2025-06-04 11:43:32,074 ChatBI->     INFO     收到的查询问题： 
2025-06-04 11:43:32,074 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-04 11:43:32,860 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:43:32,862 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:43:32,862 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:43:33,536 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:43:33,539 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.46秒
2025-06-04 11:43:33,539 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.46秒
INFO:     172.31.31.74:51146 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-04 11:44:27,375 ChatBI->     INFO     收到的查询问题： 213
2025-06-04 11:44:27,375 - ChatBI->  - INFO - 收到的查询问题： 213
2025-06-04 11:44:28,079 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:44:28,082 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:44:28,082 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:44:29,296 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:44:29,298 ChatBI->     INFO     查询的类型agent 返回的结果: 您好，您似乎输入了一个数字"213"，但没有说明具体需求。能否请您提供更多详细信息，比如您需要查询天气、导航，还是其他信息？谢谢！ 耗时：1.92秒
2025-06-04 11:44:29,298 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您好，您似乎输入了一个数字"213"，但没有说明具体需求。能否请您提供更多详细信息，比如您需要查询天气、导航，还是其他信息？谢谢！ 耗时：1.92秒
INFO:     172.31.31.74:51176 - "POST /ai_assistant?query=213 HTTP/1.1" 200 OK
2025-06-04 11:44:40,020 ChatBI->     INFO     收到的查询问题： 1 1等于几
2025-06-04 11:44:40,020 - ChatBI->  - INFO - 收到的查询问题： 1 1等于几
2025-06-04 11:44:40,786 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:44:40,788 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:44:40,788 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:44:41,189 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:44:41,191 ChatBI->     INFO     查询的类型agent 返回的结果: 1 1等于2。 耗时：1.17秒
2025-06-04 11:44:41,191 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 1 1等于2。 耗时：1.17秒
INFO:     172.31.31.74:51188 - "POST /ai_assistant?query=1+1%E7%AD%89%E4%BA%8E%E5%87%A0 HTTP/1.1" 200 OK
2025-06-04 11:45:22,970 ChatBI->     INFO     收到的查询问题： 讲个笑话
2025-06-04 11:45:22,970 - ChatBI->  - INFO - 收到的查询问题： 讲个笑话
2025-06-04 11:45:23,709 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:45:23,712 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:45:23,712 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:45:26,377 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:45:26,379 ChatBI->     INFO     查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.41秒
2025-06-04 11:45:26,379 - ChatBI->  - INFO - 查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.41秒
INFO:     172.31.31.74:51204 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E7%AC%91%E8%AF%9D HTTP/1.1" 200 OK
2025-06-04 11:45:32,025 ChatBI->     INFO     收到的查询问题： 讲个笑话
2025-06-04 11:45:32,025 - ChatBI->  - INFO - 收到的查询问题： 讲个笑话
2025-06-04 11:45:32,739 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:45:32,742 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:45:32,742 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:45:35,422 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:45:35,424 ChatBI->     INFO     查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.40秒
2025-06-04 11:45:35,424 - ChatBI->  - INFO - 查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.40秒
INFO:     172.31.31.74:51212 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E7%AC%91%E8%AF%9D HTTP/1.1" 200 OK
2025-06-04 11:45:37,202 ChatBI->     INFO     收到的查询问题： 讲个别的笑话
2025-06-04 11:45:37,202 - ChatBI->  - INFO - 收到的查询问题： 讲个别的笑话
2025-06-04 11:45:37,922 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:45:37,925 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:45:37,925 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:45:38,498 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:45:38,500 ChatBI->     INFO     查询的类型agent 返回的结果: 为什么电脑经常生病？因为它经常“病毒”入侵。 耗时：1.30秒
2025-06-04 11:45:38,500 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 为什么电脑经常生病？因为它经常“病毒”入侵。 耗时：1.30秒
INFO:     172.31.31.74:51220 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E5%88%AB%E7%9A%84%E7%AC%91%E8%AF%9D HTTP/1.1" 200 OK
2025-06-04 11:48:14,311 ChatBI->     INFO     收到的查询问题： 帮我用uniapp写一段代码，创建一个scrollview
2025-06-04 11:48:14,311 - ChatBI->  - INFO - 收到的查询问题： 帮我用uniapp写一段代码，创建一个scrollview
2025-06-04 11:48:15,077 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:48:15,079 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:48:15,079 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:48:19,328 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:48:19,330 ChatBI->     INFO     查询的类型agent 返回的结果: 在uniapp中创建一个scroll-view组件的基本代码如下：

```html
<template>
  <scroll-view class="scroll-view" scroll-y>
    <view class="item" v-for="n in 10" :key="n">内容{{ n }}</view>
  </scroll-view>
</template>

<style>
.scroll-view {
  height: 300px;
}
.item {
  height: 100px;
  line-height: 100px;
  text-align: center;
  border: 1px solid #ccc;
}
</style>
```

这段代码创建了一个可垂直滚动的scroll-view，并在其中添加了10个项目。每个项目的高度为100px，scroll-view的高度为300px。 耗时：5.02秒
2025-06-04 11:48:19,330 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 在uniapp中创建一个scroll-view组件的基本代码如下：

```html
<template>
  <scroll-view class="scroll-view" scroll-y>
    <view class="item" v-for="n in 10" :key="n">内容{{ n }}</view>
  </scroll-view>
</template>

<style>
.scroll-view {
  height: 300px;
}
.item {
  height: 100px;
  line-height: 100px;
  text-align: center;
  border: 1px solid #ccc;
}
</style>
```

这段代码创建了一个可垂直滚动的scroll-view，并在其中添加了10个项目。每个项目的高度为100px，scroll-view的高度为300px。 耗时：5.02秒
INFO:     172.31.31.74:51280 - "POST /ai_assistant?query=%E5%B8%AE%E6%88%91%E7%94%A8uniapp%E5%86%99%E4%B8%80%E6%AE%B5%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAscrollview HTTP/1.1" 200 OK
2025-06-04 11:57:04,221 ChatBI->     INFO     收到的查询问题： 查询上海明天天气
2025-06-04 11:57:04,221 - ChatBI->  - INFO - 收到的查询问题： 查询上海明天天气
2025-06-04 11:57:05,023 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:57:05,026 ChatBI->     INFO     路由的输出: grade=False
2025-06-04 11:57:05,026 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-04 11:57:05,778 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:57:05,780 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-06-04 11:57:05,780 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-06-04 11:57:06,153 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-04 19:33:23', 'casts': [{'date': '2025-06-04', 'week': '3', 'dayweather': '多云', 'nightweather': '阴', 'daytemp': '31', 'nighttemp': '21', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '31.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '31', 'nighttemp': '22', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '31.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '阴', 'nightweather': '小雨', 'daytemp': '30', 'nighttemp': '23', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '30.0', 'nighttemp_float': '23.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '中雨', 'nightweather': '中雨', 'daytemp': '27', 'nighttemp': '23', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '23.0'}]}]}
2025-06-04 11:57:06,153 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-04 19:33:23', 'casts': [{'date': '2025-06-04', 'week': '3', 'dayweather': '多云', 'nightweather': '阴', 'daytemp': '31', 'nighttemp': '21', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '31.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-05', 'week': '4', 'dayweather': '阴', 'nightweather': '多云', 'daytemp': '31', 'nighttemp': '22', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '31.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '阴', 'nightweather': '小雨', 'daytemp': '30', 'nighttemp': '23', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '30.0', 'nighttemp_float': '23.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '中雨', 'nightweather': '中雨', 'daytemp': '27', 'nighttemp': '23', 'daywind': '东南', 'nightwind': '东南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '23.0'}]}]}
2025-06-04 11:57:07,659 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-04 11:57:07,661 ChatBI->     INFO     查询的类型agent 返回的结果: 明天（2025年6月5日），上海市的天气预报为：白天阴，夜间多云，最高温度31℃，最低温度22℃，风向东南，风力1-3级。 耗时：3.44秒
2025-06-04 11:57:07,661 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 明天（2025年6月5日），上海市的天气预报为：白天阴，夜间多云，最高温度31℃，最低温度22℃，风向东南，风力1-3级。 耗时：3.44秒
INFO:     172.31.31.74:51426 - "POST /ai_assistant?query=%E6%9F%A5%E8%AF%A2%E4%B8%8A%E6%B5%B7%E6%98%8E%E5%A4%A9%E5%A4%A9%E6%B0%94 HTTP/1.1" 200 OK
2025-06-05 01:15:53,300 ChatBI->     INFO     收到的查询问题： 养老政策有哪些
2025-06-05 01:15:53,300 - ChatBI->  - INFO - 收到的查询问题： 养老政策有哪些
2025-06-05 01:15:54,050 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:15:54,057 ChatBI->     INFO     路由的输出: grade=False
2025-06-05 01:15:54,057 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-05 01:15:54,832 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:15:54,842 - langchain_community.vectorstores.faiss - WARNING - `embedding_function` is expected to be an Embeddings object, support for passing in a function will soon be removed.
2025-06-05 01:15:56,257 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:15:56,258 ChatBI->     INFO     查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以提供更具体的问题或地区，我可以帮助您查找相关信息。如果您需要了解一般性的养老政策，我可以为您搜索网络上的信息。您希望采取哪种方式？ 耗时：2.96秒
2025-06-05 01:15:56,258 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以提供更具体的问题或地区，我可以帮助您查找相关信息。如果您需要了解一般性的养老政策，我可以为您搜索网络上的信息。您希望采取哪种方式？ 耗时：2.96秒
进入政策查询节点 ...
INFO:     172.31.31.74:34200 - "POST /ai_assistant?query=%E5%85%BB%E8%80%81%E6%94%BF%E7%AD%96%E6%9C%89%E5%93%AA%E4%BA%9B HTTP/1.1" 200 OK
2025-06-05 01:16:06,146 ChatBI->     INFO     收到的查询问题： 123
2025-06-05 01:16:06,146 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-05 01:16:06,904 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:16:06,907 ChatBI->     INFO     路由的输出: grade=False
2025-06-05 01:16:06,907 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-05 01:16:07,906 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:16:07,908 ChatBI->     INFO     查询的类型agent 返回的结果: 您好，请问有什么可以帮助您的吗？您输入的"123"似乎不是一个具体的问题或指令。能否请您提供更多的信息呢？ 耗时：1.76秒
2025-06-05 01:16:07,908 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您好，请问有什么可以帮助您的吗？您输入的"123"似乎不是一个具体的问题或指令。能否请您提供更多的信息呢？ 耗时：1.76秒
INFO:     172.31.31.74:34226 - "POST /ai_assistant?query=123 HTTP/1.1" 200 OK
2025-06-05 01:16:14,787 ChatBI->     INFO     收到的查询问题： 12313
2025-06-05 01:16:14,787 - ChatBI->  - INFO - 收到的查询问题： 12313
2025-06-05 01:16:15,535 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:16:15,537 ChatBI->     INFO     路由的输出: grade=False
2025-06-05 01:16:15,537 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-05 01:16:16,383 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:16:16,385 ChatBI->     INFO     查询的类型agent 返回的结果: 您的输入似乎不明确。您是想查询天气、导航，还是有其他具体需求？请提供更多信息。 耗时：1.60秒
2025-06-05 01:16:16,385 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您的输入似乎不明确。您是想查询天气、导航，还是有其他具体需求？请提供更多信息。 耗时：1.60秒
INFO:     172.31.31.74:34304 - "POST /ai_assistant?query=12313 HTTP/1.1" 200 OK
2025-06-05 01:16:37,178 ChatBI->     INFO     收到的查询问题： 我想咨询一下养老政策
2025-06-05 01:16:37,178 - ChatBI->  - INFO - 收到的查询问题： 我想咨询一下养老政策
2025-06-05 01:16:37,922 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:16:37,924 ChatBI->     INFO     路由的输出: grade=False
2025-06-05 01:16:37,924 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-05 01:16:38,698 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:16:38,708 - langchain_community.vectorstores.faiss - WARNING - `embedding_function` is expected to be an Embeddings object, support for passing in a function will soon be removed.
2025-06-05 01:16:39,593 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:16:39,595 ChatBI->     INFO     查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以提供更具体的问题或地区，我将尽力帮助您。 耗时：2.42秒
2025-06-05 01:16:39,595 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以提供更具体的问题或地区，我将尽力帮助您。 耗时：2.42秒
进入政策查询节点 ...
INFO:     172.31.31.74:34332 - "POST /ai_assistant?query=%E6%88%91%E6%83%B3%E5%92%A8%E8%AF%A2%E4%B8%80%E4%B8%8B%E5%85%BB%E8%80%81%E6%94%BF%E7%AD%96 HTTP/1.1" 200 OK
2025-06-05 01:16:44,980 ChatBI->     INFO     收到的查询问题： 讲个笑话
2025-06-05 01:16:44,980 - ChatBI->  - INFO - 收到的查询问题： 讲个笑话
2025-06-05 01:16:45,698 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:16:45,707 ChatBI->     INFO     路由的输出: grade=False
2025-06-05 01:16:45,707 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-05 01:16:48,374 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:16:48,377 ChatBI->     INFO     查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.40秒
2025-06-05 01:16:48,377 - ChatBI->  - INFO - 查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.40秒
INFO:     172.31.31.74:34342 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E7%AC%91%E8%AF%9D HTTP/1.1" 200 OK
2025-06-05 01:17:57,350 ChatBI->     INFO     收到的查询问题： 明天北京天气怎么样
2025-06-05 01:17:57,350 - ChatBI->  - INFO - 收到的查询问题： 明天北京天气怎么样
2025-06-05 01:17:58,096 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:17:58,099 ChatBI->     INFO     路由的输出: grade=False
2025-06-05 01:17:58,099 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-05 01:17:58,845 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:17:58,848 ChatBI->     INFO     进入天气查询天气节点，城市名称：北京市
2025-06-05 01:17:58,848 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：北京市
2025-06-05 01:17:59,153 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '北京市', 'adcode': '110000', 'province': '北京', 'reporttime': '2025-06-05 09:04:28', 'casts': [{'date': '2025-06-05', 'week': '4', 'dayweather': '晴', 'nightweather': '晴', 'daytemp': '37', 'nighttemp': '22', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '37.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '34', 'nighttemp': '22', 'daywind': '东北', 'nightwind': '东北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '34.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '晴', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '20', 'daywind': '东北', 'nightwind': '东北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '20.0'}, {'date': '2025-06-08', 'week': '7', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '23', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '23.0'}]}]}
2025-06-05 01:17:59,153 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '北京市', 'adcode': '110000', 'province': '北京', 'reporttime': '2025-06-05 09:04:28', 'casts': [{'date': '2025-06-05', 'week': '4', 'dayweather': '晴', 'nightweather': '晴', 'daytemp': '37', 'nighttemp': '22', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '37.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '34', 'nighttemp': '22', 'daywind': '东北', 'nightwind': '东北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '34.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '晴', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '20', 'daywind': '东北', 'nightwind': '东北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '20.0'}, {'date': '2025-06-08', 'week': '7', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '23', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '23.0'}]}]}
2025-06-05 01:18:00,409 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:18:00,412 ChatBI->     INFO     查询的类型agent 返回的结果: 明天北京的天气预计是多云，白天最高温度34℃，夜间最低温度22℃，风向为东北风，风力等级为1-3级。 耗时：3.06秒
2025-06-05 01:18:00,412 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 明天北京的天气预计是多云，白天最高温度34℃，夜间最低温度22℃，风向为东北风，风力等级为1-3级。 耗时：3.06秒
INFO:     172.31.31.74:34368 - "POST /ai_assistant?query=%E6%98%8E%E5%A4%A9%E5%8C%97%E4%BA%AC%E5%A4%A9%E6%B0%94%E6%80%8E%E4%B9%88%E6%A0%B7 HTTP/1.1" 200 OK
2025-06-05 01:21:33,249 ChatBI->     INFO     收到的查询问题： 123
2025-06-05 01:21:33,249 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-05 01:21:34,019 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:21:34,026 ChatBI->     INFO     路由的输出: grade=False
2025-06-05 01:21:34,026 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-05 01:21:35,015 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:21:35,017 ChatBI->     INFO     查询的类型agent 返回的结果: 您好，请问有什么可以帮助您的吗？您输入的"123"似乎不是一个具体的问题或指令。能否请您提供更多的信息呢？ 耗时：1.77秒
2025-06-05 01:21:35,017 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您好，请问有什么可以帮助您的吗？您输入的"123"似乎不是一个具体的问题或指令。能否请您提供更多的信息呢？ 耗时：1.77秒
INFO:     172.31.31.74:34426 - "POST /ai_assistant?query=123 HTTP/1.1" 200 OK
2025-06-05 01:24:14,412 ChatBI->     INFO     收到的查询问题： 3
2025-06-05 01:24:14,412 - ChatBI->  - INFO - 收到的查询问题： 3
2025-06-05 01:24:15,172 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:24:15,174 ChatBI->     INFO     路由的输出: grade=False
2025-06-05 01:24:15,174 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-05 01:24:15,996 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:24:15,998 ChatBI->     INFO     查询的类型agent 返回的结果: 你的输入是"3"，但是没有明确你要执行什么操作。能否提供更多上下文或具体说明？ 耗时：1.59秒
2025-06-05 01:24:15,998 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 你的输入是"3"，但是没有明确你要执行什么操作。能否提供更多上下文或具体说明？ 耗时：1.59秒
INFO:     172.31.31.74:34470 - "POST /ai_assistant?query=3 HTTP/1.1" 200 OK
2025-06-05 01:24:25,532 ChatBI->     INFO     收到的查询问题： 讲个笑话
2025-06-05 01:24:25,532 - ChatBI->  - INFO - 收到的查询问题： 讲个笑话
2025-06-05 01:24:26,269 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:24:26,272 ChatBI->     INFO     路由的输出: grade=False
2025-06-05 01:24:26,272 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-05 01:24:28,940 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:24:28,942 ChatBI->     INFO     查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.41秒
2025-06-05 01:24:28,942 - ChatBI->  - INFO - 查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.41秒
INFO:     172.31.31.74:34478 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E7%AC%91%E8%AF%9D HTTP/1.1" 200 OK
2025-06-05 01:24:34,797 ChatBI->     INFO     收到的查询问题： 上海的养老政策有哪些
2025-06-05 01:24:34,797 - ChatBI->  - INFO - 收到的查询问题： 上海的养老政策有哪些
2025-06-05 01:24:35,561 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:24:35,564 ChatBI->     INFO     路由的输出: grade=False
2025-06-05 01:24:35,564 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-05 01:24:36,409 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:24:36,419 - langchain_community.vectorstores.faiss - WARNING - `embedding_function` is expected to be an Embeddings object, support for passing in a function will soon be removed.
2025-06-05 01:24:37,379 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:24:37,381 ChatBI->     INFO     查询的类型agent 返回的结果: 目前获取上海养老政策的信息遇到了一些技术问题，建议您直接访问上海市人民政府官方网站或联系当地社区服务中心获取最准确的信息。 耗时：2.58秒
2025-06-05 01:24:37,381 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 目前获取上海养老政策的信息遇到了一些技术问题，建议您直接访问上海市人民政府官方网站或联系当地社区服务中心获取最准确的信息。 耗时：2.58秒
进入政策查询节点 ...
INFO:     172.31.31.74:34486 - "POST /ai_assistant?query=%E4%B8%8A%E6%B5%B7%E7%9A%84%E5%85%BB%E8%80%81%E6%94%BF%E7%AD%96%E6%9C%89%E5%93%AA%E4%BA%9B HTTP/1.1" 200 OK
2025-06-05 01:32:34,222 ChatBI->     INFO     收到的查询问题： 
2025-06-05 01:32:34,222 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-05 01:32:35,012 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:32:35,015 ChatBI->     INFO     路由的输出: grade=False
2025-06-05 01:32:35,015 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-05 01:32:35,694 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 01:32:35,696 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.47秒
2025-06-05 01:32:35,696 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.47秒
INFO:     172.31.31.74:34618 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-05 06:49:46,577 ChatBI->     INFO     收到的查询问题： 
2025-06-05 06:49:46,577 - ChatBI->  - INFO - 收到的查询问题： 
2025-06-05 06:49:47,402 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 06:49:47,404 ChatBI->     INFO     路由的输出: grade=False
2025-06-05 06:49:47,404 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-05 06:49:48,082 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-05 06:49:48,084 ChatBI->     INFO     查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.51秒
2025-06-05 06:49:48,084 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请告诉我你想要了解什么信息，或者提出一个问题，我会尽力帮助你。 耗时：1.51秒
INFO:     172.31.31.74:45720 - "POST /ai_assistant?query= HTTP/1.1" 200 OK
2025-06-06 01:40:01,736 ChatBI->     INFO     收到的查询问题： 养老政策有哪些
2025-06-06 01:40:01,736 - ChatBI->  - INFO - 收到的查询问题： 养老政策有哪些
2025-06-06 01:40:02,497 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 01:40:02,503 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 01:40:02,503 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 01:40:03,287 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 01:40:03,297 - langchain_community.vectorstores.faiss - WARNING - `embedding_function` is expected to be an Embeddings object, support for passing in a function will soon be removed.
2025-06-06 01:40:04,698 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 01:40:04,700 ChatBI->     INFO     查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以提供更具体的问题或地区，我可以帮助您查找相关信息。如果您需要了解一般性的养老政策，我可以为您搜索网络上的信息。您希望采取哪种方式？ 耗时：2.96秒
2025-06-06 01:40:04,700 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以提供更具体的问题或地区，我可以帮助您查找相关信息。如果您需要了解一般性的养老政策，我可以为您搜索网络上的信息。您希望采取哪种方式？ 耗时：2.96秒
进入政策查询节点 ...
INFO:     172.31.31.74:35868 - "POST /ai_assistant?query=%E5%85%BB%E8%80%81%E6%94%BF%E7%AD%96%E6%9C%89%E5%93%AA%E4%BA%9B HTTP/1.1" 200 OK
2025-06-06 01:41:25,894 ChatBI->     INFO     收到的查询问题： 123
2025-06-06 01:41:25,894 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-06 01:41:26,660 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 01:41:26,663 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 01:41:26,663 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 01:41:27,655 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 01:41:27,657 ChatBI->     INFO     查询的类型agent 返回的结果: 您好，请问有什么可以帮助您的吗？您输入的"123"似乎不是一个具体的问题或指令。能否请您提供更多的信息呢？ 耗时：1.76秒
2025-06-06 01:41:27,657 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您好，请问有什么可以帮助您的吗？您输入的"123"似乎不是一个具体的问题或指令。能否请您提供更多的信息呢？ 耗时：1.76秒
INFO:     172.31.31.74:35898 - "POST /ai_assistant?query=123 HTTP/1.1" 200 OK
2025-06-06 01:44:20,492 ChatBI->     INFO     收到的查询问题： 123
2025-06-06 01:44:20,492 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-06 01:44:21,263 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 01:44:21,265 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 01:44:21,265 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 01:44:22,276 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 01:44:22,278 ChatBI->     INFO     查询的类型agent 返回的结果: 您好，请问有什么可以帮助您的吗？您输入的"123"似乎不是一个具体的问题或指令。能否请您提供更多的信息呢？ 耗时：1.79秒
2025-06-06 01:44:22,278 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您好，请问有什么可以帮助您的吗？您输入的"123"似乎不是一个具体的问题或指令。能否请您提供更多的信息呢？ 耗时：1.79秒
INFO:     172.31.31.74:35942 - "POST /ai_assistant?query=123 HTTP/1.1" 200 OK
2025-06-06 01:49:55,169 ChatBI->     INFO     收到的查询问题： 讲个笑话
2025-06-06 01:49:55,169 - ChatBI->  - INFO - 收到的查询问题： 讲个笑话
2025-06-06 01:49:55,891 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 01:49:55,894 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 01:49:55,894 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 01:49:58,562 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 01:49:58,564 ChatBI->     INFO     查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.39秒
2025-06-06 01:49:58,564 - ChatBI->  - INFO - 查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.39秒
INFO:     172.31.31.74:36068 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E7%AC%91%E8%AF%9D HTTP/1.1" 200 OK
INFO:     172.33.12.23:54121 - "GET /docs HTTP/1.1" 200 OK
INFO:     172.33.12.23:54121 - "GET /openapi.json HTTP/1.1" 200 OK
2025-06-06 05:07:37,354 ChatBI->     INFO     收到的查询问题： 讲个笑话
2025-06-06 05:07:37,354 - ChatBI->  - INFO - 收到的查询问题： 讲个笑话
2025-06-06 05:07:38,104 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 05:07:38,107 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 05:07:38,107 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 05:07:40,777 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 05:07:40,779 ChatBI->     INFO     查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.42秒
2025-06-06 05:07:40,779 - ChatBI->  - INFO - 查询的类型agent 返回的结果: โรงพยาบาลดึงเข็มออกจากมดลูกของแม่หนึ่งคน แล้วพยาบาลถามว่า "คุณต้องการให้เราช่วยอะไรเพิ่มเติมไหม?" แม่ตอบกลับมาว่า "เอาเข็มมาคืนให้ฉันหน่อยได้มั้ย?"
注意：这个笑话可能不适合所有人，它涉及医疗情境，带有一些讽刺意味。 耗时：3.42秒
INFO:     172.33.12.23:54122 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E7%AC%91%E8%AF%9D HTTP/1.1" 200 OK
2025-06-06 05:58:37,668 ChatBI->     INFO     收到的查询问题： 养老政策有哪些
2025-06-06 05:58:37,668 - ChatBI->  - INFO - 收到的查询问题： 养老政策有哪些
2025-06-06 05:58:38,415 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 05:58:38,417 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 05:58:38,417 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 05:58:40,374 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 05:58:40,387 - langchain_community.vectorstores.faiss - WARNING - `embedding_function` is expected to be an Embeddings object, support for passing in a function will soon be removed.
2025-06-06 05:58:41,812 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 05:58:41,814 ChatBI->     INFO     查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以提供更具体的问题或地区，我可以帮助您查找相关信息。如果您需要了解一般性的养老政策，我可以为您搜索网络上的信息。您希望采取哪种方式？ 耗时：4.15秒
2025-06-06 05:58:41,814 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 看来获取养老政策的信息时出现了一些技术问题。您可以提供更具体的问题或地区，我可以帮助您查找相关信息。如果您需要了解一般性的养老政策，我可以为您搜索网络上的信息。您希望采取哪种方式？ 耗时：4.15秒
进入政策查询节点 ...
INFO:     172.31.31.74:41208 - "POST /ai_assistant?query=%E5%85%BB%E8%80%81%E6%94%BF%E7%AD%96%E6%9C%89%E5%93%AA%E4%BA%9B HTTP/1.1" 200 OK
2025-06-06 06:00:29,039 ChatBI->     INFO     收到的查询问题： 23
2025-06-06 06:00:29,039 - ChatBI->  - INFO - 收到的查询问题： 23
2025-06-06 06:00:29,751 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:00:29,760 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 06:00:29,760 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 06:00:30,651 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:00:30,653 ChatBI->     INFO     查询的类型agent 返回的结果: 您的输入为"23"，但没有明确您需要进行什么操作或查询什么信息。请提供更多详细信息。 耗时：1.61秒
2025-06-06 06:00:30,653 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您的输入为"23"，但没有明确您需要进行什么操作或查询什么信息。请提供更多详细信息。 耗时：1.61秒
INFO:     172.31.31.74:41282 - "POST /ai_assistant?query=23 HTTP/1.1" 200 OK
2025-06-06 06:00:43,890 ChatBI->     INFO     收到的查询问题： 3123123
2025-06-06 06:00:43,890 - ChatBI->  - INFO - 收到的查询问题： 3123123
2025-06-06 06:00:44,653 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:00:44,656 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 06:00:44,656 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 06:00:46,071 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:00:46,073 ChatBI->     INFO     查询的类型agent 返回的结果: 您输入的"3123123"似乎没有明确的查询意图或问题。能否请您提供更多的信息或具体化您的请求？例如，您是想查询天气、导航，还是搜索某些信息？ 耗时：2.18秒
2025-06-06 06:00:46,073 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 您输入的"3123123"似乎没有明确的查询意图或问题。能否请您提供更多的信息或具体化您的请求？例如，您是想查询天气、导航，还是搜索某些信息？ 耗时：2.18秒
INFO:     172.31.31.74:41300 - "POST /ai_assistant?query=3123123 HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1460224]
2025-06-06 06:02:34,251 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-06-06 06:02:34,268 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-06-06 06:02:34,271 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
INFO:     Started server process [1522983]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:9020 (Press CTRL+C to quit)
2025-06-06 06:02:43,743 ChatBI->     INFO     收到的查询问题： 讲个笑话
2025-06-06 06:02:43,743 - ChatBI->  - INFO - 收到的查询问题： 讲个笑话
2025-06-06 06:02:44,471 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:02:44,485 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 06:02:44,485 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 06:02:46,142 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:02:46,146 ChatBI->     INFO     查询的类型agent 返回的结果: 为什么26个字母只剩下25个了？因为Q被拴住了。注意，这是一个比较冷的笑话，可能需要一些字母Q被拴住的具体背景知识才能理解其中的幽默。如果你想要一个更通俗的笑话，或者有其他要求，请告诉我。 耗时：2.40秒
2025-06-06 06:02:46,146 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 为什么26个字母只剩下25个了？因为Q被拴住了。注意，这是一个比较冷的笑话，可能需要一些字母Q被拴住的具体背景知识才能理解其中的幽默。如果你想要一个更通俗的笑话，或者有其他要求，请告诉我。 耗时：2.40秒
content='当然可以，接下来是一个轻松的笑话：\n\n为什么电脑经常生病？\n\n因为它的窗户（Windows）总是开着。' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 24, 'prompt_tokens': 32, 'total_tokens': 56, 'completion_tokens_details': None, 'prompt_tokens_details': None}, 'model_name': 'Qwen2.5-14B', 'system_fingerprint': None, 'id': 'chatcmpl-7bc57f032e4c45418a73d55d8c68a2d5', 'service_tier': None, 'finish_reason': 'stop', 'logprobs': None} id='run--ad130d6b-0527-4bac-93de-a7c3a218e4ac-0' usage_metadata={'input_tokens': 32, 'output_tokens': 24, 'total_tokens': 56, 'input_token_details': {}, 'output_token_details': {}}
log_2025-06-06-06-02-33.log
Node properties:
- **Disease**
  - `easy_get`: STRING Example: ""
  - `cure_lasttime`: STRING Example: "约3个月"
  - `cured_prob`: STRING Example: "约40%"
  - `name`: STRING Example: "肺泡蛋白质沉积症"
  - `desc`: STRING Example: "肺泡蛋白质沉积症(简称PAP)，又称Rosen-Castle-man-Liebow综合征，是一种罕见"
  - `prevent`: STRING Example: "1、避免感染分支杆菌病，卡氏肺囊肿肺炎，巨细胞病毒等。 2、注意锻炼身体，提高免疫力。"
  - `cause`: STRING Example: "病因未明，推测与几方面因素有关：如大量粉尘吸入（铝，二氧化硅等），机体免疫功能下降（尤其婴幼儿），遗"
- **Drug**
  - `name`: STRING Example: "橡皮生肌膏"
- **Food**
  - `name`: STRING Example: "绿豆荷叶粥"
- **Check**
  - `name`: STRING Example: "精液检查"
- **Department**
  - `name`: STRING Example: "骨外科"
- **Producer**
  - `name`: STRING Example: "英联生物消癌平片"
- **Symptom**
  - `name`: STRING Example: "日常生活能力减..."
Relationship properties:
- **recommand_eat**
  - `name`: STRING Example: "推荐食谱"
- **no_eat**
  - `name`: STRING Example: "忌吃"
- **do_eat**
  - `name`: STRING Example: "宜吃"
- **belongs_to**
  - `name`: STRING Available options: ['属于', '所属科室']
- **common_drug**
  - `name`: STRING Example: "常用药品"
- **drugs_of**
  - `name`: STRING Example: "生产药品"
- **recommand_drug**
  - `name`: STRING Example: "好评药品"
- **need_check**
  - `name`: STRING Example: "诊断检查"
- **has_symptom**
  - `name`: STRING Example: "症状"
- **acompany_with**
  - `name`: STRING Example: "并发症"
The relationships:
(:Disease)-[:belongs_to]->(:Department)
(:Disease)-[:recommand_eat]->(:Food)
(:Disease)-[:no_eat]->(:Food)
(:Disease)-[:do_eat]->(:Food)
(:Disease)-[:common_drug]->(:Drug)
(:Disease)-[:recommand_drug]->(:Drug)
(:Disease)-[:need_check]->(:Check)
(:Disease)-[:has_symptom]->(:Symptom)
(:Disease)-[:acompany_with]->(:Disease)
(:Department)-[:belongs_to]->(:Department)
(:Producer)-[:drugs_of]->(:Drug)
INFO:     172.33.12.23:57107 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E7%AC%91%E8%AF%9D HTTP/1.1" 200 OK
2025-06-06 06:05:31,812 ChatBI->     INFO     收到的查询问题： 我最近感冒了，应该挂什么科
2025-06-06 06:05:31,812 - ChatBI->  - INFO - 收到的查询问题： 我最近感冒了，应该挂什么科
2025-06-06 06:05:32,534 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:05:32,536 ChatBI->     INFO     路由的输出: grade=True
2025-06-06 06:05:32,536 - ChatBI->  - INFO - 路由的输出: grade=True
2025-06-06 06:05:32,940 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:05:32,942 ChatBI->     INFO     查询的类型function 返回的结果: ['健康医疗'] 耗时：1.13秒
2025-06-06 06:05:32,942 - ChatBI->  - INFO - 查询的类型function 返回的结果: ['健康医疗'] 耗时：1.13秒
INFO:     172.33.12.23:58042 - "POST /ai_assistant?query=%E6%88%91%E6%9C%80%E8%BF%91%E6%84%9F%E5%86%92%E4%BA%86%EF%BC%8C%E5%BA%94%E8%AF%A5%E6%8C%82%E4%BB%80%E4%B9%88%E7%A7%91 HTTP/1.1" 200 OK
2025-06-06 06:09:09,447 ChatBI->     INFO     收到的查询问题： 今天天气如何
2025-06-06 06:09:09,447 - ChatBI->  - INFO - 收到的查询问题： 今天天气如何
2025-06-06 06:09:10,216 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:09:10,218 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 06:09:10,218 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 06:09:11,346 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:09:11,350 ChatBI->     INFO     进入查询当前所在城市名称节点 ...
2025-06-06 06:09:11,350 - ChatBI->  - INFO - 进入查询当前所在城市名称节点 ...
2025-06-06 06:09:11,430 ChatBI->     INFO     查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-06 06:09:11,430 - ChatBI->  - INFO - 查询当前所在城市名称结果：{'status': '1', 'info': 'OK', 'infocode': '10000', 'province': '上海市', 'city': '上海市', 'adcode': '310000', 'rectangle': '120.8397067,30.77980118;122.1137989,31.66889673'}
2025-06-06 06:09:12,187 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:09:12,190 ChatBI->     INFO     进入天气查询天气节点，城市名称：上海市
2025-06-06 06:09:12,190 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：上海市
2025-06-06 06:09:12,531 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-06 14:01:07', 'casts': [{'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '小雨', 'daytemp': '32', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '23.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '中雨', 'nightweather': '大雨', 'daytemp': '28', 'nighttemp': '22', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-08', 'week': '7', 'dayweather': '大雨', 'nightweather': '小雨', 'daytemp': '25', 'nighttemp': '21', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-09', 'week': '1', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '25', 'nighttemp': '21', 'daywind': '东北', 'nightwind': '东北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '21.0'}]}]}
2025-06-06 06:09:12,531 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '上海市', 'adcode': '310000', 'province': '上海', 'reporttime': '2025-06-06 14:01:07', 'casts': [{'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '小雨', 'daytemp': '32', 'nighttemp': '23', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '32.0', 'nighttemp_float': '23.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '中雨', 'nightweather': '大雨', 'daytemp': '28', 'nighttemp': '22', 'daywind': '东', 'nightwind': '东', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-08', 'week': '7', 'dayweather': '大雨', 'nightweather': '小雨', 'daytemp': '25', 'nighttemp': '21', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '21.0'}, {'date': '2025-06-09', 'week': '1', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '25', 'nighttemp': '21', 'daywind': '东北', 'nightwind': '东北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '25.0', 'nighttemp_float': '21.0'}]}]}
2025-06-06 06:09:14,711 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:09:14,713 ChatBI->     INFO     查询的类型agent 返回的结果: 今天是2025年6月6日，上海市的天气情况如下：白天多云，晚上会转为小雨。白天的最高气温为32℃，晚上的最低气温为23℃。白天和晚上的风向都是南风，风力等级为1-3级。请注意天气变化，适时增减衣物。 耗时：5.27秒
2025-06-06 06:09:14,713 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 今天是2025年6月6日，上海市的天气情况如下：白天多云，晚上会转为小雨。白天的最高气温为32℃，晚上的最低气温为23℃。白天和晚上的风向都是南风，风力等级为1-3级。请注意天气变化，适时增减衣物。 耗时：5.27秒
INFO:     172.33.12.23:59356 - "POST /ai_assistant?query=%E4%BB%8A%E5%A4%A9%E5%A4%A9%E6%B0%94%E5%A6%82%E4%BD%95 HTTP/1.1" 200 OK
2025-06-06 06:59:30,091 ChatBI->     INFO     收到的查询问题： 明天北京天气怎么样
2025-06-06 06:59:30,091 - ChatBI->  - INFO - 收到的查询问题： 明天北京天气怎么样
2025-06-06 06:59:30,832 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:59:30,841 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 06:59:30,841 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 06:59:31,589 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:59:31,592 ChatBI->     INFO     进入天气查询天气节点，城市名称：北京市
2025-06-06 06:59:31,592 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：北京市
2025-06-06 06:59:31,943 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '北京市', 'adcode': '110000', 'province': '北京', 'reporttime': '2025-06-06 14:39:07', 'casts': [{'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '35', 'nighttemp': '22', 'daywind': '东北', 'nightwind': '东北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '35.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '19', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '19.0'}, {'date': '2025-06-08', 'week': '7', 'dayweather': '晴', 'nightweather': '晴', 'daytemp': '33', 'nighttemp': '22', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-09', 'week': '1', 'dayweather': '雷阵雨', 'nightweather': '晴', 'daytemp': '33', 'nighttemp': '22', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '22.0'}]}]}
2025-06-06 06:59:31,943 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '北京市', 'adcode': '110000', 'province': '北京', 'reporttime': '2025-06-06 14:39:07', 'casts': [{'date': '2025-06-06', 'week': '5', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '35', 'nighttemp': '22', 'daywind': '东北', 'nightwind': '东北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '35.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '多云', 'nightweather': '多云', 'daytemp': '33', 'nighttemp': '19', 'daywind': '南', 'nightwind': '南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '19.0'}, {'date': '2025-06-08', 'week': '7', 'dayweather': '晴', 'nightweather': '晴', 'daytemp': '33', 'nighttemp': '22', 'daywind': '西南', 'nightwind': '西南', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '22.0'}, {'date': '2025-06-09', 'week': '1', 'dayweather': '雷阵雨', 'nightweather': '晴', 'daytemp': '33', 'nighttemp': '22', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '33.0', 'nighttemp_float': '22.0'}]}]}
2025-06-06 06:59:32,842 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:59:32,844 ChatBI->     INFO     查询的类型agent 返回的结果: 明天北京的天气预报是多云，白天最高温度33℃，晚上最低温度19℃。 耗时：2.75秒
2025-06-06 06:59:32,844 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 明天北京的天气预报是多云，白天最高温度33℃，晚上最低温度19℃。 耗时：2.75秒
INFO:     172.31.31.74:42872 - "POST /ai_assistant?query=%E6%98%8E%E5%A4%A9%E5%8C%97%E4%BA%AC%E5%A4%A9%E6%B0%94%E6%80%8E%E4%B9%88%E6%A0%B7 HTTP/1.1" 200 OK
2025-06-06 06:59:41,826 ChatBI->     INFO     收到的查询问题： 明天武汉天气怎么样
2025-06-06 06:59:41,826 - ChatBI->  - INFO - 收到的查询问题： 明天武汉天气怎么样
2025-06-06 06:59:42,567 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:59:42,569 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 06:59:42,569 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 06:59:43,316 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:59:43,319 ChatBI->     INFO     进入天气查询天气节点，城市名称：武汉市
2025-06-06 06:59:43,319 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：武汉市
2025-06-06 06:59:43,568 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '武汉市', 'adcode': '420100', 'province': '湖北', 'reporttime': '2025-06-06 14:32:18', 'casts': [{'date': '2025-06-06', 'week': '5', 'dayweather': '阴', 'nightweather': '暴雨', 'daytemp': '34', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '34.0', 'nighttemp_float': '24.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '大雨', 'nightweather': '中雨', 'daytemp': '28', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '24.0'}, {'date': '2025-06-08', 'week': '7', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '25', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '25.0'}, {'date': '2025-06-09', 'week': '1', 'dayweather': '中雨', 'nightweather': '小雨', 'daytemp': '28', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '24.0'}]}]}
2025-06-06 06:59:43,568 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '武汉市', 'adcode': '420100', 'province': '湖北', 'reporttime': '2025-06-06 14:32:18', 'casts': [{'date': '2025-06-06', 'week': '5', 'dayweather': '阴', 'nightweather': '暴雨', 'daytemp': '34', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '34.0', 'nighttemp_float': '24.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '大雨', 'nightweather': '中雨', 'daytemp': '28', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '24.0'}, {'date': '2025-06-08', 'week': '7', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '25', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '25.0'}, {'date': '2025-06-09', 'week': '1', 'dayweather': '中雨', 'nightweather': '小雨', 'daytemp': '28', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '24.0'}]}]}
2025-06-06 06:59:44,923 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 06:59:44,925 ChatBI->     INFO     查询的类型agent 返回的结果: 明天武汉市的天气预报为大雨，白天最高温度28℃，夜间最低温度24℃，风向均为北风，风力等级为1-3级。请注意带伞出行。 耗时：3.10秒
2025-06-06 06:59:44,925 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 明天武汉市的天气预报为大雨，白天最高温度28℃，夜间最低温度24℃，风向均为北风，风力等级为1-3级。请注意带伞出行。 耗时：3.10秒
INFO:     172.31.31.74:42886 - "POST /ai_assistant?query=%E6%98%8E%E5%A4%A9%E6%AD%A6%E6%B1%89%E5%A4%A9%E6%B0%94%E6%80%8E%E4%B9%88%E6%A0%B7 HTTP/1.1" 200 OK
2025-06-06 07:01:56,607 ChatBI->     INFO     收到的查询问题： 明天武汉天气怎么样
2025-06-06 07:01:56,607 - ChatBI->  - INFO - 收到的查询问题： 明天武汉天气怎么样
2025-06-06 07:01:57,358 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:01:57,361 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 07:01:57,361 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 07:01:58,108 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:01:58,111 ChatBI->     INFO     进入天气查询天气节点，城市名称：武汉市
2025-06-06 07:01:58,111 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：武汉市
2025-06-06 07:01:58,322 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '武汉市', 'adcode': '420100', 'province': '湖北', 'reporttime': '2025-06-06 14:32:18', 'casts': [{'date': '2025-06-06', 'week': '5', 'dayweather': '阴', 'nightweather': '暴雨', 'daytemp': '34', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '34.0', 'nighttemp_float': '24.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '大雨', 'nightweather': '中雨', 'daytemp': '28', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '24.0'}, {'date': '2025-06-08', 'week': '7', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '25', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '25.0'}, {'date': '2025-06-09', 'week': '1', 'dayweather': '中雨', 'nightweather': '小雨', 'daytemp': '28', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '24.0'}]}]}
2025-06-06 07:01:58,322 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '武汉市', 'adcode': '420100', 'province': '湖北', 'reporttime': '2025-06-06 14:32:18', 'casts': [{'date': '2025-06-06', 'week': '5', 'dayweather': '阴', 'nightweather': '暴雨', 'daytemp': '34', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '34.0', 'nighttemp_float': '24.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '大雨', 'nightweather': '中雨', 'daytemp': '28', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '24.0'}, {'date': '2025-06-08', 'week': '7', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '25', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '25.0'}, {'date': '2025-06-09', 'week': '1', 'dayweather': '中雨', 'nightweather': '小雨', 'daytemp': '28', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '24.0'}]}]}
2025-06-06 07:01:59,679 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:01:59,681 ChatBI->     INFO     查询的类型agent 返回的结果: 明天武汉市的天气预报为大雨，白天最高温度28℃，夜间最低温度24℃，风向均为北风，风力等级为1-3级。请注意带伞出行。 耗时：3.07秒
2025-06-06 07:01:59,681 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 明天武汉市的天气预报为大雨，白天最高温度28℃，夜间最低温度24℃，风向均为北风，风力等级为1-3级。请注意带伞出行。 耗时：3.07秒
INFO:     172.31.31.74:42978 - "POST /ai_assistant?query=%E6%98%8E%E5%A4%A9%E6%AD%A6%E6%B1%89%E5%A4%A9%E6%B0%94%E6%80%8E%E4%B9%88%E6%A0%B7 HTTP/1.1" 200 OK
2025-06-06 07:02:06,495 ChatBI->     INFO     收到的查询问题： 明天天津天气怎么样
2025-06-06 07:02:06,495 - ChatBI->  - INFO - 收到的查询问题： 明天天津天气怎么样
2025-06-06 07:02:07,241 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:02:07,244 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 07:02:07,244 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 07:02:07,996 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:02:07,999 ChatBI->     INFO     进入天气查询天气节点，城市名称：天津
2025-06-06 07:02:07,999 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：天津
2025-06-06 07:02:09,070 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:02:09,072 ChatBI->     INFO     查询的类型agent 返回的结果: 似乎获取天津天气信息时出现了一些错误。请稍后再试或尝试其他查询。如果问题持续，请告知我更多细节。 耗时：2.58秒
2025-06-06 07:02:09,072 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 似乎获取天津天气信息时出现了一些错误。请稍后再试或尝试其他查询。如果问题持续，请告知我更多细节。 耗时：2.58秒
INFO:     172.31.31.74:42992 - "POST /ai_assistant?query=%E6%98%8E%E5%A4%A9%E5%A4%A9%E6%B4%A5%E5%A4%A9%E6%B0%94%E6%80%8E%E4%B9%88%E6%A0%B7 HTTP/1.1" 200 OK
2025-06-06 07:04:30,052 ChatBI->     INFO     收到的查询问题： 明天天津天气怎么样
2025-06-06 07:04:30,052 - ChatBI->  - INFO - 收到的查询问题： 明天天津天气怎么样
2025-06-06 07:04:30,780 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:04:30,783 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 07:04:30,783 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 07:04:31,548 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:04:31,551 ChatBI->     INFO     进入天气查询天气节点，城市名称：天津
2025-06-06 07:04:31,551 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：天津
2025-06-06 07:04:32,626 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:04:32,628 ChatBI->     INFO     查询的类型agent 返回的结果: 似乎获取天津天气信息时出现了一些错误。请稍后再试或尝试其他查询。如果问题持续，请告知我更多细节。 耗时：2.58秒
2025-06-06 07:04:32,628 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 似乎获取天津天气信息时出现了一些错误。请稍后再试或尝试其他查询。如果问题持续，请告知我更多细节。 耗时：2.58秒
INFO:     172.31.31.74:43078 - "POST /ai_assistant?query=%E6%98%8E%E5%A4%A9%E5%A4%A9%E6%B4%A5%E5%A4%A9%E6%B0%94%E6%80%8E%E4%B9%88%E6%A0%B7 HTTP/1.1" 200 OK
2025-06-06 07:31:25,699 ChatBI->     INFO     收到的查询问题： how to use taobao
2025-06-06 07:31:25,699 - ChatBI->  - INFO - 收到的查询问题： how to use taobao
2025-06-06 07:31:26,459 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:31:26,462 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 07:31:26,462 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 07:31:32,508 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:31:32,510 ChatBI->     INFO     查询的类型agent 返回的结果: To use Taobao, you need to follow these steps:
1. Go to the Taobao website (https://www.taobao.com/) or download the Taobao app.
2. Create an account if you don't have one already. You will need to provide some personal information and verify your phone number.
3. Once logged in, you can browse products by using the search bar at the top of the page or by clicking on different categories.
4. When you find something you like, click on the product to view more details.
5. If you decide to buy the product, click on the "Add to Cart" button. You can also choose the quantity and size if available.
6. After selecting your items, go to your shopping cart and click on "Go to Checkout".
7. Fill in your shipping address and choose a payment method.
8. Confirm your order and wait for the seller to ship your items.
9. Track your order through the Taobao website or app.
If you need more detailed guidance, feel free to ask!

Since this is a general guide and not a specific query that requires a tool, no tool function is called here. 耗时：6.81秒
2025-06-06 07:31:32,510 - ChatBI->  - INFO - 查询的类型agent 返回的结果: To use Taobao, you need to follow these steps:
1. Go to the Taobao website (https://www.taobao.com/) or download the Taobao app.
2. Create an account if you don't have one already. You will need to provide some personal information and verify your phone number.
3. Once logged in, you can browse products by using the search bar at the top of the page or by clicking on different categories.
4. When you find something you like, click on the product to view more details.
5. If you decide to buy the product, click on the "Add to Cart" button. You can also choose the quantity and size if available.
6. After selecting your items, go to your shopping cart and click on "Go to Checkout".
7. Fill in your shipping address and choose a payment method.
8. Confirm your order and wait for the seller to ship your items.
9. Track your order through the Taobao website or app.
If you need more detailed guidance, feel free to ask!

Since this is a general guide and not a specific query that requires a tool, no tool function is called here. 耗时：6.81秒
INFO:     172.31.31.74:43912 - "POST /ai_assistant?query=how%20to%20use%20taobao HTTP/1.1" 200 OK
2025-06-06 07:43:00,388 ChatBI->     INFO     收到的查询问题： 123
2025-06-06 07:43:00,388 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-06 07:43:01,166 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:43:01,168 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 07:43:01,168 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 07:43:01,837 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:43:01,840 ChatBI->     INFO     查询的类型agent 返回的结果: 抱歉，我不太明白你的意思。你可以提供更多的信息或者具体的问题吗？ 耗时：1.45秒
2025-06-06 07:43:01,840 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 抱歉，我不太明白你的意思。你可以提供更多的信息或者具体的问题吗？ 耗时：1.45秒
INFO:     172.31.31.74:44132 - "POST /ai_assistant?query=123 HTTP/1.1" 200 OK
2025-06-06 07:43:07,490 ChatBI->     INFO     收到的查询问题： 讲个笑话
2025-06-06 07:43:07,490 - ChatBI->  - INFO - 收到的查询问题： 讲个笑话
2025-06-06 07:43:08,217 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:43:08,219 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 07:43:08,219 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 07:43:09,879 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 07:43:09,882 ChatBI->     INFO     查询的类型agent 返回的结果: 为什么26个字母只剩下25个了？因为Q被拴住了。注意，这是一个比较冷的笑话，可能需要一些字母Q被拴住的具体背景知识才能理解其中的幽默。如果你想要一个更通俗的笑话，或者有其他要求，请告诉我。 耗时：2.39秒
2025-06-06 07:43:09,882 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 为什么26个字母只剩下25个了？因为Q被拴住了。注意，这是一个比较冷的笑话，可能需要一些字母Q被拴住的具体背景知识才能理解其中的幽默。如果你想要一个更通俗的笑话，或者有其他要求，请告诉我。 耗时：2.39秒
INFO:     172.31.31.74:44142 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E7%AC%91%E8%AF%9D HTTP/1.1" 200 OK
2025-06-06 08:22:17,873 ChatBI->     INFO     收到的查询问题： 吃蛋黄真的会升高胆固醇吗？
2025-06-06 08:22:17,873 - ChatBI->  - INFO - 收到的查询问题： 吃蛋黄真的会升高胆固醇吗？
2025-06-06 08:22:18,726 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:22:18,729 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:22:18,729 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:22:19,601 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:22:20,034 ChatBI->     INFO     收到的查询问题： 吃蛋黄真的会升高胆固醇吗？
2025-06-06 08:22:20,034 - ChatBI->  - INFO - 收到的查询问题： 吃蛋黄真的会升高胆固醇吗？
2025-06-06 08:22:20,831 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:22:20,834 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:22:20,834 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:22:21,918 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:22:24,051 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:22:24,053 ChatBI->     INFO     查询的类型agent 返回的结果: 根据网络上的信息，对于健康的人来说，吃蛋黄并不会直接导致血胆固醇升高。膳食摄入不是影响胆固醇含量的主要因素，而是自身的脂肪代谢能力。但是，如果蛋黄食用较多，可能会导致总胆固醇升高；如果少量食用，一般不会。对于胆固醇已经偏高的人来说，长时间食用蛋黄可能会使血液中的总胆固醇更高。因此，适量食用蛋黄是安全的，但过量食用可能对胆固醇偏高的人不利。 耗时：6.18秒
2025-06-06 08:22:24,053 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据网络上的信息，对于健康的人来说，吃蛋黄并不会直接导致血胆固醇升高。膳食摄入不是影响胆固醇含量的主要因素，而是自身的脂肪代谢能力。但是，如果蛋黄食用较多，可能会导致总胆固醇升高；如果少量食用，一般不会。对于胆固醇已经偏高的人来说，长时间食用蛋黄可能会使血液中的总胆固醇更高。因此，适量食用蛋黄是安全的，但过量食用可能对胆固醇偏高的人不利。 耗时：6.18秒
INFO:     172.31.31.74:44890 - "POST /ai_assistant?query=%E5%90%83%E8%9B%8B%E9%BB%84%E7%9C%9F%E7%9A%84%E4%BC%9A%E5%8D%87%E9%AB%98%E8%83%86%E5%9B%BA%E9%86%87%E5%90%97%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:22:25,756 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:22:25,758 ChatBI->     INFO     查询的类型agent 返回的结果: 对于健康的人来说，吃蛋黄不会直接导致血胆固醇升高。膳食摄入不是影响胆固醇含量的主要因素，而是自身的脂肪代谢能力。但是，对于已经有胆固醇偏高的患者，如果蛋黄吃多了，如每天吃两个鸡蛋，吃的时间长了，血里面的胆固醇可能会更高。总的来说，适量食用蛋黄对大多数人来说是安全的，但如果有高胆固醇的问题，最好咨询医生的建议。 耗时：5.72秒
2025-06-06 08:22:25,758 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 对于健康的人来说，吃蛋黄不会直接导致血胆固醇升高。膳食摄入不是影响胆固醇含量的主要因素，而是自身的脂肪代谢能力。但是，对于已经有胆固醇偏高的患者，如果蛋黄吃多了，如每天吃两个鸡蛋，吃的时间长了，血里面的胆固醇可能会更高。总的来说，适量食用蛋黄对大多数人来说是安全的，但如果有高胆固醇的问题，最好咨询医生的建议。 耗时：5.72秒
INFO:     172.31.31.74:44898 - "POST /ai_assistant?query=%E5%90%83%E8%9B%8B%E9%BB%84%E7%9C%9F%E7%9A%84%E4%BC%9A%E5%8D%87%E9%AB%98%E8%83%86%E5%9B%BA%E9%86%87%E5%90%97%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:22:28,099 ChatBI->     INFO     收到的查询问题： 老年人每天需要摄入多少蛋白质？
2025-06-06 08:22:28,099 - ChatBI->  - INFO - 收到的查询问题： 老年人每天需要摄入多少蛋白质？
2025-06-06 08:22:28,846 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:22:28,848 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:22:28,848 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:22:29,695 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:22:29,697 ChatBI->     INFO     查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.60秒
2025-06-06 08:22:29,697 - ChatBI->  - INFO - 查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.60秒
INFO:     172.31.31.74:44912 - "POST /ai_assistant?query=%E8%80%81%E5%B9%B4%E4%BA%BA%E6%AF%8F%E5%A4%A9%E9%9C%80%E8%A6%81%E6%91%84%E5%85%A5%E5%A4%9A%E5%B0%91%E8%9B%8B%E7%99%BD%E8%B4%A8%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:23:50,816 ChatBI->     INFO     收到的查询问题： 骨头汤补钙效果好吗？
2025-06-06 08:23:50,816 - ChatBI->  - INFO - 收到的查询问题： 骨头汤补钙效果好吗？
2025-06-06 08:23:51,555 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:23:51,558 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:23:51,558 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:23:52,377 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:23:52,379 ChatBI->     INFO     查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "骨头汤补钙效果"}}
</tool_call> 耗时：1.56秒
2025-06-06 08:23:52,379 - ChatBI->  - INFO - 查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "骨头汤补钙效果"}}
</tool_call> 耗时：1.56秒
INFO:     172.31.31.74:44936 - "POST /ai_assistant?query=%E9%AA%A8%E5%A4%B4%E6%B1%A4%E8%A1%A5%E9%92%99%E6%95%88%E6%9E%9C%E5%A5%BD%E5%90%97%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:23:58,785 ChatBI->     INFO     收到的查询问题： 骨头汤补钙效果好吗？
2025-06-06 08:23:58,785 - ChatBI->  - INFO - 收到的查询问题： 骨头汤补钙效果好吗？
2025-06-06 08:23:59,525 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:23:59,527 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:23:59,527 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:24:00,345 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:24:00,347 ChatBI->     INFO     查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "骨头汤补钙效果"}}
</tool_call> 耗时：1.56秒
2025-06-06 08:24:00,347 - ChatBI->  - INFO - 查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "骨头汤补钙效果"}}
</tool_call> 耗时：1.56秒
INFO:     172.31.31.74:44942 - "POST /ai_assistant?query=%E9%AA%A8%E5%A4%B4%E6%B1%A4%E8%A1%A5%E9%92%99%E6%95%88%E6%9E%9C%E5%A5%BD%E5%90%97%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:24:02,472 ChatBI->     INFO     收到的查询问题： 吃蛋黄真的会升高胆固醇吗？
2025-06-06 08:24:02,472 - ChatBI->  - INFO - 收到的查询问题： 吃蛋黄真的会升高胆固醇吗？
2025-06-06 08:24:03,303 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:24:03,305 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:24:03,305 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:24:04,205 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:24:08,050 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:24:08,052 ChatBI->     INFO     查询的类型agent 返回的结果: 根据网络上的信息，对于健康的人来说，吃蛋黄并不会直接导致血胆固醇升高。因为膳食摄入并不是影响胆固醇含量的主要因素，而是自身的脂肪代谢能力。但是，对于已经有胆固醇偏高的患者，如果蛋黄吃多了，如每天吃两个鸡蛋，时间长了血里面的胆固醇会更高。所以，适量食用蛋黄对大多数人来说是安全的，但如果有高胆固醇的问题，建议减少蛋黄的摄入量。 耗时：5.58秒
2025-06-06 08:24:08,052 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据网络上的信息，对于健康的人来说，吃蛋黄并不会直接导致血胆固醇升高。因为膳食摄入并不是影响胆固醇含量的主要因素，而是自身的脂肪代谢能力。但是，对于已经有胆固醇偏高的患者，如果蛋黄吃多了，如每天吃两个鸡蛋，时间长了血里面的胆固醇会更高。所以，适量食用蛋黄对大多数人来说是安全的，但如果有高胆固醇的问题，建议减少蛋黄的摄入量。 耗时：5.58秒
INFO:     172.31.31.74:44950 - "POST /ai_assistant?query=%E5%90%83%E8%9B%8B%E9%BB%84%E7%9C%9F%E7%9A%84%E4%BC%9A%E5%8D%87%E9%AB%98%E8%83%86%E5%9B%BA%E9%86%87%E5%90%97%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:25:48,188 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:25:48,188 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:25:48,912 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:25:48,915 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:25:48,915 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:25:53,182 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:25:59,438 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:25:59,440 ChatBI->     INFO     查询的类型agent 返回的结果: 根据我找到的信息，高血压老人在饮食上需要注意以下几点：

1. 控制盐的摄入量：高血压老人应该减少盐的摄入量，每天不超过6克。避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：高血压老人应该控制脂肪的摄入，少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 控制饮酒量：尽量避免饮酒或少量饮用。
5. 注意饮食多样性，保证营养均衡。
6. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：11.25秒
2025-06-06 08:25:59,440 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据我找到的信息，高血压老人在饮食上需要注意以下几点：

1. 控制盐的摄入量：高血压老人应该减少盐的摄入量，每天不超过6克。避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：高血压老人应该控制脂肪的摄入，少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 控制饮酒量：尽量避免饮酒或少量饮用。
5. 注意饮食多样性，保证营养均衡。
6. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：11.25秒
2025-06-06 08:26:35,901 ChatBI->     INFO     收到的查询问题： 骨头汤补钙效果好吗？
2025-06-06 08:26:35,901 - ChatBI->  - INFO - 收到的查询问题： 骨头汤补钙效果好吗？
2025-06-06 08:26:36,633 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:26:36,636 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:26:36,636 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:26:37,471 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:26:37,474 ChatBI->     INFO     查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "骨头汤补钙效果"}}
</tool_call> 耗时：1.57秒
2025-06-06 08:26:37,474 - ChatBI->  - INFO - 查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "骨头汤补钙效果"}}
</tool_call> 耗时：1.57秒
INFO:     172.31.31.74:45006 - "POST /ai_assistant?query=%E9%AA%A8%E5%A4%B4%E6%B1%A4%E8%A1%A5%E9%92%99%E6%95%88%E6%9E%9C%E5%A5%BD%E5%90%97%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:26:40,342 ChatBI->     INFO     收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:26:40,342 - ChatBI->  - INFO - 收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:26:41,095 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:26:41,098 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:26:41,098 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:26:44,212 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:26:44,214 ChatBI->     INFO     查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.87秒
2025-06-06 08:26:44,214 - ChatBI->  - INFO - 查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.87秒
INFO:     172.31.31.74:45012 - "POST /ai_assistant?query=%E8%80%81%E4%BA%BA%E4%BE%BF%E7%A7%98%E5%90%83%E4%BB%80%E4%B9%88%E6%9C%89%E7%94%A8%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:30:02,404 ChatBI->     INFO     收到的查询问题： 老年人每天需要摄入多少蛋白质？
2025-06-06 08:30:02,404 - ChatBI->  - INFO - 收到的查询问题： 老年人每天需要摄入多少蛋白质？
2025-06-06 08:30:03,126 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:30:03,129 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:30:03,129 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:30:03,982 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:30:03,984 ChatBI->     INFO     查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.58秒
2025-06-06 08:30:03,984 - ChatBI->  - INFO - 查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.58秒
INFO:     172.31.31.74:45066 - "POST /ai_assistant?query=%E8%80%81%E5%B9%B4%E4%BA%BA%E6%AF%8F%E5%A4%A9%E9%9C%80%E8%A6%81%E6%91%84%E5%85%A5%E5%A4%9A%E5%B0%91%E8%9B%8B%E7%99%BD%E8%B4%A8%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:30:34,613 ChatBI->     INFO     收到的查询问题： 23
2025-06-06 08:30:34,613 - ChatBI->  - INFO - 收到的查询问题： 23
2025-06-06 08:30:35,335 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:30:35,338 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:30:35,338 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:30:36,206 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:30:36,208 ChatBI->     INFO     查询的类型agent 返回的结果: 你的输入是23，但是没有足够的信息来确定你需要什么样的帮助或执行什么操作。请提供更多的细节。 耗时：1.60秒
2025-06-06 08:30:36,208 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 你的输入是23，但是没有足够的信息来确定你需要什么样的帮助或执行什么操作。请提供更多的细节。 耗时：1.60秒
INFO:     172.31.31.74:45078 - "POST /ai_assistant?query=23 HTTP/1.1" 200 OK
2025-06-06 08:31:47,216 ChatBI->     INFO     收到的查询问题： 如何通过饮食改善睡眠质量？
2025-06-06 08:31:47,216 - ChatBI->  - INFO - 收到的查询问题： 如何通过饮食改善睡眠质量？
2025-06-06 08:31:47,988 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:31:47,991 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:31:47,991 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:31:53,365 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:31:56,113 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:31:56,113 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:31:56,762 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:31:56,764 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:31:56,764 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:31:59,492 ChatBI->     INFO     收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:31:59,492 - ChatBI->  - INFO - 收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:32:00,214 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:32:00,217 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:32:00,217 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:32:01,474 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:32:01,475 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:32:01,478 ChatBI->     INFO     查询的类型agent 返回的结果: 根据网络搜索结果，以下是一些有助于改善睡眠的食物：

1. 核桃：核桃可以提高大脑细胞活性，有助于改善失眠。
2. 蔓越莓：蔓越莓含有褪黑素，有助于调节睡眠。
3. 杏仁：杏仁含有镁，睡前两小时作为零食，有助于安神。

除了这些食物，还可以参考以下建议：
- 热牛奶：牛奶中含有色氨酸，可以帮助身体产生血清素，进而转化为褪黑素，有助于睡眠。
- 香蕉：香蕉富含钾和镁，这两种矿物质有助于放松肌肉，促进睡眠。
- 全麦面包：全麦面包等富含碳水化合物的食物可以帮助色氨酸进入大脑，从而促进睡眠。
- 蜂蜜：一小勺蜂蜜可以刺激大脑释放血清素，有助于改善睡眠。

避免在睡前摄入咖啡因和大量油腻食物，因为它们可能会影响睡眠。同时，保持规律的饮食和作息时间，有助于提高睡眠质量。如果睡眠问题持续存在，建议咨询医生。 耗时：14.26秒
2025-06-06 08:32:01,478 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据网络搜索结果，以下是一些有助于改善睡眠的食物：

1. 核桃：核桃可以提高大脑细胞活性，有助于改善失眠。
2. 蔓越莓：蔓越莓含有褪黑素，有助于调节睡眠。
3. 杏仁：杏仁含有镁，睡前两小时作为零食，有助于安神。

除了这些食物，还可以参考以下建议：
- 热牛奶：牛奶中含有色氨酸，可以帮助身体产生血清素，进而转化为褪黑素，有助于睡眠。
- 香蕉：香蕉富含钾和镁，这两种矿物质有助于放松肌肉，促进睡眠。
- 全麦面包：全麦面包等富含碳水化合物的食物可以帮助色氨酸进入大脑，从而促进睡眠。
- 蜂蜜：一小勺蜂蜜可以刺激大脑释放血清素，有助于改善睡眠。

避免在睡前摄入咖啡因和大量油腻食物，因为它们可能会影响睡眠。同时，保持规律的饮食和作息时间，有助于提高睡眠质量。如果睡眠问题持续存在，建议咨询医生。 耗时：14.26秒
2025-06-06 08:32:03,624 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:32:03,626 ChatBI->     INFO     查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 足够的水分：每天至少喝8杯水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：4.13秒
2025-06-06 08:32:03,626 - ChatBI->  - INFO - 查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 足够的水分：每天至少喝8杯水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：4.13秒
INFO:     172.31.31.74:45190 - "POST /ai_assistant?query=%E8%80%81%E4%BA%BA%E4%BE%BF%E7%A7%98%E5%90%83%E4%BB%80%E4%B9%88%E6%9C%89%E7%94%A8%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:32:07,120 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:32:07,122 ChatBI->     INFO     查询的类型agent 返回的结果: 根据搜索结果，高血压老人在饮食上应注意以下几点：

1. 控制盐的摄入量：每日食盐摄入量不宜超过5克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少动物内脏、肥肉等高脂肪食物的摄入，多吃富含不饱和脂肪酸的食物，如深海鱼、植物油等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 适量补充钾和镁：有助于降低血压。
5. 控制糖的摄入量：避免过多摄入糖分。
6. 饮食多样化，保证营养均衡。
7. 保持饮食规律。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：11.01秒
2025-06-06 08:32:07,122 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据搜索结果，高血压老人在饮食上应注意以下几点：

1. 控制盐的摄入量：每日食盐摄入量不宜超过5克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少动物内脏、肥肉等高脂肪食物的摄入，多吃富含不饱和脂肪酸的食物，如深海鱼、植物油等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 适量补充钾和镁：有助于降低血压。
5. 控制糖的摄入量：避免过多摄入糖分。
6. 饮食多样化，保证营养均衡。
7. 保持饮食规律。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：11.01秒
2025-06-06 08:32:37,963 ChatBI->     INFO     收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:32:37,963 - ChatBI->  - INFO - 收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:32:38,739 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:32:38,742 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:32:38,742 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:32:41,878 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:32:41,880 ChatBI->     INFO     查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.92秒
2025-06-06 08:32:41,880 - ChatBI->  - INFO - 查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.92秒
INFO:     172.31.31.74:45208 - "POST /ai_assistant?query=%E8%80%81%E4%BA%BA%E4%BE%BF%E7%A7%98%E5%90%83%E4%BB%80%E4%B9%88%E6%9C%89%E7%94%A8%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:32:46,515 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:32:46,515 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:32:47,210 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:32:47,213 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:32:47,213 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:32:51,480 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:32:57,846 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:32:57,848 ChatBI->     INFO     查询的类型agent 返回的结果: 根据网络搜索结果，高血压老人的饮食需要注意以下几点：

1. 限制钠盐摄入：每天钠盐摄入量应小于6克，避免食用含钠盐较高的食物，如咸菜、腌制品、咸鱼、咸鸭蛋等。
2. 补充钾盐：多吃含钾丰富的食物，如新鲜的蔬菜和水果、豆类、瘦肉等。
3. 减少脂肪摄入：减少食用油的摄入，避免食用高脂肪食物，如动物内脏、肥肉等。
4. 控制总热量：避免过量摄入热量，保持适当体重。
5. 增加膳食纤维摄入：多吃富含膳食纤维的食物，如蔬菜、水果和粗粮。
6. 控制饮酒量：避免过量饮酒。
7. 注意饮食多样性：保证营养均衡。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：11.33秒
2025-06-06 08:32:57,848 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据网络搜索结果，高血压老人的饮食需要注意以下几点：

1. 限制钠盐摄入：每天钠盐摄入量应小于6克，避免食用含钠盐较高的食物，如咸菜、腌制品、咸鱼、咸鸭蛋等。
2. 补充钾盐：多吃含钾丰富的食物，如新鲜的蔬菜和水果、豆类、瘦肉等。
3. 减少脂肪摄入：减少食用油的摄入，避免食用高脂肪食物，如动物内脏、肥肉等。
4. 控制总热量：避免过量摄入热量，保持适当体重。
5. 增加膳食纤维摄入：多吃富含膳食纤维的食物，如蔬菜、水果和粗粮。
6. 控制饮酒量：避免过量饮酒。
7. 注意饮食多样性：保证营养均衡。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：11.33秒
2025-06-06 08:33:58,470 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:33:58,470 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:33:59,179 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:33:59,181 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:33:59,181 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:34:03,453 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:34:09,029 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:34:09,031 ChatBI->     INFO     查询的类型agent 返回的结果: 根据网络搜索结果，高血压老人在饮食上应注意以下几点：

1. 控制盐的摄入量：每日食盐摄入量不超过5克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少动物内脏、肥肉等高脂肪食物的摄入，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 适量补充钾和镁：有助于降低血压。
5. 保持饮食规律：定时定量，避免暴饮暴食。
6. 控制饮酒量：尽量避免饮酒或少量饮用。
7. 注意饮食多样性：保证营养均衡。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.56秒
2025-06-06 08:34:09,031 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据网络搜索结果，高血压老人在饮食上应注意以下几点：

1. 控制盐的摄入量：每日食盐摄入量不超过5克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少动物内脏、肥肉等高脂肪食物的摄入，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 适量补充钾和镁：有助于降低血压。
5. 保持饮食规律：定时定量，避免暴饮暴食。
6. 控制饮酒量：尽量避免饮酒或少量饮用。
7. 注意饮食多样性：保证营养均衡。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.56秒
2025-06-06 08:34:13,440 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么
2025-06-06 08:34:13,440 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么
2025-06-06 08:34:14,221 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:34:14,224 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:34:14,224 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:34:18,095 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:34:18,097 ChatBI->     INFO     查询的类型agent 返回的结果: 高血压老人在饮食上应注意以下几点：
1. 低盐饮食：减少食盐摄入，每日食盐量不超过5克。
2. 控制脂肪摄入：少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 限制饮酒：尽量避免饮酒或少量饮用。
5. 保持适当体重：控制体重在正常范围内，避免肥胖。
6. 多喝水：保持充足的水分摄入，有助于稀释血液，降低血压。

建议您根据老人的具体情况调整饮食，并在医生指导下进行。 耗时：4.66秒
2025-06-06 08:34:18,097 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 高血压老人在饮食上应注意以下几点：
1. 低盐饮食：减少食盐摄入，每日食盐量不超过5克。
2. 控制脂肪摄入：少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 限制饮酒：尽量避免饮酒或少量饮用。
5. 保持适当体重：控制体重在正常范围内，避免肥胖。
6. 多喝水：保持充足的水分摄入，有助于稀释血液，降低血压。

建议您根据老人的具体情况调整饮食，并在医生指导下进行。 耗时：4.66秒
INFO:     172.31.31.74:45256 - "POST /ai_assistant?query=%E9%AB%98%E8%A1%80%E5%8E%8B%E8%80%81%E4%BA%BA%E9%A5%AE%E9%A3%9F%E8%A6%81%E6%B3%A8%E6%84%8F%E4%BB%80%E4%B9%88 HTTP/1.1" 200 OK
2025-06-06 08:35:25,413 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么?
2025-06-06 08:35:25,413 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么?
2025-06-06 08:35:26,146 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:35:26,149 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:35:26,149 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:35:30,700 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:35:35,990 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:35:35,993 ChatBI->     INFO     查询的类型agent 返回的结果: 根据搜索结果，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：每天不超过6克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少动物内脏、肥肉等高脂肪食物的摄入，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 控制饮酒量：尽量避免饮酒，如果要喝，也要控制在适量范围内。
5. 注意饮食多样性，保证营养均衡。
6. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.58秒
2025-06-06 08:35:35,993 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据搜索结果，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：每天不超过6克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少动物内脏、肥肉等高脂肪食物的摄入，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 控制饮酒量：尽量避免饮酒，如果要喝，也要控制在适量范围内。
5. 注意饮食多样性，保证营养均衡。
6. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.58秒
2025-06-06 08:37:25,740 ChatBI->     INFO     收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:37:25,740 - ChatBI->  - INFO - 收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:37:26,495 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:37:26,498 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:37:26,498 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:37:29,611 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:37:29,613 ChatBI->     INFO     查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.87秒
2025-06-06 08:37:29,613 - ChatBI->  - INFO - 查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.87秒
INFO:     172.31.31.74:45328 - "POST /ai_assistant?query=%E8%80%81%E4%BA%BA%E4%BE%BF%E7%A7%98%E5%90%83%E4%BB%80%E4%B9%88%E6%9C%89%E7%94%A8%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:37:40,612 ChatBI->     INFO     收到的查询问题： {
2025-06-06 08:37:40,612 - ChatBI->  - INFO - 收到的查询问题： {
2025-06-06 08:37:41,390 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:37:41,393 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:37:41,393 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:37:41,989 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:37:41,992 ChatBI->     INFO     查询的类型agent 返回的结果: 请提供您想要执行的操作或查询的问题，我会帮助您。 耗时：1.38秒
2025-06-06 08:37:41,992 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请提供您想要执行的操作或查询的问题，我会帮助您。 耗时：1.38秒
INFO:     172.31.31.74:45338 - "POST /ai_assistant?query={ HTTP/1.1" 200 OK
2025-06-06 08:38:01,802 ChatBI->     INFO     收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:38:01,802 - ChatBI->  - INFO - 收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:38:02,564 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:38:02,567 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:38:02,567 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:38:05,697 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:38:05,699 ChatBI->     INFO     查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.90秒
2025-06-06 08:38:05,699 - ChatBI->  - INFO - 查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.90秒
INFO:     172.31.31.74:45348 - "POST /ai_assistant?query=%E8%80%81%E4%BA%BA%E4%BE%BF%E7%A7%98%E5%90%83%E4%BB%80%E4%B9%88%E6%9C%89%E7%94%A8%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:38:29,845 ChatBI->     INFO     收到的查询问题： 老人牙口不好，有哪些软烂但营养不流失的烹饪方法？
2025-06-06 08:38:29,845 - ChatBI->  - INFO - 收到的查询问题： 老人牙口不好，有哪些软烂但营养不流失的烹饪方法？
2025-06-06 08:38:30,587 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:38:30,590 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:38:30,590 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:38:34,441 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:38:41,795 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:38:41,798 ChatBI->     INFO     查询的类型agent 返回的结果: 根据网络搜索结果，这里有一些适合牙口不好的老人的软烂且营养的烹饪方法：

1. 清蒸黄鱼：将鱼肉剔除骨头，清蒸后食用，确保没有鱼刺，这样既保证了营养又避免了老人因牙口不好而难以咀嚼的问题。

2. 豆腐羹：豆腐富含植物蛋白，质地柔软，易于消化，可以做成豆腐羹，既美味又营养。

3. 蒸蛋：蒸蛋是一道简单且营养丰富的家常菜，蛋白质含量高，质地柔软，适合牙口不好的老人。制作时可以将鸡蛋打散，加入适量温水，搅拌均匀后蒸熟，口感滑嫩，易于消化。

4. 鸡蛋包豆腐：将豆腐和鸡蛋混合，蒸熟后食用，既营养又美味。

5. 蟹黄豆腐羹：嫩豆腐和咸蛋黄的组合，质地柔软，易于消化，适合牙口不好的老人。

以上这些烹饪方法都可以帮助老人在保持营养的同时，享受美味的食物。 耗时：11.95秒
2025-06-06 08:38:41,798 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据网络搜索结果，这里有一些适合牙口不好的老人的软烂且营养的烹饪方法：

1. 清蒸黄鱼：将鱼肉剔除骨头，清蒸后食用，确保没有鱼刺，这样既保证了营养又避免了老人因牙口不好而难以咀嚼的问题。

2. 豆腐羹：豆腐富含植物蛋白，质地柔软，易于消化，可以做成豆腐羹，既美味又营养。

3. 蒸蛋：蒸蛋是一道简单且营养丰富的家常菜，蛋白质含量高，质地柔软，适合牙口不好的老人。制作时可以将鸡蛋打散，加入适量温水，搅拌均匀后蒸熟，口感滑嫩，易于消化。

4. 鸡蛋包豆腐：将豆腐和鸡蛋混合，蒸熟后食用，既营养又美味。

5. 蟹黄豆腐羹：嫩豆腐和咸蛋黄的组合，质地柔软，易于消化，适合牙口不好的老人。

以上这些烹饪方法都可以帮助老人在保持营养的同时，享受美味的食物。 耗时：11.95秒
2025-06-06 08:47:26,977 ChatBI->     INFO     收到的查询问题： 明天武汉天气怎么样?
2025-06-06 08:47:26,977 - ChatBI->  - INFO - 收到的查询问题： 明天武汉天气怎么样?
2025-06-06 08:47:27,720 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:47:27,722 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:47:27,722 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:47:28,485 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:47:28,488 ChatBI->     INFO     进入天气查询天气节点，城市名称：武汉市
2025-06-06 08:47:28,488 - ChatBI->  - INFO - 进入天气查询天气节点，城市名称：武汉市
2025-06-06 08:47:28,919 ChatBI->     INFO     查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '武汉市', 'adcode': '420100', 'province': '湖北', 'reporttime': '2025-06-06 16:32:19', 'casts': [{'date': '2025-06-06', 'week': '5', 'dayweather': '阴', 'nightweather': '暴雨', 'daytemp': '34', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '34.0', 'nighttemp_float': '24.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '大雨', 'nightweather': '中雨', 'daytemp': '28', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '24.0'}, {'date': '2025-06-08', 'week': '7', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '25', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '25.0'}, {'date': '2025-06-09', 'week': '1', 'dayweather': '中雨', 'nightweather': '小雨', 'daytemp': '28', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '24.0'}]}]}
2025-06-06 08:47:28,919 - ChatBI->  - INFO - 查询天气结果：{'status': '1', 'count': '1', 'info': 'OK', 'infocode': '10000', 'forecasts': [{'city': '武汉市', 'adcode': '420100', 'province': '湖北', 'reporttime': '2025-06-06 16:32:19', 'casts': [{'date': '2025-06-06', 'week': '5', 'dayweather': '阴', 'nightweather': '暴雨', 'daytemp': '34', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '34.0', 'nighttemp_float': '24.0'}, {'date': '2025-06-07', 'week': '6', 'dayweather': '大雨', 'nightweather': '中雨', 'daytemp': '28', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '24.0'}, {'date': '2025-06-08', 'week': '7', 'dayweather': '小雨', 'nightweather': '小雨', 'daytemp': '27', 'nighttemp': '25', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '27.0', 'nighttemp_float': '25.0'}, {'date': '2025-06-09', 'week': '1', 'dayweather': '中雨', 'nightweather': '小雨', 'daytemp': '28', 'nighttemp': '24', 'daywind': '北', 'nightwind': '北', 'daypower': '1-3', 'nightpower': '1-3', 'daytemp_float': '28.0', 'nighttemp_float': '24.0'}]}]}
2025-06-06 08:47:29,979 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:47:29,981 ChatBI->     INFO     查询的类型agent 返回的结果: 明天武汉市的天气预报为大雨，白天的最高温度为28℃，晚上的最低温度为24℃。请注意带伞。 耗时：3.00秒
2025-06-06 08:47:29,981 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 明天武汉市的天气预报为大雨，白天的最高温度为28℃，晚上的最低温度为24℃。请注意带伞。 耗时：3.00秒
INFO:     172.31.31.74:45704 - "POST /ai_assistant?query=%E6%98%8E%E5%A4%A9%E6%AD%A6%E6%B1%89%E5%A4%A9%E6%B0%94%E6%80%8E%E4%B9%88%E6%A0%B7? HTTP/1.1" 200 OK
2025-06-06 08:47:53,776 ChatBI->     INFO     收到的查询问题： 明天天气怎么样?
2025-06-06 08:47:53,776 - ChatBI->  - INFO - 收到的查询问题： 明天天气怎么样?
2025-06-06 08:47:54,491 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:47:54,501 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:47:54,501 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:47:54,976 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:47:54,978 ChatBI->     INFO     查询的类型agent 返回的结果: 请问您想查询哪个城市的天气呢？ 耗时：1.20秒
2025-06-06 08:47:54,978 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 请问您想查询哪个城市的天气呢？ 耗时：1.20秒
INFO:     172.31.31.74:45722 - "POST /ai_assistant?query=%E6%98%8E%E5%A4%A9%E5%A4%A9%E6%B0%94%E6%80%8E%E4%B9%88%E6%A0%B7? HTTP/1.1" 200 OK
2025-06-06 08:49:01,784 ChatBI->     INFO     收到的查询问题： 吃蛋黄真的会升高胆固醇吗？
2025-06-06 08:49:01,784 - ChatBI->  - INFO - 收到的查询问题： 吃蛋黄真的会升高胆固醇吗？
2025-06-06 08:49:02,624 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:49:02,626 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:49:02,626 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:49:03,497 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:49:07,439 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:49:07,441 ChatBI->     INFO     查询的类型agent 返回的结果: 对于健康的人来说，吃蛋黄不会直接导致血胆固醇升高。膳食摄入不是影响胆固醇含量的主要因素，而是自身的脂肪代谢能力。但是，对于已经有胆固醇偏高的患者，如果蛋黄吃多了，如每天吃两个鸡蛋，吃时间长了血里面胆固醇会更高。总的来说，适量食用蛋黄对大多数人来说是安全的，但如果有高胆固醇的问题，建议减少蛋黄的摄入量。 耗时：5.66秒
2025-06-06 08:49:07,441 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 对于健康的人来说，吃蛋黄不会直接导致血胆固醇升高。膳食摄入不是影响胆固醇含量的主要因素，而是自身的脂肪代谢能力。但是，对于已经有胆固醇偏高的患者，如果蛋黄吃多了，如每天吃两个鸡蛋，吃时间长了血里面胆固醇会更高。总的来说，适量食用蛋黄对大多数人来说是安全的，但如果有高胆固醇的问题，建议减少蛋黄的摄入量。 耗时：5.66秒
INFO:     172.31.31.74:45748 - "POST /ai_assistant?query=%E5%90%83%E8%9B%8B%E9%BB%84%E7%9C%9F%E7%9A%84%E4%BC%9A%E5%8D%87%E9%AB%98%E8%83%86%E5%9B%BA%E9%86%87%E5%90%97%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:50:25,429 ChatBI->     INFO     收到的查询问题： 吃蛋黄真的会升高胆固醇吗？
2025-06-06 08:50:25,429 - ChatBI->  - INFO - 收到的查询问题： 吃蛋黄真的会升高胆固醇吗？
2025-06-06 08:50:26,280 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:50:26,283 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:50:26,283 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:50:27,153 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:50:30,900 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:50:30,902 ChatBI->     INFO     查询的类型agent 返回的结果: 吃蛋黄是否会导致胆固醇升高，这主要取决于个人的胆固醇代谢情况。对于胆固醇代谢正常的人来说，适量食用蛋黄（如每天一个鸡蛋）通常不会导致胆固醇升高。然而，对于胆固醇代谢存在问题的人来说，如果大量食用蛋黄，可能会导致血液中的总胆固醇浓度上升，从而增加心血管疾病的风险。因此，建议根据个人健康状况和医生建议来决定蛋黄的摄入量。 耗时：5.47秒
2025-06-06 08:50:30,902 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 吃蛋黄是否会导致胆固醇升高，这主要取决于个人的胆固醇代谢情况。对于胆固醇代谢正常的人来说，适量食用蛋黄（如每天一个鸡蛋）通常不会导致胆固醇升高。然而，对于胆固醇代谢存在问题的人来说，如果大量食用蛋黄，可能会导致血液中的总胆固醇浓度上升，从而增加心血管疾病的风险。因此，建议根据个人健康状况和医生建议来决定蛋黄的摄入量。 耗时：5.47秒
INFO:     172.31.31.74:45778 - "POST /ai_assistant?query=%E5%90%83%E8%9B%8B%E9%BB%84%E7%9C%9F%E7%9A%84%E4%BC%9A%E5%8D%87%E9%AB%98%E8%83%86%E5%9B%BA%E9%86%87%E5%90%97%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:50:52,933 ChatBI->     INFO     收到的查询问题： 老年人每天需要摄入多少蛋白质？
2025-06-06 08:50:52,933 - ChatBI->  - INFO - 收到的查询问题： 老年人每天需要摄入多少蛋白质？
2025-06-06 08:50:53,698 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:50:53,701 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:50:53,701 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:50:54,547 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:50:54,549 ChatBI->     INFO     查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.62秒
2025-06-06 08:50:54,549 - ChatBI->  - INFO - 查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.62秒
INFO:     172.31.31.74:45798 - "POST /ai_assistant?query=%E8%80%81%E5%B9%B4%E4%BA%BA%E6%AF%8F%E5%A4%A9%E9%9C%80%E8%A6%81%E6%91%84%E5%85%A5%E5%A4%9A%E5%B0%91%E8%9B%8B%E7%99%BD%E8%B4%A8%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:51:20,454 ChatBI->     INFO     收到的查询问题： 老年人每天需要摄入多少蛋白质？
2025-06-06 08:51:20,454 - ChatBI->  - INFO - 收到的查询问题： 老年人每天需要摄入多少蛋白质？
2025-06-06 08:51:21,168 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:51:21,171 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:51:21,171 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:51:22,029 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:51:22,031 ChatBI->     INFO     查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.58秒
2025-06-06 08:51:22,031 - ChatBI->  - INFO - 查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.58秒
INFO:     172.31.31.74:45814 - "POST /ai_assistant?query=%E8%80%81%E5%B9%B4%E4%BA%BA%E6%AF%8F%E5%A4%A9%E9%9C%80%E8%A6%81%E6%91%84%E5%85%A5%E5%A4%9A%E5%B0%91%E8%9B%8B%E7%99%BD%E8%B4%A8%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:51:37,514 ChatBI->     INFO     收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:51:37,514 - ChatBI->  - INFO - 收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:51:38,258 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:51:38,260 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:51:38,260 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:51:41,368 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:51:41,370 ChatBI->     INFO     查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.86秒
2025-06-06 08:51:41,370 - ChatBI->  - INFO - 查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.86秒
INFO:     172.31.31.74:45826 - "POST /ai_assistant?query=%E8%80%81%E4%BA%BA%E4%BE%BF%E7%A7%98%E5%90%83%E4%BB%80%E4%B9%88%E6%9C%89%E7%94%A8%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:52:03,904 ChatBI->     INFO     收到的查询问题： 老年人每天需要摄入多少蛋白质
2025-06-06 08:52:03,904 - ChatBI->  - INFO - 收到的查询问题： 老年人每天需要摄入多少蛋白质
2025-06-06 08:52:04,668 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:52:04,671 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:52:04,671 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:52:05,518 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:52:05,520 ChatBI->     INFO     查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.62秒
2025-06-06 08:52:05,520 - ChatBI->  - INFO - 查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.62秒
INFO:     172.31.31.74:45838 - "POST /ai_assistant?query=%E8%80%81%E5%B9%B4%E4%BA%BA%E6%AF%8F%E5%A4%A9%E9%9C%80%E8%A6%81%E6%91%84%E5%85%A5%E5%A4%9A%E5%B0%91%E8%9B%8B%E7%99%BD%E8%B4%A8 HTTP/1.1" 200 OK
2025-06-06 08:52:35,570 ChatBI->     INFO     收到的查询问题： 老年人每天需要摄入多少蛋白质
2025-06-06 08:52:35,570 - ChatBI->  - INFO - 收到的查询问题： 老年人每天需要摄入多少蛋白质
2025-06-06 08:52:36,296 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:52:36,298 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:52:36,298 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:52:37,144 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:52:37,146 ChatBI->     INFO     查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.58秒
2025-06-06 08:52:37,146 - ChatBI->  - INFO - 查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.58秒
INFO:     172.31.31.74:45854 - "POST /ai_assistant?query=%E8%80%81%E5%B9%B4%E4%BA%BA%E6%AF%8F%E5%A4%A9%E9%9C%80%E8%A6%81%E6%91%84%E5%85%A5%E5%A4%9A%E5%B0%91%E8%9B%8B%E7%99%BD%E8%B4%A8 HTTP/1.1" 200 OK
2025-06-06 08:52:51,971 ChatBI->     INFO     收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:52:51,971 - ChatBI->  - INFO - 收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:52:52,735 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:52:52,738 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:52:52,738 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:52:55,849 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:52:55,851 ChatBI->     INFO     查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.88秒
2025-06-06 08:52:55,851 - ChatBI->  - INFO - 查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.88秒
INFO:     172.31.31.74:45862 - "POST /ai_assistant?query=%E8%80%81%E4%BA%BA%E4%BE%BF%E7%A7%98%E5%90%83%E4%BB%80%E4%B9%88%E6%9C%89%E7%94%A8%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:53:04,462 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:53:04,462 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:53:05,194 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:53:05,197 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:53:05,197 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:53:09,470 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:53:11,663 ChatBI->     INFO     收到的查询问题： 老年人每天需要摄入多少蛋白质？
2025-06-06 08:53:11,663 - ChatBI->  - INFO - 收到的查询问题： 老年人每天需要摄入多少蛋白质？
2025-06-06 08:53:12,356 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:53:12,359 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:53:12,359 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:53:13,200 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:53:13,202 ChatBI->     INFO     查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.54秒
2025-06-06 08:53:13,202 - ChatBI->  - INFO - 查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.54秒
INFO:     172.31.31.74:45886 - "POST /ai_assistant?query=%E8%80%81%E5%B9%B4%E4%BA%BA%E6%AF%8F%E5%A4%A9%E9%9C%80%E8%A6%81%E6%91%84%E5%85%A5%E5%A4%9A%E5%B0%91%E8%9B%8B%E7%99%BD%E8%B4%A8%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:53:15,381 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:53:15,384 ChatBI->     INFO     查询的类型agent 返回的结果: 根据我找到的信息，高血压老人在饮食上需要注意以下几点：

1. 控制盐的摄入量：高血压老人应该减少盐的摄入量，每天不超过6克。避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：高血压老人应该控制脂肪的摄入，少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 控制饮酒量：尽量避免饮酒或少量饮用。
5. 注意饮食多样性，保证营养均衡。
6. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.92秒
2025-06-06 08:53:15,384 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据我找到的信息，高血压老人在饮食上需要注意以下几点：

1. 控制盐的摄入量：高血压老人应该减少盐的摄入量，每天不超过6克。避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：高血压老人应该控制脂肪的摄入，少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 控制饮酒量：尽量避免饮酒或少量饮用。
5. 注意饮食多样性，保证营养均衡。
6. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.92秒
2025-06-06 08:53:25,598 ChatBI->     INFO     收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:53:25,598 - ChatBI->  - INFO - 收到的查询问题： 老人便秘吃什么有用？
2025-06-06 08:53:26,375 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:53:26,382 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:53:26,382 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:53:29,494 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:53:29,496 ChatBI->     INFO     查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.90秒
2025-06-06 08:53:29,496 - ChatBI->  - INFO - 查询的类型agent 返回的结果: คณะกรรมการทำงานนี้ไม่ได้รับการระบุในรายการเครื่องมือที่ให้มา แต่ฉันสามารถแนะนำอาหารที่อาจช่วยบรรเทา便秘的建议是：

1. 高纤维食物：如全谷类、水果和蔬菜。
2. 水分：确保每天喝足够的水。
3. 坚果和种子：如亚麻籽和核桃。
4. 豆类：如黑豆和红豆。

请根据实际情况调整饮食，并在必要时咨询医生。 耗时：3.90秒
INFO:     172.31.31.74:45896 - "POST /ai_assistant?query=%E8%80%81%E4%BA%BA%E4%BE%BF%E7%A7%98%E5%90%83%E4%BB%80%E4%B9%88%E6%9C%89%E7%94%A8%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 08:53:35,935 ChatBI->     INFO     收到的查询问题： 老年人每天需要摄入多少蛋白质
2025-06-06 08:53:35,935 - ChatBI->  - INFO - 收到的查询问题： 老年人每天需要摄入多少蛋白质
2025-06-06 08:53:36,658 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:53:36,660 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:53:36,660 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:53:37,521 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:53:37,523 ChatBI->     INFO     查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.59秒
2025-06-06 08:53:37,523 - ChatBI->  - INFO - 查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.59秒
INFO:     172.31.31.74:45908 - "POST /ai_assistant?query=%E8%80%81%E5%B9%B4%E4%BA%BA%E6%AF%8F%E5%A4%A9%E9%9C%80%E8%A6%81%E6%91%84%E5%85%A5%E5%A4%9A%E5%B0%91%E8%9B%8B%E7%99%BD%E8%B4%A8 HTTP/1.1" 200 OK
2025-06-06 08:55:46,290 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:55:46,290 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:55:47,016 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:55:47,018 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:55:47,018 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:55:51,291 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:55:56,592 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:55:56,594 ChatBI->     INFO     查询的类型agent 返回的结果: 根据网络信息，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：每天不超过6克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：每日用油量最好不超过50g，少食油腻食品。
3. 控制糖的摄入量：少食或者不食过甜的食物。
4. 优质蛋白饮食：包括食用瘦肉、鸡蛋、禽类及豆制品，保证每日蛋白质的摄入量在50-100g左右。
5. 增加钾、膳食纤维的摄入量。
6. 控制饮酒量。
7. 注意饮食多样性，保证营养均衡。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.30秒
2025-06-06 08:55:56,594 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据网络信息，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：每天不超过6克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：每日用油量最好不超过50g，少食油腻食品。
3. 控制糖的摄入量：少食或者不食过甜的食物。
4. 优质蛋白饮食：包括食用瘦肉、鸡蛋、禽类及豆制品，保证每日蛋白质的摄入量在50-100g左右。
5. 增加钾、膳食纤维的摄入量。
6. 控制饮酒量。
7. 注意饮食多样性，保证营养均衡。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.30秒
2025-06-06 08:56:25,803 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:56:25,803 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 08:56:26,502 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:56:26,505 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:56:26,505 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:56:30,773 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:56:36,529 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:56:36,531 ChatBI->     INFO     查询的类型agent 返回的结果: 根据网络信息，高血压老人在饮食上应注意以下几点：

1. **低盐饮食**：每日食盐摄入量不宜超过5克，避免食用腌制食品、加工食品等高盐食物。
2. **控制脂肪摄入**：减少动物内脏、肥肉等高脂肪食物的摄入，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. **增加膳食纤维**：多吃蔬菜、水果和粗粮，有助于降低血压。
4. **适量补充钾和镁**：有助于调节血压。
5. **控制饮酒量**：尽量避免饮酒或少量饮用。
6. **饮食多样化**：保证营养均衡，同时要定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.73秒
2025-06-06 08:56:36,531 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据网络信息，高血压老人在饮食上应注意以下几点：

1. **低盐饮食**：每日食盐摄入量不宜超过5克，避免食用腌制食品、加工食品等高盐食物。
2. **控制脂肪摄入**：减少动物内脏、肥肉等高脂肪食物的摄入，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. **增加膳食纤维**：多吃蔬菜、水果和粗粮，有助于降低血压。
4. **适量补充钾和镁**：有助于调节血压。
5. **控制饮酒量**：尽量避免饮酒或少量饮用。
6. **饮食多样化**：保证营养均衡，同时要定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.73秒
2025-06-06 08:56:41,745 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么
2025-06-06 08:56:41,745 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么
2025-06-06 08:56:42,491 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:56:42,493 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:56:42,493 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:56:46,366 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:56:46,368 ChatBI->     INFO     查询的类型agent 返回的结果: 高血压老人在饮食上应注意以下几点：
1. 低盐饮食：减少食盐摄入，每日食盐量不超过5克。
2. 控制脂肪摄入：少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 限制饮酒：尽量避免饮酒或少量饮用。
5. 保持适当体重：控制体重在正常范围内，避免肥胖。
6. 多喝水：保持充足的水分摄入，有助于稀释血液，降低血压。

建议您根据老人的具体情况调整饮食，并在医生指导下进行。 耗时：4.62秒
2025-06-06 08:56:46,368 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 高血压老人在饮食上应注意以下几点：
1. 低盐饮食：减少食盐摄入，每日食盐量不超过5克。
2. 控制脂肪摄入：少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 限制饮酒：尽量避免饮酒或少量饮用。
5. 保持适当体重：控制体重在正常范围内，避免肥胖。
6. 多喝水：保持充足的水分摄入，有助于稀释血液，降低血压。

建议您根据老人的具体情况调整饮食，并在医生指导下进行。 耗时：4.62秒
INFO:     172.31.31.74:45982 - "POST /ai_assistant?query=%E9%AB%98%E8%A1%80%E5%8E%8B%E8%80%81%E4%BA%BA%E9%A5%AE%E9%A3%9F%E8%A6%81%E6%B3%A8%E6%84%8F%E4%BB%80%E4%B9%88 HTTP/1.1" 200 OK
2025-06-06 08:58:36,892 ChatBI->     INFO     收到的查询问题： 老人便秘吃什么有用
2025-06-06 08:58:36,892 - ChatBI->  - INFO - 收到的查询问题： 老人便秘吃什么有用
2025-06-06 08:58:37,642 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:58:37,645 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:58:37,645 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:58:43,499 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:58:50,121 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么?
2025-06-06 08:58:50,121 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么?
2025-06-06 08:58:50,810 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:58:50,812 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:58:50,812 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:58:50,955 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:58:50,957 ChatBI->     INFO     查询的类型agent 返回的结果: 根据我找到的信息，老年人便秘可以尝试以下食物和药物：

食物：
- 蜂蜜：富含维生素和微量元素，有助于促进肠道蠕动。
- 香蕉：含有大量膳食纤维，有助于改善便秘。
- 燕麦：富含膳食纤维，有助于改善便秘。
- 红薯：富含膳食纤维，有助于改善便秘。
- 酸奶：含有益生菌，有助于改善肠道健康。
- 芹菜：富含膳食纤维，有助于改善便秘。
- 火龙果：含有膳食纤维，有助于改善便秘。

药物：
- 乳果糖口服溶液
- 通便灵胶囊
- 开塞露
- 乳酸菌素片
- 麻仁润肠丸
- 双歧杆菌活菌散
- 四磨汤口服液
- 便通胶囊
- 常通舒颗粒

建议在医生的指导下使用这些食物和药物，以确保安全和有效性。同时，保持均衡饮食和适度运动也是改善便秘的重要措施。 耗时：14.07秒
2025-06-06 08:58:50,957 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据我找到的信息，老年人便秘可以尝试以下食物和药物：

食物：
- 蜂蜜：富含维生素和微量元素，有助于促进肠道蠕动。
- 香蕉：含有大量膳食纤维，有助于改善便秘。
- 燕麦：富含膳食纤维，有助于改善便秘。
- 红薯：富含膳食纤维，有助于改善便秘。
- 酸奶：含有益生菌，有助于改善肠道健康。
- 芹菜：富含膳食纤维，有助于改善便秘。
- 火龙果：含有膳食纤维，有助于改善便秘。

药物：
- 乳果糖口服溶液
- 通便灵胶囊
- 开塞露
- 乳酸菌素片
- 麻仁润肠丸
- 双歧杆菌活菌散
- 四磨汤口服液
- 便通胶囊
- 常通舒颗粒

建议在医生的指导下使用这些食物和药物，以确保安全和有效性。同时，保持均衡饮食和适度运动也是改善便秘的重要措施。 耗时：14.07秒
2025-06-06 08:58:55,378 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:59:00,874 ChatBI->     INFO     收到的查询问题： 老年人每天需要摄入多少蛋白质
2025-06-06 08:59:00,874 - ChatBI->  - INFO - 收到的查询问题： 老年人每天需要摄入多少蛋白质
2025-06-06 08:59:01,558 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:59:01,560 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:59:01,560 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:59:01,584 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:59:01,586 ChatBI->     INFO     查询的类型agent 返回的结果: 根据搜索结果，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：高血压老人应该减少盐的摄入量，每天不超过6克。避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：高血压老人应该控制脂肪的摄入，少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 控制饮酒量：尽量避免饮酒，如果要喝，也要控制在适量范围内。
5. 注意饮食多样性，保证营养均衡。
6. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：11.46秒
2025-06-06 08:59:01,586 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据搜索结果，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：高血压老人应该减少盐的摄入量，每天不超过6克。避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：高血压老人应该控制脂肪的摄入，少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 控制饮酒量：尽量避免饮酒，如果要喝，也要控制在适量范围内。
5. 注意饮食多样性，保证营养均衡。
6. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：11.46秒
2025-06-06 08:59:02,406 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:59:02,408 ChatBI->     INFO     查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.53秒
2025-06-06 08:59:02,408 - ChatBI->  - INFO - 查询的类型agent 返回的结果:  iNdEx
{"name": "web_search", "arguments": {"query": "老年人每天需要摄入多少蛋白质"}}
</tool_call> 耗时：1.53秒
INFO:     172.31.31.74:46080 - "POST /ai_assistant?query=%E8%80%81%E5%B9%B4%E4%BA%BA%E6%AF%8F%E5%A4%A9%E9%9C%80%E8%A6%81%E6%91%84%E5%85%A5%E5%A4%9A%E5%B0%91%E8%9B%8B%E7%99%BD%E8%B4%A8 HTTP/1.1" 200 OK
2025-06-06 08:59:04,481 ChatBI->     INFO     收到的查询问题： 高尿酸/痛风老人应该避免哪些食物
2025-06-06 08:59:04,481 - ChatBI->  - INFO - 收到的查询问题： 高尿酸/痛风老人应该避免哪些食物
2025-06-06 08:59:05,203 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:59:05,206 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:59:05,206 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:59:07,654 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:59:13,235 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:59:13,237 ChatBI->     INFO     查询的类型agent 返回的结果: 高尿酸/痛风的老人应该避免以下几类食物：

1. 高嘌呤食物：如动物内脏（肝脏、肾脏）、海鲜类食品、豆制品、菠菜、蘑菇等。这些食物的嘌呤含量较高，进食后会导致血尿酸水平升高，从而增加痛风的风险。

2. 限制豆腐的摄入：虽然豆腐是健康食品，但对于高尿酸血症和痛风患者来说，需要分情况考虑是否食用。

3. 少碰隐形“嘌呤大户”：如某些加工食品，可能含有较高的嘌呤，需要留意食品标签上的成分信息。

建议高尿酸/痛风的老人在饮食上尽量避免上述食物，以减少痛风发作的风险。 耗时：8.76秒
2025-06-06 08:59:13,237 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 高尿酸/痛风的老人应该避免以下几类食物：

1. 高嘌呤食物：如动物内脏（肝脏、肾脏）、海鲜类食品、豆制品、菠菜、蘑菇等。这些食物的嘌呤含量较高，进食后会导致血尿酸水平升高，从而增加痛风的风险。

2. 限制豆腐的摄入：虽然豆腐是健康食品，但对于高尿酸血症和痛风患者来说，需要分情况考虑是否食用。

3. 少碰隐形“嘌呤大户”：如某些加工食品，可能含有较高的嘌呤，需要留意食品标签上的成分信息。

建议高尿酸/痛风的老人在饮食上尽量避免上述食物，以减少痛风发作的风险。 耗时：8.76秒
INFO:     172.31.31.74:46088 - "POST /ai_assistant?query=%E9%AB%98%E5%B0%BF%E9%85%B8/%E7%97%9B%E9%A3%8E%E8%80%81%E4%BA%BA%E5%BA%94%E8%AF%A5%E9%81%BF%E5%85%8D%E5%93%AA%E4%BA%9B%E9%A3%9F%E7%89%A9 HTTP/1.1" 200 OK
2025-06-06 08:59:26,725 ChatBI->     INFO     收到的查询问题： 骨头汤补钙效果好吗
2025-06-06 08:59:26,725 - ChatBI->  - INFO - 收到的查询问题： 骨头汤补钙效果好吗
2025-06-06 08:59:27,453 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:59:27,456 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:59:27,456 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:59:28,772 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:59:31,942 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:59:31,945 ChatBI->     INFO     查询的类型agent 返回的结果: 骨头汤的补钙效果并不显著。骨头中的钙质很难溶解到汤中，因此通过喝骨头汤来补钙的效果有限。如果你需要补钙，可以考虑其他更有效的方法，比如食用牛奶、乳制品、豆制品、鱼类、海带以及坚果等含钙量较高的食物。 耗时：5.22秒
2025-06-06 08:59:31,945 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 骨头汤的补钙效果并不显著。骨头中的钙质很难溶解到汤中，因此通过喝骨头汤来补钙的效果有限。如果你需要补钙，可以考虑其他更有效的方法，比如食用牛奶、乳制品、豆制品、鱼类、海带以及坚果等含钙量较高的食物。 耗时：5.22秒
INFO:     172.31.31.74:46102 - "POST /ai_assistant?query=%E9%AA%A8%E5%A4%B4%E6%B1%A4%E8%A1%A5%E9%92%99%E6%95%88%E6%9E%9C%E5%A5%BD%E5%90%97 HTTP/1.1" 200 OK
2025-06-06 08:59:42,171 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么
2025-06-06 08:59:42,171 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么
2025-06-06 08:59:42,952 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:59:42,954 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 08:59:42,954 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 08:59:46,829 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 08:59:46,831 ChatBI->     INFO     查询的类型agent 返回的结果: 高血压老人在饮食上应注意以下几点：
1. 低盐饮食：减少食盐摄入，每日食盐量不超过5克。
2. 控制脂肪摄入：少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 限制饮酒：尽量避免饮酒或少量饮用。
5. 保持适当体重：控制体重在正常范围内，避免肥胖。
6. 多喝水：保持充足的水分摄入，有助于稀释血液，降低血压。

建议您根据老人的具体情况调整饮食，并在医生指导下进行。 耗时：4.66秒
2025-06-06 08:59:46,831 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 高血压老人在饮食上应注意以下几点：
1. 低盐饮食：减少食盐摄入，每日食盐量不超过5克。
2. 控制脂肪摄入：少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 限制饮酒：尽量避免饮酒或少量饮用。
5. 保持适当体重：控制体重在正常范围内，避免肥胖。
6. 多喝水：保持充足的水分摄入，有助于稀释血液，降低血压。

建议您根据老人的具体情况调整饮食，并在医生指导下进行。 耗时：4.66秒
INFO:     172.31.31.74:46114 - "POST /ai_assistant?query=%E9%AB%98%E8%A1%80%E5%8E%8B%E8%80%81%E4%BA%BA%E9%A5%AE%E9%A3%9F%E8%A6%81%E6%B3%A8%E6%84%8F%E4%BB%80%E4%B9%88 HTTP/1.1" 200 OK
2025-06-06 09:00:03,601 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么
2025-06-06 09:00:03,601 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么
2025-06-06 09:00:04,359 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:00:04,362 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 09:00:04,362 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 09:00:08,236 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:00:08,238 ChatBI->     INFO     查询的类型agent 返回的结果: 高血压老人在饮食上应注意以下几点：
1. 低盐饮食：减少食盐摄入，每日食盐量不超过5克。
2. 控制脂肪摄入：少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 限制饮酒：尽量避免饮酒或少量饮用。
5. 保持适当体重：控制体重在正常范围内，避免肥胖。
6. 多喝水：保持充足的水分摄入，有助于稀释血液，降低血压。

建议您根据老人的具体情况调整饮食，并在医生指导下进行。 耗时：4.64秒
2025-06-06 09:00:08,238 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 高血压老人在饮食上应注意以下几点：
1. 低盐饮食：减少食盐摄入，每日食盐量不超过5克。
2. 控制脂肪摄入：少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 限制饮酒：尽量避免饮酒或少量饮用。
5. 保持适当体重：控制体重在正常范围内，避免肥胖。
6. 多喝水：保持充足的水分摄入，有助于稀释血液，降低血压。

建议您根据老人的具体情况调整饮食，并在医生指导下进行。 耗时：4.64秒
INFO:     172.31.31.74:46146 - "POST /ai_assistant?query=%E9%AB%98%E8%A1%80%E5%8E%8B%E8%80%81%E4%BA%BA%E9%A5%AE%E9%A3%9F%E8%A6%81%E6%B3%A8%E6%84%8F%E4%BB%80%E4%B9%88 HTTP/1.1" 200 OK
2025-06-06 09:00:10,634 ChatBI->     INFO     收到的查询问题： 天热吃什么？
2025-06-06 09:00:10,634 - ChatBI->  - INFO - 收到的查询问题： 天热吃什么？
2025-06-06 09:00:11,385 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:00:11,388 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 09:00:11,388 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 09:00:13,068 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:00:13,070 ChatBI->     INFO     查询的类型agent 返回的结果: 天热时可以吃一些清爽的食物，比如水果（西瓜、草莓、樱桃、梨等）、凉拌菜、冷饮等。这些食物可以帮助消暑解渴。您想吃哪一种呢？如果需要推荐具体的菜品或食谱，可以告诉我您的偏好。 耗时：2.44秒
2025-06-06 09:00:13,070 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 天热时可以吃一些清爽的食物，比如水果（西瓜、草莓、樱桃、梨等）、凉拌菜、冷饮等。这些食物可以帮助消暑解渴。您想吃哪一种呢？如果需要推荐具体的菜品或食谱，可以告诉我您的偏好。 耗时：2.44秒
INFO:     172.31.31.74:46162 - "POST /ai_assistant?query=%E5%A4%A9%E7%83%AD%E5%90%83%E4%BB%80%E4%B9%88%EF%BC%9F HTTP/1.1" 200 OK
2025-06-06 09:00:24,824 ChatBI->     INFO     收到的查询问题： 天热吃什么
2025-06-06 09:00:24,824 - ChatBI->  - INFO - 收到的查询问题： 天热吃什么
2025-06-06 09:00:25,586 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:00:25,588 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 09:00:25,588 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 09:00:26,952 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:00:26,954 ChatBI->     INFO     查询的类型agent 返回的结果: 天热时可以吃一些清爽的食物，比如水果（西瓜、草莓、樱桃等）、凉拌菜、冷饮等。这些食物可以帮助消暑解渴。您想了解具体的食谱或者推荐吗？ 耗时：2.13秒
2025-06-06 09:00:26,954 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 天热时可以吃一些清爽的食物，比如水果（西瓜、草莓、樱桃等）、凉拌菜、冷饮等。这些食物可以帮助消暑解渴。您想了解具体的食谱或者推荐吗？ 耗时：2.13秒
INFO:     172.31.31.74:46176 - "POST /ai_assistant?query=%E5%A4%A9%E7%83%AD%E5%90%83%E4%BB%80%E4%B9%88 HTTP/1.1" 200 OK
2025-06-06 09:00:36,460 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 09:00:36,460 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 09:00:37,190 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:00:37,192 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 09:00:37,192 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 09:00:41,459 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:00:47,390 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:00:47,393 ChatBI->     INFO     查询的类型agent 返回的结果: 根据网络信息，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：每天不超过6克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少油腻食品的摄入，每日用油量最好不超过50g。
3. 控制糖的摄入量：少食或者不食过甜的食物。
4. 优质蛋白饮食：包括食用瘦肉、鸡蛋、禽类及豆制品，保证每日蛋白质的摄入量在50-100g左右。
5. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
6. 控制饮酒量：尽量避免饮酒或少量饮用。
7. 注意饮食多样性，保证营养均衡。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.93秒
2025-06-06 09:00:47,393 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据网络信息，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：每天不超过6克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少油腻食品的摄入，每日用油量最好不超过50g。
3. 控制糖的摄入量：少食或者不食过甜的食物。
4. 优质蛋白饮食：包括食用瘦肉、鸡蛋、禽类及豆制品，保证每日蛋白质的摄入量在50-100g左右。
5. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
6. 控制饮酒量：尽量避免饮酒或少量饮用。
7. 注意饮食多样性，保证营养均衡。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.93秒
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
2025-06-06 09:03:37,616 ChatBI->     INFO     收到的查询问题： hello
2025-06-06 09:03:37,616 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-06 09:03:38,394 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:03:38,397 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 09:03:38,397 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 09:03:38,873 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:03:38,875 ChatBI->     INFO     查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.26秒
2025-06-06 09:03:38,875 - ChatBI->  - INFO - 查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：1.26秒
INFO:     172.31.31.74:46298 - "POST /ai_assistant?query=hello HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
2025-06-06 09:05:19,566 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 09:05:19,566 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 09:05:20,291 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:05:20,300 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 09:05:20,300 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 09:05:24,571 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:05:31,051 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:05:31,054 ChatBI->     INFO     查询的类型agent 返回的结果: 根据网络信息，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：每天不超过6克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少油腻食品的摄入，每日用油量最好不超过50g。
3. 控制糖的摄入量：少食或者不食过甜的食物。
4. 增加优质蛋白的摄入：包括食用瘦肉、鸡蛋、禽类及豆制品，保证每日蛋白质的摄入量在50-100g左右。
5. 增加钾和膳食纤维的摄入：多吃蔬菜、水果和粗粮，有助于降低血压。
6. 注意饮食多样性，保证营养均衡。
7. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：11.49秒
2025-06-06 09:05:31,054 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据网络信息，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：每天不超过6克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少油腻食品的摄入，每日用油量最好不超过50g。
3. 控制糖的摄入量：少食或者不食过甜的食物。
4. 增加优质蛋白的摄入：包括食用瘦肉、鸡蛋、禽类及豆制品，保证每日蛋白质的摄入量在50-100g左右。
5. 增加钾和膳食纤维的摄入：多吃蔬菜、水果和粗粮，有助于降低血压。
6. 注意饮食多样性，保证营养均衡。
7. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：11.49秒
2025-06-06 09:05:53,777 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 09:05:53,777 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么？
2025-06-06 09:05:54,503 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:05:54,506 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 09:05:54,506 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 09:05:58,777 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:06:04,324 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:06:04,327 ChatBI->     INFO     查询的类型agent 返回的结果: 根据网络信息，高血压老人在饮食上需要注意以下几点：

1. 控制盐的摄入量：高血压老人应该减少盐的摄入量，每天不超过6克。避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：高血压老人应该控制脂肪的摄入，少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 控制饮酒量：尽量避免饮酒或少量饮用。
5. 注意饮食多样性，保证营养均衡。
6. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.55秒
2025-06-06 09:06:04,327 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据网络信息，高血压老人在饮食上需要注意以下几点：

1. 控制盐的摄入量：高血压老人应该减少盐的摄入量，每天不超过6克。避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：高血压老人应该控制脂肪的摄入，少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 控制饮酒量：尽量避免饮酒或少量饮用。
5. 注意饮食多样性，保证营养均衡。
6. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.55秒
2025-06-06 09:06:30,567 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么
2025-06-06 09:06:30,567 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么
2025-06-06 09:06:31,332 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:06:31,335 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 09:06:31,335 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 09:06:35,207 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:06:35,210 ChatBI->     INFO     查询的类型agent 返回的结果: 高血压老人在饮食上应注意以下几点：
1. 低盐饮食：减少食盐摄入，每日食盐量不超过5克。
2. 控制脂肪摄入：少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 限制饮酒：尽量避免饮酒或少量饮用。
5. 保持适当体重：控制体重在正常范围内，避免肥胖。
6. 多喝水：保持充足的水分摄入，有助于稀释血液，降低血压。

建议您根据老人的具体情况调整饮食，并在医生指导下进行。 耗时：4.64秒
2025-06-06 09:06:35,210 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 高血压老人在饮食上应注意以下几点：
1. 低盐饮食：减少食盐摄入，每日食盐量不超过5克。
2. 控制脂肪摄入：少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 限制饮酒：尽量避免饮酒或少量饮用。
5. 保持适当体重：控制体重在正常范围内，避免肥胖。
6. 多喝水：保持充足的水分摄入，有助于稀释血液，降低血压。

建议您根据老人的具体情况调整饮食，并在医生指导下进行。 耗时：4.64秒
INFO:     172.31.31.74:46396 - "POST /ai_assistant?query=%E9%AB%98%E8%A1%80%E5%8E%8B%E8%80%81%E4%BA%BA%E9%A5%AE%E9%A3%9F%E8%A6%81%E6%B3%A8%E6%84%8F%E4%BB%80%E4%B9%88 HTTP/1.1" 200 OK
2025-06-06 09:07:44,905 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么?
2025-06-06 09:07:44,905 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么?
2025-06-06 09:07:45,705 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:07:45,708 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 09:07:45,708 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 09:07:50,273 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:07:56,037 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:07:56,039 ChatBI->     INFO     查询的类型agent 返回的结果: 根据搜索结果，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：每天不超过6克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：每日用油量最好不超过50g，少食油腻食品。
3. 控制糖的摄入量：少食或者不食过甜的食物。
4. 优质蛋白饮食：包括食用瘦肉、鸡蛋、禽类及豆制品，保证每日蛋白质的摄入量在50-100g左右。
5. 增加钾、膳食纤维的摄入量。
6. 控制饮酒量。
7. 注意饮食多样性，保证营养均衡。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：11.13秒
2025-06-06 09:07:56,039 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据搜索结果，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：每天不超过6克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：每日用油量最好不超过50g，少食油腻食品。
3. 控制糖的摄入量：少食或者不食过甜的食物。
4. 优质蛋白饮食：包括食用瘦肉、鸡蛋、禽类及豆制品，保证每日蛋白质的摄入量在50-100g左右。
5. 增加钾、膳食纤维的摄入量。
6. 控制饮酒量。
7. 注意饮食多样性，保证营养均衡。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：11.13秒
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
2025-06-06 09:15:03,426 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么?
2025-06-06 09:15:03,426 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么?
2025-06-06 09:15:04,131 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:15:04,134 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 09:15:04,134 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 09:15:08,675 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:15:14,626 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:15:14,629 ChatBI->     INFO     查询的类型agent 返回的结果: 根据搜索结果，高血压老人在饮食上需要注意以下几点：

1. 控制盐的摄入量：每日食盐摄入量不超过5克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少动物内脏、肥肉等高脂肪食物的摄入，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 适量补充钾和镁：有助于降低血压。
5. 保持饮食规律：定时定量，避免过饱。
6. 控制糖的摄入量：减少甜食和高糖饮料的摄入。
7. 饮食多样化：保证营养均衡。

同时，高血压老人还需要定期测量血压，按时服药，保持良好的生活习惯。如果有需要，可以咨询医生获取更专业的建议。 耗时：11.20秒
2025-06-06 09:15:14,629 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据搜索结果，高血压老人在饮食上需要注意以下几点：

1. 控制盐的摄入量：每日食盐摄入量不超过5克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少动物内脏、肥肉等高脂肪食物的摄入，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 适量补充钾和镁：有助于降低血压。
5. 保持饮食规律：定时定量，避免过饱。
6. 控制糖的摄入量：减少甜食和高糖饮料的摄入。
7. 饮食多样化：保证营养均衡。

同时，高血压老人还需要定期测量血压，按时服药，保持良好的生活习惯。如果有需要，可以咨询医生获取更专业的建议。 耗时：11.20秒
2025-06-06 09:16:22,762 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么
2025-06-06 09:16:22,762 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么
2025-06-06 09:16:23,550 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:16:23,554 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 09:16:23,554 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 09:16:27,457 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:16:27,459 ChatBI->     INFO     查询的类型agent 返回的结果: 高血压老人在饮食上应注意以下几点：
1. 低盐饮食：减少食盐摄入，每日食盐量不超过5克。
2. 控制脂肪摄入：少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 限制饮酒：尽量避免饮酒或少量饮用。
5. 保持适当体重：控制体重在正常范围内，避免肥胖。
6. 多喝水：保持充足的水分摄入，有助于稀释血液，降低血压。

建议您根据老人的具体情况调整饮食，并在医生指导下进行。 耗时：4.70秒
2025-06-06 09:16:27,459 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 高血压老人在饮食上应注意以下几点：
1. 低盐饮食：减少食盐摄入，每日食盐量不超过5克。
2. 控制脂肪摄入：少吃动物内脏、肥肉等高脂肪食物，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加膳食纤维：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 限制饮酒：尽量避免饮酒或少量饮用。
5. 保持适当体重：控制体重在正常范围内，避免肥胖。
6. 多喝水：保持充足的水分摄入，有助于稀释血液，降低血压。

建议您根据老人的具体情况调整饮食，并在医生指导下进行。 耗时：4.70秒
INFO:     172.31.31.74:46680 - "POST /ai_assistant?query=%E9%AB%98%E8%A1%80%E5%8E%8B%E8%80%81%E4%BA%BA%E9%A5%AE%E9%A3%9F%E8%A6%81%E6%B3%A8%E6%84%8F%E4%BB%80%E4%B9%88 HTTP/1.1" 200 OK
2025-06-06 09:16:46,127 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么?
2025-06-06 09:16:46,127 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么?
2025-06-06 09:16:46,844 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:16:46,846 ChatBI->     INFO     路由的输出: grade=False
2025-06-06 09:16:46,846 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-06 09:16:51,389 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:16:56,961 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 09:16:56,964 ChatBI->     INFO     查询的类型agent 返回的结果: 根据搜索结果，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：每天不超过6克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少动物内脏、肥肉等高脂肪食物的摄入，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 控制饮酒量：尽量避免饮酒，如果要喝，也要控制在适量范围内。
5. 注意饮食多样性，保证营养均衡。
6. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.84秒
2025-06-06 09:16:56,964 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据搜索结果，高血压老人的饮食需要注意以下几点：

1. 控制盐的摄入量：每天不超过6克，避免食用高盐食物，如咸菜、咸鱼、腌肉等。
2. 控制脂肪的摄入量：减少动物内脏、肥肉等高脂肪食物的摄入，多吃富含不饱和脂肪酸的食物，如深海鱼、坚果等。
3. 增加钾、膳食纤维的摄入量：多吃蔬菜、水果和粗粮，有助于降低血压。
4. 控制饮酒量：尽量避免饮酒，如果要喝，也要控制在适量范围内。
5. 注意饮食多样性，保证营养均衡。
6. 定期测量血压，按时服药，保持良好的生活习惯。

建议您根据老人的具体情况，结合医生的建议，制定合理的饮食计划。 耗时：10.84秒
2025-06-09 01:50:27,700 ChatBI->     INFO     收到的查询问题： 老人便秘吃什么有用？
2025-06-09 01:50:27,700 - ChatBI->  - INFO - 收到的查询问题： 老人便秘吃什么有用？
2025-06-09 01:50:41,834 ChatBI->     INFO     收到的查询问题： 老人便秘吃什么有用
2025-06-09 01:50:41,834 - ChatBI->  - INFO - 收到的查询问题： 老人便秘吃什么有用
2025-06-09 01:50:48,746 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:50:48,747 - openai._base_client - INFO - Retrying request to /chat/completions in 0.434959 seconds
2025-06-09 01:51:02,878 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:51:02,878 - openai._base_client - INFO - Retrying request to /chat/completions in 0.448013 seconds
2025-06-09 01:51:10,225 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:51:10,225 - openai._base_client - INFO - Retrying request to /chat/completions in 0.791928 seconds
2025-06-09 01:51:24,371 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:51:24,371 - openai._base_client - INFO - Retrying request to /chat/completions in 0.982872 seconds
2025-06-09 01:51:31,685 ChatBI->     INFO     收到的查询问题： 老人便秘吃什么有用
2025-06-09 01:51:31,685 - ChatBI->  - INFO - 收到的查询问题： 老人便秘吃什么有用
2025-06-09 01:51:32,052 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 01:51:46,396 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 01:51:52,733 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:51:52,733 - openai._base_client - INFO - Retrying request to /chat/completions in 0.473154 seconds
2025-06-09 01:51:55,831 ChatBI->     INFO     收到的查询问题： 123
2025-06-09 01:51:55,831 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-09 01:52:14,254 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:52:14,254 - openai._base_client - INFO - Retrying request to /chat/completions in 0.774923 seconds
2025-06-09 01:52:16,870 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:52:16,870 - openai._base_client - INFO - Retrying request to /chat/completions in 0.391938 seconds
2025-06-09 01:52:36,055 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 01:52:38,288 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:52:38,288 - openai._base_client - INFO - Retrying request to /chat/completions in 0.774621 seconds
2025-06-09 01:52:55,813 ChatBI->     INFO     收到的查询问题： 老人便秘吃什么有用
2025-06-09 01:52:55,813 - ChatBI->  - INFO - 收到的查询问题： 老人便秘吃什么有用
2025-06-09 01:53:00,111 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 01:53:16,860 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:53:16,861 - openai._base_client - INFO - Retrying request to /chat/completions in 0.480455 seconds
2025-06-09 01:53:38,383 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:53:38,384 - openai._base_client - INFO - Retrying request to /chat/completions in 0.928418 seconds
2025-06-09 01:54:00,362 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 01:54:00,552 ChatBI->     INFO     收到的查询问题： 高血压老人饮食要注意什么
2025-06-09 01:54:00,552 - ChatBI->  - INFO - 收到的查询问题： 高血压老人饮食要注意什么
2025-06-09 01:54:21,600 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:54:21,600 - openai._base_client - INFO - Retrying request to /chat/completions in 0.478635 seconds
2025-06-09 01:54:22,528 ChatBI->     INFO     收到的查询问题： 123
2025-06-09 01:54:22,528 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-09 01:54:40,617 ChatBI->     INFO     收到的查询问题： 123
2025-06-09 01:54:40,617 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-09 01:54:43,116 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:54:43,117 - openai._base_client - INFO - Retrying request to /chat/completions in 0.788555 seconds
2025-06-09 01:54:43,572 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:54:43,572 - openai._base_client - INFO - Retrying request to /chat/completions in 0.474184 seconds
2025-06-09 01:55:01,661 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:55:01,661 - openai._base_client - INFO - Retrying request to /chat/completions in 0.462310 seconds
2025-06-09 01:55:04,950 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 01:55:05,090 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:55:05,090 - openai._base_client - INFO - Retrying request to /chat/completions in 0.934580 seconds
2025-06-09 01:55:05,690 ChatBI->     INFO     收到的查询问题： hello
2025-06-09 01:55:05,690 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-09 01:55:23,168 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:55:23,169 - openai._base_client - INFO - Retrying request to /chat/completions in 0.974096 seconds
2025-06-09 01:55:26,742 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:55:26,742 - openai._base_client - INFO - Retrying request to /chat/completions in 0.458534 seconds
2025-06-09 01:55:27,070 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 01:55:45,166 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 01:55:48,231 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:55:48,232 - openai._base_client - INFO - Retrying request to /chat/completions in 0.949776 seconds
2025-06-09 01:56:02,365 ChatBI->     INFO     收到的查询问题： hello
2025-06-09 01:56:02,365 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-09 01:56:10,231 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.31.31.74:44068 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 01:56:23,420 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:56:23,421 - openai._base_client - INFO - Retrying request to /chat/completions in 0.390361 seconds
INFO:     172.33.9.48:3715 - "GET /ai_assistant?query=hello HTTP/1.1" 405 Method Not Allowed
INFO:     172.33.9.48:3715 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-06-09 01:56:44,865 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:56:44,866 - openai._base_client - INFO - Retrying request to /chat/completions in 0.773363 seconds
2025-06-09 01:57:06,678 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 01:57:09,408 ChatBI->     INFO     收到的查询问题： hello
2025-06-09 01:57:09,408 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-09 01:57:22,130 ChatBI->     INFO     收到的查询问题： hello
2025-06-09 01:57:22,130 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-09 01:57:30,462 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:57:30,463 - openai._base_client - INFO - Retrying request to /chat/completions in 0.459723 seconds
2025-06-09 01:57:43,171 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:57:43,171 - openai._base_client - INFO - Retrying request to /chat/completions in 0.462176 seconds
2025-06-09 01:57:51,970 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:57:51,970 - openai._base_client - INFO - Retrying request to /chat/completions in 0.755380 seconds
2025-06-09 01:58:04,666 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:58:04,666 - openai._base_client - INFO - Retrying request to /chat/completions in 0.780767 seconds
2025-06-09 01:58:13,771 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.33.9.48:3739 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 01:58:25,693 ChatBI->     INFO     收到的查询问题： 123
2025-06-09 01:58:25,693 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-09 01:58:26,488 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.31.31.74:44102 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 01:58:46,740 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:58:46,740 - openai._base_client - INFO - Retrying request to /chat/completions in 0.384719 seconds
2025-06-09 01:59:08,157 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 01:59:08,157 - openai._base_client - INFO - Retrying request to /chat/completions in 0.774044 seconds
2025-06-09 01:59:29,966 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 02:01:56,855 ChatBI->     INFO     收到的查询问题： 123
2025-06-09 02:01:56,855 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-09 02:02:17,907 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 02:02:17,908 - openai._base_client - INFO - Retrying request to /chat/completions in 0.446978 seconds
2025-06-09 02:02:39,400 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 02:02:39,401 - openai._base_client - INFO - Retrying request to /chat/completions in 0.781454 seconds
2025-06-09 02:03:00,380 ChatBI->     INFO     收到的查询问题： 123
2025-06-09 02:03:00,380 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-09 02:03:01,223 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 02:03:12,624 ChatBI->     INFO     收到的查询问题： 1234
2025-06-09 02:03:12,624 - ChatBI->  - INFO - 收到的查询问题： 1234
2025-06-09 02:03:21,435 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 02:03:21,435 - openai._base_client - INFO - Retrying request to /chat/completions in 0.381487 seconds
2025-06-09 02:03:33,672 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 02:03:33,673 - openai._base_client - INFO - Retrying request to /chat/completions in 0.445786 seconds
2025-06-09 02:03:42,858 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 02:03:42,859 - openai._base_client - INFO - Retrying request to /chat/completions in 0.773251 seconds
2025-06-09 02:03:55,164 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 02:03:55,164 - openai._base_client - INFO - Retrying request to /chat/completions in 0.816297 seconds
2025-06-09 02:04:04,677 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 02:04:17,026 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 02:32:48,055 ChatBI->     INFO     收到的查询问题： hello
2025-06-09 02:32:48,055 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-09 02:33:09,097 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 02:33:09,098 - openai._base_client - INFO - Retrying request to /chat/completions in 0.441373 seconds
2025-06-09 02:33:30,577 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 02:33:30,578 - openai._base_client - INFO - Retrying request to /chat/completions in 0.985572 seconds
2025-06-09 02:33:52,603 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.33.9.48:12847 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 07:16:20,525 ChatBI->     INFO     收到的查询问题： hello
2025-06-09 07:16:20,525 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-09 07:16:41,589 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 07:16:41,589 - openai._base_client - INFO - Retrying request to /chat/completions in 0.427986 seconds
2025-06-09 07:17:03,055 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 07:17:03,055 - openai._base_client - INFO - Retrying request to /chat/completions in 0.997674 seconds
2025-06-09 07:17:25,089 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.31.31.74:49168 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 07:24:00,653 ChatBI->     INFO     收到的查询问题： 养老政策
2025-06-09 07:24:00,653 - ChatBI->  - INFO - 收到的查询问题： 养老政策
2025-06-09 07:24:21,704 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 07:24:21,704 - openai._base_client - INFO - Retrying request to /chat/completions in 0.381894 seconds
2025-06-09 07:24:21,708 ChatBI->     INFO     收到的查询问题： 保健品能完全替代健康饮食吗
2025-06-09 07:24:21,708 - ChatBI->  - INFO - 收到的查询问题： 保健品能完全替代健康饮食吗
2025-06-09 07:24:42,753 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 07:24:42,754 - openai._base_client - INFO - Retrying request to /chat/completions in 0.419046 seconds
2025-06-09 07:24:43,128 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 07:24:43,128 - openai._base_client - INFO - Retrying request to /chat/completions in 0.821203 seconds
2025-06-09 07:25:04,200 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 07:25:04,200 - openai._base_client - INFO - Retrying request to /chat/completions in 0.914920 seconds
2025-06-09 07:25:04,984 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 07:25:26,169 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 17:03:09,478 ChatBI->     INFO     收到的查询问题： 123
2025-06-09 17:03:09,478 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-09 17:03:30,511 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 17:03:30,511 - openai._base_client - INFO - Retrying request to /chat/completions in 0.423725 seconds
2025-06-09 17:03:51,990 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 17:03:51,990 - openai._base_client - INFO - Retrying request to /chat/completions in 0.972282 seconds
2025-06-09 17:04:14,010 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 17:08:14,761 ChatBI->     INFO     收到的查询问题： 123
2025-06-09 17:08:14,761 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-09 17:08:35,815 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 17:08:35,816 - openai._base_client - INFO - Retrying request to /chat/completions in 0.461826 seconds
2025-06-09 17:08:57,220 ChatBI->     INFO     收到的查询问题： hello
2025-06-09 17:08:57,220 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-09 17:08:57,324 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 17:08:57,325 - openai._base_client - INFO - Retrying request to /chat/completions in 0.949934 seconds
2025-06-09 17:09:04,119 ChatBI->     INFO     收到的查询问题： 123
2025-06-09 17:09:04,119 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-09 17:09:18,270 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 17:09:18,271 - openai._base_client - INFO - Retrying request to /chat/completions in 0.453601 seconds
2025-06-09 17:09:19,322 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 17:09:25,154 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 17:09:25,154 - openai._base_client - INFO - Retrying request to /chat/completions in 0.398716 seconds
2025-06-09 17:09:39,763 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 17:09:39,763 - openai._base_client - INFO - Retrying request to /chat/completions in 0.754572 seconds
2025-06-09 17:09:46,596 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 17:09:46,597 - openai._base_client - INFO - Retrying request to /chat/completions in 0.948897 seconds
2025-06-09 17:10:01,570 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.31.31.74:51074 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 17:10:08,591 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
2025-06-09 17:12:01,569 ChatBI->     INFO     收到的查询问题： hello
2025-06-09 17:12:01,569 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-09 17:12:22,611 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 17:12:22,612 - openai._base_client - INFO - Retrying request to /chat/completions in 0.383237 seconds
2025-06-09 17:12:44,040 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 17:12:44,040 - openai._base_client - INFO - Retrying request to /chat/completions in 0.926334 seconds
2025-06-09 17:13:06,022 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.31.31.74:51188 - "POST /ai_assistant?query=hello HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
INFO:     172.33.12.23:53381 - "GET /docs HTTP/1.1" 200 OK
INFO:     172.33.12.23:53382 - "GET /openapi.json HTTP/1.1" 200 OK
2025-06-09 17:16:07,281 ChatBI->     INFO     收到的查询问题： 讲个笑话把
2025-06-09 17:16:07,281 - ChatBI->  - INFO - 收到的查询问题： 讲个笑话把
2025-06-09 17:16:28,328 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 17:16:28,328 - openai._base_client - INFO - Retrying request to /chat/completions in 0.443948 seconds
2025-06-09 17:16:49,823 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-06-09 17:16:49,823 - openai._base_client - INFO - Retrying request to /chat/completions in 0.884113 seconds
2025-06-09 17:17:11,749 - httpx - INFO - HTTP Request: POST http://172.31.24.23:8001/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
INFO:     172.33.12.23:53673 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E7%AC%91%E8%AF%9D%E6%8A%8A HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/liucd/project/server.py", line 28, in chat
    output = await router_chain.ainvoke({'query': query, 'function_module': function_module})
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3089, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5443, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 393, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 967, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 925, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1093, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1149, in _agenerate
    response = await self.root_async_client.beta.chat.completions.parse(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 437, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1742, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/liucd/lib/python3.12/site-packages/openai/_base_client.py", line 1549, in request
    raise self._make_status_error_from_response(err.response) from None
openai.InternalServerError: 代理错误：connect ETIMEDOUT 192.168.0.11:8011
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1522983]
2025-06-09 17:19:15,141 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-06-09 17:19:15,158 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-06-09 17:19:15,161 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
INFO:     Started server process [3181977]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:9020 (Press CTRL+C to quit)
2025-06-09 17:19:15,752 ChatBI->     INFO     收到的查询问题： 讲个笑话把
2025-06-09 17:19:15,752 - ChatBI->  - INFO - 收到的查询问题： 讲个笑话把
2025-06-09 17:19:16,476 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:19:16,488 ChatBI->     INFO     路由的输出: grade=False
2025-06-09 17:19:16,488 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-09 17:19:17,909 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:19:17,911 ChatBI->     INFO     查询的类型agent 返回的结果: 好的，这是一个笑话：

有一天，小明去问老师：“老师，为什么我们不能在树上开超市？”
老师回答说：“因为那里没有顾客。”
小明想了想，又问：“那我们为什么不把超市开在天上呢？”
老师笑着说：“因为那里没有苹果。”

希望你喜欢这个笑话！ 耗时：2.16秒
2025-06-09 17:19:17,911 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 好的，这是一个笑话：

有一天，小明去问老师：“老师，为什么我们不能在树上开超市？”
老师回答说：“因为那里没有顾客。”
小明想了想，又问：“那我们为什么不把超市开在天上呢？”
老师笑着说：“因为那里没有苹果。”

希望你喜欢这个笑话！ 耗时：2.16秒
content='当然可以！这是一个经典的笑话：\n\n有一天，小明去理发店理发。理发师问他：“你喜欢哪种发型？”小明说：“我喜欢光头。”理发师惊讶地问：“为什么呢？”小明回答：“因为光头最时尚！”' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 52, 'prompt_tokens': 32, 'total_tokens': 84, 'completion_tokens_details': None, 'prompt_tokens_details': None}, 'model_name': 'text2sql2', 'system_fingerprint': None, 'id': 'chatcmpl-5584733b13364277b11554e6f0b77d81', 'service_tier': None, 'finish_reason': 'stop', 'logprobs': None} id='run--fd9f9429-6f74-4dc9-8f43-bf8820fed335-0' usage_metadata={'input_tokens': 32, 'output_tokens': 52, 'total_tokens': 84, 'input_token_details': {}, 'output_token_details': {}}
log_2025-06-09-17-19-13.log
Node properties:
- **Disease**
  - `desc`: STRING Example: "肺泡蛋白质沉积症(简称PAP)，又称Rosen-Castle-man-Liebow综合征，是一种罕见"
  - `easy_get`: STRING Example: ""
  - `cure_lasttime`: STRING Example: "约3个月"
  - `cured_prob`: STRING Example: "约40%"
  - `prevent`: STRING Example: "1、避免感染分支杆菌病，卡氏肺囊肿肺炎，巨细胞病毒等。 2、注意锻炼身体，提高免疫力。"
  - `name`: STRING Example: "肺泡蛋白质沉积症"
  - `cause`: STRING Example: "病因未明，推测与几方面因素有关：如大量粉尘吸入（铝，二氧化硅等），机体免疫功能下降（尤其婴幼儿），遗"
- **Drug**
  - `name`: STRING Example: "橡皮生肌膏"
- **Food**
  - `name`: STRING Example: "绿豆荷叶粥"
- **Check**
  - `name`: STRING Example: "精液检查"
- **Department**
  - `name`: STRING Example: "骨外科"
- **Producer**
  - `name`: STRING Example: "英联生物消癌平片"
- **Symptom**
  - `name`: STRING Example: "日常生活能力减..."
Relationship properties:
- **recommand_eat**
  - `name`: STRING Example: "推荐食谱"
- **no_eat**
  - `name`: STRING Example: "忌吃"
- **do_eat**
  - `name`: STRING Example: "宜吃"
- **belongs_to**
  - `name`: STRING Available options: ['属于', '所属科室']
- **common_drug**
  - `name`: STRING Example: "常用药品"
- **drugs_of**
  - `name`: STRING Example: "生产药品"
- **recommand_drug**
  - `name`: STRING Example: "好评药品"
- **need_check**
  - `name`: STRING Example: "诊断检查"
- **has_symptom**
  - `name`: STRING Example: "症状"
- **acompany_with**
  - `name`: STRING Example: "并发症"
The relationships:
(:Disease)-[:belongs_to]->(:Department)
(:Disease)-[:common_drug]->(:Drug)
(:Disease)-[:recommand_drug]->(:Drug)
(:Disease)-[:need_check]->(:Check)
(:Disease)-[:has_symptom]->(:Symptom)
(:Disease)-[:acompany_with]->(:Disease)
(:Disease)-[:recommand_eat]->(:Food)
(:Disease)-[:no_eat]->(:Food)
(:Disease)-[:do_eat]->(:Food)
(:Department)-[:belongs_to]->(:Department)
(:Producer)-[:drugs_of]->(:Drug)
INFO:     172.33.12.23:56937 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E7%AC%91%E8%AF%9D%E6%8A%8A HTTP/1.1" 200 OK
2025-06-09 17:19:41,467 ChatBI->     INFO     收到的查询问题： hello
2025-06-09 17:19:41,467 - ChatBI->  - INFO - 收到的查询问题： hello
2025-06-09 17:19:41,751 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:19:41,753 ChatBI->     INFO     路由的输出: grade=False
2025-06-09 17:19:41,753 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-09 17:19:41,982 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:19:41,984 ChatBI->     INFO     查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：0.52秒
2025-06-09 17:19:41,984 - ChatBI->  - INFO - 查询的类型agent 返回的结果: Hello! How can I assist you today? 耗时：0.52秒
INFO:     172.31.31.74:51338 - "POST /ai_assistant?query=hello HTTP/1.1" 200 OK
2025-06-09 17:20:39,054 ChatBI->     INFO     收到的查询问题： 心脏病吃什么药
2025-06-09 17:20:39,054 - ChatBI->  - INFO - 收到的查询问题： 心脏病吃什么药
2025-06-09 17:20:39,328 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:20:39,330 ChatBI->     INFO     路由的输出: grade=False
2025-06-09 17:20:39,330 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-09 17:20:39,904 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:20:39,906 ChatBI->     INFO     查询的类型agent 返回的结果: {
  "name": "get_knowledge",
  "arguments": {
    "query": "心脏病应该吃什么药"
  }
} 耗时：0.85秒
2025-06-09 17:20:39,906 - ChatBI->  - INFO - 查询的类型agent 返回的结果: {
  "name": "get_knowledge",
  "arguments": {
    "query": "心脏病应该吃什么药"
  }
} 耗时：0.85秒
INFO:     172.31.31.74:51368 - "POST /ai_assistant?query=%E5%BF%83%E8%84%8F%E7%97%85%E5%90%83%E4%BB%80%E4%B9%88%E8%8D%AF HTTP/1.1" 200 OK
2025-06-09 17:21:37,854 ChatBI->     INFO     收到的查询问题： 明天上海天气怎么样
2025-06-09 17:21:37,854 - ChatBI->  - INFO - 收到的查询问题： 明天上海天气怎么样
2025-06-09 17:21:38,130 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:21:38,133 ChatBI->     INFO     路由的输出: grade=False
2025-06-09 17:21:38,133 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-09 17:21:38,770 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:21:38,772 ChatBI->     INFO     查询的类型agent 返回的结果: <tools>
{
  "name": "get_weather",
  "arguments": {
    "city_name": "上海市"
  }
}
</tools> 耗时：0.92秒
2025-06-09 17:21:38,772 - ChatBI->  - INFO - 查询的类型agent 返回的结果: <tools>
{
  "name": "get_weather",
  "arguments": {
    "city_name": "上海市"
  }
}
</tools> 耗时：0.92秒
INFO:     172.31.31.74:51410 - "POST /ai_assistant?query=%E6%98%8E%E5%A4%A9%E4%B8%8A%E6%B5%B7%E5%A4%A9%E6%B0%94%E6%80%8E%E4%B9%88%E6%A0%B7 HTTP/1.1" 200 OK
2025-06-09 17:22:16,359 ChatBI->     INFO     收到的查询问题： 夏天吃什么水果
2025-06-09 17:22:16,359 - ChatBI->  - INFO - 收到的查询问题： 夏天吃什么水果
2025-06-09 17:22:16,632 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:22:16,634 ChatBI->     INFO     路由的输出: grade=False
2025-06-09 17:22:16,634 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-09 17:22:17,303 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:22:17,305 ChatBI->     INFO     查询的类型agent 返回的结果: <tools>
{
  "name": "web_search",
  "arguments": {
    "query": "夏天适合吃的水果"
  }
}
</tools> 耗时：0.95秒
2025-06-09 17:22:17,305 - ChatBI->  - INFO - 查询的类型agent 返回的结果: <tools>
{
  "name": "web_search",
  "arguments": {
    "query": "夏天适合吃的水果"
  }
}
</tools> 耗时：0.95秒
INFO:     172.31.31.74:51434 - "POST /ai_assistant?query=%E5%A4%8F%E5%A4%A9%E5%90%83%E4%BB%80%E4%B9%88%E6%B0%B4%E6%9E%9C HTTP/1.1" 200 OK
2025-06-09 17:22:46,718 ChatBI->     INFO     收到的查询问题： 如何通过饮食改善睡眠质量
2025-06-09 17:22:46,718 - ChatBI->  - INFO - 收到的查询问题： 如何通过饮食改善睡眠质量
2025-06-09 17:22:46,972 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:22:46,974 ChatBI->     INFO     路由的输出: grade=False
2025-06-09 17:22:46,974 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-09 17:22:47,534 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:22:47,536 ChatBI->     INFO     查询的类型agent 返回的结果: <tools>
{"name": "web_search", "arguments": {"query": "如何通过饮食改善睡眠质量"}}
</tools> 耗时：0.82秒
2025-06-09 17:22:47,536 - ChatBI->  - INFO - 查询的类型agent 返回的结果: <tools>
{"name": "web_search", "arguments": {"query": "如何通过饮食改善睡眠质量"}}
</tools> 耗时：0.82秒
INFO:     172.31.31.74:51448 - "POST /ai_assistant?query=%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87%E9%A5%AE%E9%A3%9F%E6%94%B9%E5%96%84%E7%9D%A1%E7%9C%A0%E8%B4%A8%E9%87%8F HTTP/1.1" 200 OK
2025-06-09 17:24:35,462 ChatBI->     INFO     收到的查询问题： 睡眠质量
2025-06-09 17:24:35,462 - ChatBI->  - INFO - 收到的查询问题： 睡眠质量
2025-06-09 17:24:35,745 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:24:35,747 ChatBI->     INFO     路由的输出: grade=False
2025-06-09 17:24:35,747 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-09 17:24:36,421 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:24:36,423 ChatBI->     INFO     查询的类型agent 返回的结果: <tools>
{"name": "web_search", "arguments": {"query": "睡眠质量改善方法"}}
</tools> 耗时：0.96秒
2025-06-09 17:24:36,423 - ChatBI->  - INFO - 查询的类型agent 返回的结果: <tools>
{"name": "web_search", "arguments": {"query": "睡眠质量改善方法"}}
</tools> 耗时：0.96秒
INFO:     172.31.31.74:51482 - "POST /ai_assistant?query=%E7%9D%A1%E7%9C%A0%E8%B4%A8%E9%87%8F HTTP/1.1" 200 OK
2025-06-09 17:30:22,511 ChatBI->     INFO     收到的查询问题： 今天天气如何
2025-06-09 17:30:22,511 - ChatBI->  - INFO - 收到的查询问题： 今天天气如何
2025-06-09 17:30:22,785 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:30:22,788 ChatBI->     INFO     路由的输出: grade=False
2025-06-09 17:30:22,788 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-09 17:30:23,462 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:30:23,465 ChatBI->     INFO     查询的类型agent 返回的结果: <tools>
{
  "name": "get_weather",
  "arguments": {
    "city_name": "上海市"
  }
}
</tools> 耗时：0.95秒
2025-06-09 17:30:23,465 - ChatBI->  - INFO - 查询的类型agent 返回的结果: <tools>
{
  "name": "get_weather",
  "arguments": {
    "city_name": "上海市"
  }
}
</tools> 耗时：0.95秒
INFO:     172.33.12.23:52646 - "POST /ai_assistant?query=%E4%BB%8A%E5%A4%A9%E5%A4%A9%E6%B0%94%E5%A6%82%E4%BD%95 HTTP/1.1" 200 OK
2025-06-09 17:30:33,012 ChatBI->     INFO     收到的查询问题： 123
2025-06-09 17:30:33,012 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-09 17:30:33,278 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:30:33,287 ChatBI->     INFO     路由的输出: grade=False
2025-06-09 17:30:33,287 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-09 17:30:33,487 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:30:33,489 ChatBI->     INFO     查询的类型agent 返回的结果: 抱歉，我不太明白你的意思。 耗时：0.48秒
2025-06-09 17:30:33,489 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 抱歉，我不太明白你的意思。 耗时：0.48秒
INFO:     172.31.31.74:51716 - "POST /ai_assistant?query=123 HTTP/1.1" 200 OK
2025-06-09 17:30:53,986 ChatBI->     INFO     收到的查询问题： 讲个笑话
2025-06-09 17:30:53,986 - ChatBI->  - INFO - 收到的查询问题： 讲个笑话
2025-06-09 17:30:54,283 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:30:54,286 ChatBI->     INFO     路由的输出: grade=False
2025-06-09 17:30:54,286 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-09 17:30:56,099 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:30:56,102 ChatBI->     INFO     查询的类型agent 返回的结果: 好的，这是一个笑话：

有一天，小明去问老师：“老师，为什么太阳会从东边出来西边落下？”
老师回答说：“因为这是自然规律。”
小明又问：“那为什么地球是圆的呢？”
老师回答说：“因为这是科学事实。”
小明再问：“那为什么我妈妈说我是她亲生的呢？”
老师回答说：“因为这是家庭传统。”

希望你喜欢这个笑话！ 耗时：2.12秒
2025-06-09 17:30:56,102 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 好的，这是一个笑话：

有一天，小明去问老师：“老师，为什么太阳会从东边出来西边落下？”
老师回答说：“因为这是自然规律。”
小明又问：“那为什么地球是圆的呢？”
老师回答说：“因为这是科学事实。”
小明再问：“那为什么我妈妈说我是她亲生的呢？”
老师回答说：“因为这是家庭传统。”

希望你喜欢这个笑话！ 耗时：2.12秒
INFO:     172.31.31.74:51728 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E7%AC%91%E8%AF%9D HTTP/1.1" 200 OK
2025-06-09 17:31:30,779 ChatBI->     INFO     收到的查询问题： 123
2025-06-09 17:31:30,779 - ChatBI->  - INFO - 收到的查询问题： 123
2025-06-09 17:31:31,045 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:31:31,048 ChatBI->     INFO     路由的输出: grade=False
2025-06-09 17:31:31,048 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-09 17:31:31,246 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:31:31,248 ChatBI->     INFO     查询的类型agent 返回的结果: 抱歉，我不太明白你的意思。 耗时：0.47秒
2025-06-09 17:31:31,248 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 抱歉，我不太明白你的意思。 耗时：0.47秒
INFO:     172.31.31.74:51748 - "POST /ai_assistant?query=123 HTTP/1.1" 200 OK
2025-06-09 17:31:37,255 ChatBI->     INFO     收到的查询问题： 讲个笑话
2025-06-09 17:31:37,255 - ChatBI->  - INFO - 收到的查询问题： 讲个笑话
2025-06-09 17:31:37,538 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:31:37,541 ChatBI->     INFO     路由的输出: grade=False
2025-06-09 17:31:37,541 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-09 17:31:39,341 - httpx - INFO - HTTP Request: POST http://172.31.24.111:33071/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-09 17:31:39,344 ChatBI->     INFO     查询的类型agent 返回的结果: 好的，这是一个笑话：

有一天，小明去问老师：“老师，为什么太阳会从东边出来西边落下？”
老师回答说：“因为这是自然规律。”
小明又问：“那为什么地球是圆的呢？”
老师回答说：“因为这是科学事实。”
小明再问：“那为什么我妈妈说我是她亲生的呢？”
老师回答说：“因为这是家庭传统。”

希望你喜欢这个笑话！ 耗时：2.09秒
2025-06-09 17:31:39,344 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 好的，这是一个笑话：

有一天，小明去问老师：“老师，为什么太阳会从东边出来西边落下？”
老师回答说：“因为这是自然规律。”
小明又问：“那为什么地球是圆的呢？”
老师回答说：“因为这是科学事实。”
小明再问：“那为什么我妈妈说我是她亲生的呢？”
老师回答说：“因为这是家庭传统。”

希望你喜欢这个笑话！ 耗时：2.09秒
INFO:     172.31.31.74:51756 - "POST /ai_assistant?query=%E8%AE%B2%E4%B8%AA%E7%AC%91%E8%AF%9D HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3181977]
2025-06-09 17:51:47,269 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-06-09 17:51:47,288 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-06-09 17:51:47,291 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
INFO:     Started server process [3234703]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:9020 (Press CTRL+C to quit)
2025-06-10 09:25:47,439 ChatBI->     INFO     收到的查询问题： 如何通过饮食改善睡眠质量
2025-06-10 09:25:47,439 - ChatBI->  - INFO - 收到的查询问题： 如何通过饮食改善睡眠质量
2025-06-10 09:25:48,273 - httpx - INFO - HTTP Request: POST http://172.31.24.110:33079/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:25:48,290 ChatBI->     INFO     路由的输出: grade=False
2025-06-10 09:25:48,290 - ChatBI->  - INFO - 路由的输出: grade=False
2025-06-10 09:25:51,150 - httpx - INFO - HTTP Request: POST http://172.31.24.110:33079/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:25:56,852 - httpx - INFO - HTTP Request: POST http://172.31.24.110:33079/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-10 09:25:56,855 ChatBI->     INFO     查询的类型agent 返回的结果: 根据网络搜索结果，以下是一些有助于改善睡眠质量的食物：

1. 核桃：核桃可以提高大脑细胞活性，改善失眠和健忘等现象。
2. 牛奶：牛奶可以镇静精神，帮助快速进入睡眠状态。
3. 小米：小米有助于安神，改善睡眠。
4. 香蕉：香蕉含有丰富的钾和镁，有助于放松肌肉，改善睡眠。
5. 蔓越莓：蔓越莓含有褪黑素，有助于调节睡眠。
6. 杏仁：杏仁含有镁，有助于安神。

此外，还可以适量进食含维生素、优质蛋白、膳食纤维类食物，如豆制品、瘦肉、鱼类等。水果如香蕉、苹果、龙眼等对促进睡眠也有一定辅助作用。但需要注意的是，饮食只能作为辅助手段，如果睡眠问题持续存在，建议寻求专业医生的帮助。 耗时：9.42秒
2025-06-10 09:25:56,855 - ChatBI->  - INFO - 查询的类型agent 返回的结果: 根据网络搜索结果，以下是一些有助于改善睡眠质量的食物：

1. 核桃：核桃可以提高大脑细胞活性，改善失眠和健忘等现象。
2. 牛奶：牛奶可以镇静精神，帮助快速进入睡眠状态。
3. 小米：小米有助于安神，改善睡眠。
4. 香蕉：香蕉含有丰富的钾和镁，有助于放松肌肉，改善睡眠。
5. 蔓越莓：蔓越莓含有褪黑素，有助于调节睡眠。
6. 杏仁：杏仁含有镁，有助于安神。

此外，还可以适量进食含维生素、优质蛋白、膳食纤维类食物，如豆制品、瘦肉、鱼类等。水果如香蕉、苹果、龙眼等对促进睡眠也有一定辅助作用。但需要注意的是，饮食只能作为辅助手段，如果睡眠问题持续存在，建议寻求专业医生的帮助。 耗时：9.42秒
content='当然可以，接下来是一个轻松的笑话：\n\n为什么电脑经常生病？\n\n因为它的窗户（Windows）总是开着。' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 24, 'prompt_tokens': 32, 'total_tokens': 56, 'completion_tokens_details': None, 'prompt_tokens_details': None}, 'model_name': 'Qwen2.5-14B-Instruct', 'system_fingerprint': None, 'id': 'chatcmpl-de696912558f43b09fbc267d29e17a98', 'service_tier': None, 'finish_reason': 'stop', 'logprobs': None} id='run--13a44677-29ea-467c-8e02-02cd86a6f966-0' usage_metadata={'input_tokens': 32, 'output_tokens': 24, 'total_tokens': 56, 'input_token_details': {}, 'output_token_details': {}}
log_2025-06-09-17-51-46.log
Node properties:
- **Disease**
  - `desc`: STRING Example: "肺泡蛋白质沉积症(简称PAP)，又称Rosen-Castle-man-Liebow综合征，是一种罕见"
  - `easy_get`: STRING Example: ""
  - `cure_lasttime`: STRING Example: "约3个月"
  - `cured_prob`: STRING Example: "约40%"
  - `prevent`: STRING Example: "1、避免感染分支杆菌病，卡氏肺囊肿肺炎，巨细胞病毒等。 2、注意锻炼身体，提高免疫力。"
  - `name`: STRING Example: "肺泡蛋白质沉积症"
  - `cause`: STRING Example: "病因未明，推测与几方面因素有关：如大量粉尘吸入（铝，二氧化硅等），机体免疫功能下降（尤其婴幼儿），遗"
- **Drug**
  - `name`: STRING Example: "橡皮生肌膏"
- **Food**
  - `name`: STRING Example: "绿豆荷叶粥"
- **Check**
  - `name`: STRING Example: "精液检查"
- **Department**
  - `name`: STRING Example: "骨外科"
- **Producer**
  - `name`: STRING Example: "英联生物消癌平片"
- **Symptom**
  - `name`: STRING Example: "日常生活能力减..."
Relationship properties:
- **recommand_eat**
  - `name`: STRING Example: "推荐食谱"
- **no_eat**
  - `name`: STRING Example: "忌吃"
- **do_eat**
  - `name`: STRING Example: "宜吃"
- **belongs_to**
  - `name`: STRING Available options: ['属于', '所属科室']
- **common_drug**
  - `name`: STRING Example: "常用药品"
- **drugs_of**
  - `name`: STRING Example: "生产药品"
- **recommand_drug**
  - `name`: STRING Example: "好评药品"
- **need_check**
  - `name`: STRING Example: "诊断检查"
- **has_symptom**
  - `name`: STRING Example: "症状"
- **acompany_with**
  - `name`: STRING Example: "并发症"
The relationships:
(:Disease)-[:belongs_to]->(:Department)
(:Disease)-[:common_drug]->(:Drug)
(:Disease)-[:recommand_drug]->(:Drug)
(:Disease)-[:need_check]->(:Check)
(:Disease)-[:has_symptom]->(:Symptom)
(:Disease)-[:acompany_with]->(:Disease)
(:Disease)-[:recommand_eat]->(:Food)
(:Disease)-[:no_eat]->(:Food)
(:Disease)-[:do_eat]->(:Food)
(:Department)-[:belongs_to]->(:Department)
(:Producer)-[:drugs_of]->(:Drug)
INFO:     172.31.31.74:37928 - "POST /ai_assistant?query=%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87%E9%A5%AE%E9%A3%9F%E6%94%B9%E5%96%84%E7%9D%A1%E7%9C%A0%E8%B4%A8%E9%87%8F HTTP/1.1" 200 OK
